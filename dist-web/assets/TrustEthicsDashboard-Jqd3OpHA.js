import{r as m,j as e}from"./index-BquUM_dP.js";import{useTrustDashboardStore as _}from"./trustDashboardStore-CKKody0H.js";import{b as $}from"./AppShell-BXhI_JTh.js";import{c as b,m as I}from"./proxy-BIEmBbur.js";import{S as M}from"./shield-Ce_H0Kiu.js";import{R as E}from"./refresh-cw-BV6giV6D.js";import{C as w}from"./circle-check-DDsejJ4f.js";import{X as L}from"./x-C_5K_ivr.js";import{S}from"./shield-check--KexTCwB.js";import{S as u}from"./shield-alert-BHPhLHIy.js";import{C as D}from"./clock-gSt0ZU7N.js";import{T as U}from"./triangle-alert-CrRrQux7.js";import{A as q}from"./activity-BycRfeKU.js";import{f}from"./formatDistanceToNow-Ctx6mZEP.js";import"./ipc-events-CqodUROu.js";import"./use-ipc-event-CcVO0A42.js";import"./Portal-BzN9CTBx.js";import"./OmniDesk-BdBOPLft.js";import"./agentStreamStore-BcjkWHdN.js";import"./cloud-BWs6gXbb.js";import"./sparkles-B3IeNLsk.js";import"./search-RYizLTqL.js";import"./index-TWPLI6s_.js";const B=b("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const F=b("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);const O=b("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);const P=b("Radar",[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]]),H={download:"Download file",form_submit:"Submit form",login:"Login request",scrape:"Scrape content",export_data:"Export data",access_clipboard:"Clipboard access",access_camera:"Camera access",access_microphone:"Microphone access",access_filesystem:"Filesystem access",ai_cloud:"Cloud AI call"};function be(){const{visible:a,loading:r,error:d,consentTimeline:n,trustSignals:l,shieldsStatus:c,privacyAudit:t,consentStats:i,blockedSummary:g,lastUpdated:j,refresh:x,close:z}=_(),A=$(s=>s.open);m.useEffect(()=>{if(!a)return;x();const s=window.setInterval(()=>{x()},3e4);return()=>window.clearInterval(s)},[a,x]);const y=m.useMemo(()=>n.slice(0,8),[n]),v=m.useMemo(()=>l.filter(s=>s.verdict!=="trusted").slice(0,6),[l]),N=m.useMemo(()=>l.filter(s=>s.verdict==="trusted").slice(0,6),[l]);if(!a)return null;const R=j?f(j,{addSuffix:!0}):"just now",k=t?.grade==="high"?"danger":t?.grade==="moderate"?"warning":"info";return e.jsx("div",{className:"fixed inset-0 z-[1125] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:e.jsxs(I.div,{initial:{opacity:0,scale:.96,y:12},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.96,y:12},transition:{duration:.18,ease:"easeOut"},className:"relative flex h-[90vh] w-[min(1100px,94vw)] flex-col overflow-hidden rounded-3xl border border-slate-700/70 bg-slate-950/95 text-gray-100 shadow-[0_20px_80px_rgba(0,0,0,0.55)]",children:[e.jsxs("header",{className:"flex items-start justify-between border-b border-slate-800/60 px-6 py-5",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-emerald-300/80",children:[e.jsx(M,{size:14})," Trust & Ethics"]}),e.jsx("h1",{className:"mt-1 text-lg font-semibold text-white",children:"Real-time consent ledger & threat summary"}),e.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:[r?"Refreshing…":`Last updated ${R}`,d&&e.jsxs("span",{className:"ml-2 text-red-300",children:["· ",d]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>void x(),disabled:r,className:"inline-flex items-center gap-2 rounded-xl border border-slate-700/60 bg-slate-900/70 px-3 py-2 text-xs text-slate-200 hover:bg-slate-900/90 disabled:opacity-50",children:[e.jsx(E,{size:14,className:r?"animate-spin text-emerald-300":""}),"Refresh"]}),e.jsxs("button",{type:"button",onClick:()=>void A(),className:"inline-flex items-center gap-2 rounded-xl border border-emerald-500/40 bg-emerald-500/10 px-3 py-2 text-xs font-medium text-emerald-100 hover:bg-emerald-500/20",children:[e.jsx(w,{size:14}),"Open consent ledger"]}),e.jsx("button",{type:"button",onClick:()=>z(),className:"inline-flex items-center justify-center rounded-full border border-slate-700/60 bg-slate-900/70 p-2 text-slate-200 hover:bg-slate-900/90","aria-label":"Close trust dashboard",children:e.jsx(L,{size:16})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-5",children:e.jsxs("div",{className:"grid gap-5 lg:grid-cols-[1.1fr,0.9fr]",children:[e.jsxs("section",{className:"space-y-5",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(C,{title:"Consent posture",icon:S,tone:"emerald",stats:[{label:"Pending",value:i.pending},{label:"Approved",value:i.approved},{label:"Revoked",value:i.revoked}]}),e.jsx(C,{title:"Shields blocked",icon:u,tone:"sky",stats:[{label:"Trackers",value:g.trackers},{label:"Ads",value:g.ads},{label:"HTTPS upgrades",value:g.upgrades}],footer:c?`${c.cookies3p==="block"?"3p cookies blocked":"3p cookies allowed"} · ${c.webrtcBlocked?"WebRTC protected":"WebRTC open"}`:"No shield data yet"})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/70",children:[e.jsx(p,{icon:D,title:"Consent timeline",description:"Live ledger of ethical approvals"}),e.jsx("div",{className:"divide-y divide-slate-800/60",children:y.length===0?e.jsx(h,{message:"No consent activity recorded yet."}):y.map(s=>{const o=s.revokedAt?{label:"Revoked",tone:"text-red-300 border-red-400/40 bg-red-500/10"}:s.approved?{label:"Approved",tone:"text-emerald-300 border-emerald-400/40 bg-emerald-500/10"}:{label:"Pending",tone:"text-amber-300 border-amber-400/40 bg-amber-500/10"},T=s.action.risk==="high"?U:s.action.risk==="medium"?u:w;return e.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 text-sm text-gray-200",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl border border-slate-800/70 bg-slate-900/80",children:e.jsx(T,{size:16,className:"text-emerald-300"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:H[s.action.type]??s.action.type}),e.jsx("span",{className:"text-xs text-slate-500",children:f(s.timestamp,{addSuffix:!0})})]}),e.jsx("div",{className:"text-xs text-slate-400",children:s.action.description})]}),e.jsx("span",{className:`rounded-full border px-2 py-0.5 text-xs ${o.tone}`,children:o.label})]},s.id)})})]})]}),e.jsxs("section",{className:"space-y-5",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/70",children:[e.jsx(p,{icon:P,title:"Privacy Sentinel",description:"Latest AI risk sweep"}),e.jsx("div",{className:"space-y-3 px-4 py-4",children:t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs ${k==="danger"?"border-red-500/40 bg-red-500/10 text-red-200":k==="warning"?"border-amber-500/40 bg-amber-500/10 text-amber-200":"border-sky-500/40 bg-sky-500/10 text-sky-200"}`,children:[e.jsx(q,{size:12}),t.grade==="high"?"High risk detected":t.grade==="moderate"?"Watch this tab":"Clean"]}),e.jsx("p",{className:"text-sm text-slate-300",children:t.message}),t.trackers.length>0&&e.jsxs("div",{className:"rounded-xl border border-slate-800/60 bg-slate-900/70 p-3",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Trackers"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-slate-300",children:t.trackers.slice(0,6).map(s=>e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-700/60 bg-slate-950/80 px-3 py-1",children:[e.jsx(O,{size:11,className:"text-slate-400"}),s.host,e.jsxs("span",{className:"text-[10px] text-slate-500",children:["×",s.count]})]},`${s.host}-${s.count}`))})]}),t.suggestions.length>0&&e.jsxs("div",{className:"space-y-2 rounded-xl border border-slate-800/60 bg-slate-900/70 p-3",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Suggested fixes"}),e.jsx("ul",{className:"space-y-1 text-xs text-slate-300",children:t.suggestions.slice(0,4).map(s=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(B,{size:11,className:"mt-0.5 text-emerald-300"}),e.jsx("span",{children:s})]},s))})]})]}):e.jsx(h,{message:"No privacy audit data yet. Trigger an audit from the Shield icon in the top bar."})})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/70",children:[e.jsx(p,{icon:F,title:"Trust alerts",description:"Domains flagged by the mesh"}),e.jsx("div",{className:"divide-y divide-slate-800/60",children:v.length===0?e.jsx(h,{message:"No high-risk domains flagged."}):v.map(s=>e.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-200",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl border border-red-500/40 bg-red-500/10 text-red-200",children:e.jsx(u,{size:16})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:s.domain}),e.jsx("span",{className:"rounded-full border border-red-500/40 bg-red-500/10 px-2 py-0.5 text-[10px] text-red-200",children:s.verdict.toUpperCase()})]}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Score ",Math.round(s.score)," · ",s.signals," signals ·"," ",f(s.lastUpdated,{addSuffix:!0})]})]})]},s.domain))})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-900/70",children:[e.jsx(p,{icon:S,title:"Trusted mesh",description:"Domains with positive consensus"}),e.jsx("div",{className:"flex flex-col gap-3 px-4 py-4",children:N.length===0?e.jsx(h,{message:"No trusted domains recorded yet."}):N.map(s=>e.jsxs("div",{className:"rounded-xl border border-emerald-400/30 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold",children:s.domain}),e.jsxs("span",{className:"text-xs uppercase tracking-wide text-emerald-300/80",children:["Score ",Math.round(s.score)]})]}),e.jsxs("div",{className:"mt-1 text-xs text-emerald-200/80",children:["Confidence ",Math.round(s.confidence*100),"% · ",s.signals," peer signals"]}),s.tags.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-[11px] text-emerald-200/80",children:s.tags.slice(0,4).map(o=>e.jsxs("span",{className:"rounded-full border border-emerald-400/40 px-2 py-0.5",children:["#",o]},`${s.domain}-${o}`))})]},`trusted-${s.domain}`))})]})]})]})})]})})}function C({title:a,icon:r,stats:d,footer:n,tone:l}){const c=l==="emerald"?"border-emerald-500/30 bg-emerald-500/10 text-emerald-100":"border-sky-500/30 bg-sky-500/10 text-sky-100",t=l==="emerald"?"text-emerald-200":"text-sky-200";return e.jsxs("div",{className:`rounded-2xl border ${c} px-4 py-4`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[e.jsx(r,{size:16,className:t}),a]}),e.jsx("div",{className:"mt-3 grid grid-cols-3 gap-2 text-xs text-slate-300",children:d.map(i=>e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-white",children:i.value}),e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-300",children:i.label})]},i.label))}),n&&e.jsx("div",{className:"mt-3 text-[11px] text-slate-200/80",children:n})]})}function p({icon:a,title:r,description:d}){return e.jsxs("div",{className:"flex items-center justify-between border-b border-slate-800/60 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-200",children:[e.jsx(a,{size:14,className:"text-emerald-300"}),r]}),e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:d})]})}function h({message:a}){return e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 px-4 py-6 text-center text-xs text-slate-500",children:[e.jsx(M,{size:18,className:"text-slate-600"}),e.jsx("span",{children:a})]})}export{be as TrustEthicsDashboard};
//# sourceMappingURL=TrustEthicsDashboard-Jqd3OpHA.js.map
