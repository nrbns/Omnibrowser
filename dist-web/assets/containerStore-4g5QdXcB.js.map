{"version":3,"file":"containerStore-4g5QdXcB.js","sources":["../../src/state/containerStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { ContainerInfo } from '../lib/ipc-events';\r\n\r\ntype ContainerState = {\r\n  containers: ContainerInfo[];\r\n  activeContainerId: string;\r\n  setContainers: (containers: ContainerInfo[]) => void;\r\n  setActiveContainer: (container: ContainerInfo) => void;\r\n};\r\n\r\nexport const useContainerStore = create<ContainerState>((set) => ({\r\n  containers: [],\r\n  activeContainerId: 'default',\r\n  setContainers: (containers) =>\r\n    set((state) => {\r\n      const unique = containers.reduce<ContainerInfo[]>((acc, container) => {\r\n        if (!acc.find((c) => c.id === container.id)) {\r\n          acc.push(container);\r\n        }\r\n        return acc;\r\n      }, []);\r\n      const activeExists = unique.some((c) => c.id === state.activeContainerId);\r\n      return {\r\n        containers: unique,\r\n        activeContainerId: activeExists ? state.activeContainerId : unique[0]?.id || 'default',\r\n      };\r\n    }),\r\n  setActiveContainer: (container) =>\r\n    set((state) => ({\r\n      activeContainerId: container.id,\r\n      containers: [container, ...state.containers.filter((c) => c.id !== container.id)],\r\n    })),\r\n}));\r\n\r\n\r\n"],"names":["useContainerStore","create","set","containers","state","unique","acc","container","c","activeExists"],"mappings":"sDAUO,MAAMA,EAAoBC,EAAwBC,IAAS,CAChE,WAAY,CAAA,EACZ,kBAAmB,UACnB,cAAgBC,GACdD,EAAKE,GAAU,CACb,MAAMC,EAASF,EAAW,OAAwB,CAACG,EAAKC,KACjDD,EAAI,KAAME,GAAMA,EAAE,KAAOD,EAAU,EAAE,GACxCD,EAAI,KAAKC,CAAS,EAEbD,GACN,CAAA,CAAE,EACCG,EAAeJ,EAAO,KAAMG,GAAMA,EAAE,KAAOJ,EAAM,iBAAiB,EACxE,MAAO,CACL,WAAYC,EACZ,kBAAmBI,EAAeL,EAAM,kBAAoBC,EAAO,CAAC,GAAG,IAAM,SAAA,CAEjF,CAAC,EACH,mBAAqBE,GACnBL,EAAKE,IAAW,CACd,kBAAmBG,EAAU,GAC7B,WAAY,CAACA,EAAW,GAAGH,EAAM,WAAW,OAAQI,GAAMA,EAAE,KAAOD,EAAU,EAAE,CAAC,CAAA,EAChF,CACN,EAAE"}