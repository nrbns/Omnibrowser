import{r as o,j as t}from"./index-DMKJqC5Z.js";import{u as N}from"./appStore-YdLSx3oj.js";import{a as R}from"./AppShell-DKPxPuWD.js";import{B as T}from"./brain-qT2viXus.js";import{T as E}from"./trending-up-BuEY6VB4.js";import{G as C}from"./gamepad-2-B3k15_2Z.js";import{Z as A}from"./zap-DnPrAbXN.js";import{A as B}from"./index-BE3YK0eV.js";import{m as u}from"./proxy-B-PlLRqe.js";import{X as P}from"./x-GAlOzW-g.js";import"./formatDistanceToNow-CwTn1k5x.js";import"./createLucideIcon-BHoZ2X8H.js";import"./ipc-events-B-mtt1te.js";import"./use-ipc-event-BWqwbbDc.js";import"./Portal-DMoOea_i.js";import"./globe-B55P551M.js";import"./triangle-alert-BHl0FKa7.js";const y=[{id:"Research",title:"Researcher",subtitle:"Deep dives & synthesis",icon:T,hint:"Focuses on live graphs, consent checks, and @redix recall."},{id:"Trade",title:"Trader",subtitle:"Market intelligence",icon:E,hint:"Highlights history graphs, playbooks, and automation runs."},{id:"Games",title:"Creator",subtitle:"Streams & overlays",icon:C,hint:"Keeps overlays light and tabs organised for content flow."},{id:"Browse",title:"Everyday",subtitle:"Balanced defaults",icon:A,hint:"A little of everything—perfect for daily browsing."}],n=[{id:"persona",title:"Choose your focus",description:"Tell Redix how you work. We’ll tailor shortcuts, menus, and defaults instantly.",type:"persona"},{id:"welcome",title:"Welcome to OmniBrowser × Redix",description:"This browser is built for agentic research. Let’s take a 30-second tour of the core controls and regenerative superpowers."},{id:"omnibox",title:"Omnibox with @live AI",description:"Press ⌘/Ctrl + L to focus the omnibox. Try typing “@live quantum trends” to stream Redix results and graphs in real time.",target:'[data-onboarding="omnibox"]'},{id:"tabstrip",title:"Smart Tab Strip",description:"Tabs show peek previews, mode badges, and hibernation state. Scroll horizontally or hit Ctrl+Tab to jump quickly.",target:'[data-onboarding="tabstrip"]'},{id:"regen",title:"Regenerative Efficiency",description:"When the battery dips, Redix predicts remaining time, throttles background tabs, and offers +1.8 hr boost actions.",target:'[data-onboarding="status-bar"]'},{id:"graph",title:"Tab DNA Graph",description:"Press ⌘/Ctrl + Shift + G to open the live tab graph. You’ll see domains, containers, and session affinity mapped instantly."},{id:"consent",title:"Ethical Control",description:"Every AI action requests consent in the ledger. Review what Redix can remember, approve, or revoke at any time."}];function $({onClose:p}){const{mode:l,setMode:b}=N(),x=R(e=>e.finish),[d,m]=o.useState(null),[r,g]=o.useState(0),c=o.useMemo(()=>y.find(a=>a.id===l)?l:"Browse",[l]),h=o.useRef(c),[s,f]=o.useState(h.current);o.useEffect(()=>{typeof window<"u"&&(window.__tourDebug={stepIndex:r,persona:s})},[r,s]),o.useEffect(()=>{r===0&&!s&&(h.current=c,f(c))},[c,s,r]);const i=o.useMemo(()=>n[r]??n[0],[r]);o.useEffect(()=>{if(!i?.target||i.type==="persona"){m(null);return}const e=document.querySelector(i.target);if(!e){m(null);return}const a=e.getBoundingClientRect();m({top:a.top+window.scrollY,left:a.left+window.scrollX,width:a.width,height:a.height})},[i]);const v=e=>{h.current=e,f(e),l!==e&&b(e)},w=()=>{if(!(i?.type==="persona"&&!s)){if(i?.type==="persona"&&s&&l!==s&&b(s),r>=n.length-1){x(),p();return}g(e=>Math.min(e+1,n.length-1))}},j=()=>{r!==0&&g(e=>Math.max(e-1,0))},k=()=>{x(),p()};return t.jsx(B,{children:t.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:[d&&t.jsx("div",{className:"pointer-events-none absolute rounded-2xl border-2 border-emerald-400/80 shadow-[0_0_20px_rgba(16,185,129,0.35)]",style:{top:d.top-8,left:d.left-8,width:d.width+16,height:d.height+16,transition:"all 0.25s ease"}}),t.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"relative w-[min(520px,90vw)] rounded-3xl border border-slate-700/70 bg-slate-950/95 p-6 text-gray-100 shadow-2xl",children:[t.jsx("button",{className:"absolute right-5 top-5 rounded-full border border-slate-700/60 bg-slate-900/70 p-1.5 text-gray-400 hover:text-gray-200",onClick:p,"aria-label":"Skip onboarding",children:t.jsx(P,{size:16})}),t.jsxs("div",{className:"text-xs uppercase tracking-wide text-emerald-300/80","data-tour-step-indicator":!0,children:["Step ",r+1," of ",n.length]}),t.jsx("h2",{className:"mt-2 text-xl font-semibold text-white",children:i.title}),i.description&&t.jsx("p",{className:"mt-3 text-sm leading-relaxed text-gray-300",children:i.description}),i.type==="persona"?t.jsx("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2",children:y.map(e=>{const a=e.icon,S=s===e.id;return t.jsxs(u.button,{type:"button",onClick:()=>v(e.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:`flex h-full flex-col items-start gap-2 rounded-2xl border p-4 text-left transition-all ${S?"border-emerald-400/60 bg-emerald-500/10 text-emerald-100 shadow-[0_0_25px_rgba(34,197,94,0.25)]":"border-slate-700/60 bg-slate-900/70 text-gray-200 hover:border-slate-500/80 hover:bg-slate-900/90"}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(a,{size:20}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold",children:e.title}),t.jsx("div",{className:"text-xs text-gray-400",children:e.subtitle})]})]}),t.jsx("p",{className:"text-xs text-gray-300 leading-relaxed",children:e.hint})]},e.id)})}):null,t.jsxs("div",{className:"mt-6 flex items-center justify-between text-sm",children:[t.jsx("button",{type:"button",onClick:j,disabled:r===0,className:"rounded-lg border border-slate-700/60 px-3 py-2 text-gray-300 hover:border-slate-500/80 disabled:opacity-40 disabled:cursor-not-allowed",children:"Back"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:k,className:"rounded-lg border border-slate-700/60 px-3 py-2 text-gray-400 hover:text-gray-200",children:"Skip"}),t.jsx("button",{type:"button",onClick:w,disabled:i.type==="persona"&&!s,className:"rounded-lg border border-emerald-500/60 bg-emerald-500/10 px-4 py-2 font-medium text-emerald-100 hover:bg-emerald-500/20 disabled:cursor-not-allowed disabled:opacity-40",children:r===n.length-1?"Finish":"Next"})]})]})]},i.id)]},"onboarding-overlay")})}export{$ as OnboardingTour};
//# sourceMappingURL=OnboardingTour-DZODMc7B.js.map
