import{r as l,i as ne,j as n}from"./index-dj7m1cGj.js";import{u as re,T as ie,L as Y,F as ae}from"./OmniDesk-XqA-NCuc.js";import{a as Z,u as se}from"./AppShell-DzVtN4M2.js";import{B as _}from"./brain-BOF2plVW.js";import{G as le}from"./gamepad-2-CkYAMJPd.js";import{Z as de}from"./zap-BOkdKR3W.js";import{S as K}from"./sparkles-BXvEuSDZ.js";import{c as q,m as j}from"./proxy-C7NQ8sMs.js";import{S as $}from"./shield-wz6Nan5a.js";import{A as ce}from"./index-D3V9pHtR.js";import{X as ue}from"./x-kCWGjBIF.js";import"./copy-r_Uv8dWa.js";import"./loader-circle-B2cekLv2.js";import"./agentStreamStore-DATaLJlE.js";import"./cloud-RM87ovcD.js";import"./search-DY2JFyPs.js";import"./formatDistanceToNow-Ctx6mZEP.js";import"./clock-C2CbMN6U.js";import"./refresh-cw-81QnrOuz.js";import"./circle-check-J1xVWsPI.js";import"./use-ipc-event-Mlq2GWsh.js";import"./Portal-Cws6ez_F.js";import"./external-link-uxSLXU_6.js";import"./trustDashboardStore-CE7KmIta.js";import"./triangle-alert-CX1V0b5r.js";const pe=q("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const ge=q("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);const be=q("MousePointerClick",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]),Q=[{id:"Research",title:"Researcher",subtitle:"Deep dives & synthesis",icon:_,hint:"Focuses on live graphs, consent checks, and @redix recall."},{id:"Trade",title:"Trader",subtitle:"Market intelligence",icon:ie,hint:"Highlights history graphs, playbooks, and automation runs."},{id:"Games",title:"Creator",subtitle:"Streams & overlays",icon:le,hint:"Keeps overlays light and tabs organised for content flow."},{id:"Browse",title:"Everyday",subtitle:"Balanced defaults",icon:de,hint:"A little of everythingâ€”perfect for daily browsing."}],B=[{id:"persona",title:"Choose your focus",description:"Tell Redix how you work. Weâ€™ll tailor shortcuts, menus, and defaults instantly.",type:"persona"},{id:"welcome",title:"Welcome to OmniBrowser Ã— Redix",description:"This browser is built for agentic research. Letâ€™s take a 30-second tour of the core controls and regenerative superpowers.",tips:[{icon:K,title:"Your regenerative co-pilot",description:"Redix learns your persona, monitors eco impact, and rewires the workspace to stay in flow."}]},{id:"omnibox",title:"Omnibox with @live AI",description:"Press âŒ˜/Ctrl + L to focus the omnibox. Try typing â€œ@live quantum trendsâ€ to stream Redix results and graphs in real time.",target:'[data-onboarding="omnibox"]',tips:[{icon:ge,title:"Shortcut ready",description:"Press âŒ˜/Ctrl + L any time to jump into the omnibox without leaving the keyboard.",actionId:"focus-omnibox",actionLabel:"Focus omnibox"},{icon:K,title:"Use @live for streaming answers",description:"Start your query with â€œ@liveâ€ to pull in real-time sources, graphs, and metrics as you type."}]},{id:"tabstrip",title:"Smart Tab Strip",description:"Tabs show peek previews, mode badges, and hibernation state. Scroll horizontally or hit Ctrl+Tab to jump quickly.",target:'[data-onboarding="tabstrip"]',tips:[{icon:be,title:"Drag into spaces",description:"Drag a tab to reorder or drop it straight into Workspace or GraphMind for deeper grouping."},{icon:_,title:"Sessions remember everything",description:"Tab badges show whether a session is ghosted, private, or synced across devices."}]},{id:"regen",title:"Regenerative Efficiency",description:"When the battery dips, Redix predicts remaining time, throttles background tabs, and offers +1.8 hr boost actions.",target:'[data-onboarding="status-bar"]',tips:[{icon:pe,title:"Live system metrics",description:"CPU, memory, and carbon intensity stream in real time. Hover to see the sparkline history."},{icon:Y,title:"Eco-aware actions",description:"Switch to Regen mode when on battery to pause heavy tabs and save up to +1.8 hours."}]},{id:"graph",title:"Tab DNA Graph",description:"Press âŒ˜/Ctrl + Shift + G to open the live tab graph. Youâ€™ll see domains, containers, and session affinity mapped instantly.",tips:[{icon:_,title:"Map your research instantly",description:"GraphMind clusters tabs by topic, mode, and relationship so you can spot gaps fast.",actionId:"open-graph",actionLabel:"Launch GraphMind"}]},{id:"consent",title:"Ethical Control",description:"Every AI action requests consent in the ledger. Review what Redix can remember, approve, or revoke at any time.",tips:[{icon:$,title:"Live consent timeline",description:"The ledger records every AI request, so you can revoke memory or flag behaviour instantly."}]},{id:"dashboard",title:"Your Command Center",description:"The dashboard shows your Live Redix Pulse, Eco Scoreboard, and quick access cards. Everything updates in real time.",target:'[data-onboarding="dashboard"]',tips:[{icon:K,title:"Live Redix Pulse",description:'See agent activity, recent events, and quick actions. Click "Open agent console" to dive deeper.'},{icon:Y,title:"Eco Scoreboard",description:"Monitor battery, carbon intensity, and efficiency. Achievements unlock as you optimize."},{icon:ae,title:"Quick Access Cards",description:"Ask Agent, Search, Notes, and Playbooks are always one click away from the dashboard."}]},{id:"telemetry",title:"Help improve OmniBrowser",description:"Opt-in to privacy-safe telemetry to help us improve performance and fix bugs. We never collect personal information, URLs, or browsing history.",tips:[{icon:$,title:"Privacy-first",description:"All data is anonymized. No PII, no URLs, no browsing history. You can change this anytime in Settings."}]}],P=B.length;function Ke({onClose:x}){const{mode:y,setMode:I}=re(),k=Z(e=>e.finish),T=Z(e=>e.visible),[R,J]=l.useState(!1),[C,M]=l.useState(null),[i,F]=l.useState(0),D=l.useMemo(()=>Q.find(t=>t.id===y)?y:"Browse",[y]),z=l.useRef(D),[g,U]=l.useState(z.current),G=l.useRef(null),H=l.useRef(null),N=l.useRef(null),V=se(e=>e.open),ee=l.useCallback(e=>{if(e)switch(e){case"focus-omnibox":{const t=document.querySelector('[data-onboarding="omnibox"] input, [data-onboarding="omnibox"] textarea, [data-onboarding="omnibox"] [role="combobox"]');t&&(t.focus(),t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}));break}case"open-graph":V();break}},[V]);l.useEffect(()=>{if(typeof document>"u")return()=>{};const{body:e}=document,t=e.style.overflow;return e.style.overflow="hidden",()=>{e.style.overflow=t}},[]),l.useEffect(()=>{typeof window<"u"&&(window.__tourDebug={stepIndex:i,persona:g})},[i,g]);const u=l.useMemo(()=>B[i]??B[0],[i]),W=Math.round((i+1)/P*100),te=i>=P-1,oe=u.type==="persona",A=i>0,f=oe&&!g;l.useEffect(()=>{i===0&&!g&&(z.current=D,U(D))},[D,g,i]),l.useEffect(()=>{if(!(typeof window>"u"))return N.current&&window.clearTimeout(N.current),N.current=window.setTimeout(()=>{u?.type==="persona"?H.current?.focus({preventScroll:!0}):G.current?.focus({preventScroll:!0})},120),()=>{N.current&&(window.clearTimeout(N.current),N.current=null)}},[u,i]),l.useEffect(()=>{if(!u?.target||u.type==="persona"){M(null);return}let e=0,t=!1,c=null,v=null;const b=u.target,o=()=>document.querySelector(b),a=()=>{if(!c)return;const s=c.getBoundingClientRect();M({top:s.top+window.scrollY,left:s.left+window.scrollX,width:s.width,height:s.height})},m=()=>{if(!c)return;const s=c.getBoundingClientRect();(s.top<0||s.bottom>window.innerHeight||s.left<0||s.right>window.innerWidth)&&c.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},p=(s=0)=>{if(!t){if(c=o(),!c){s<10?v=window.setTimeout(()=>p(s+1),100):M(null);return}a(),m()}},d=()=>{if(!t){if(!c||!document.body.contains(c)){p();return}cancelAnimationFrame(e),e=window.requestAnimationFrame(a)}};return p(),window.addEventListener("resize",d),window.addEventListener("scroll",d,!0),()=>{t=!0,v!==null&&window.clearTimeout(v),cancelAnimationFrame(e),window.removeEventListener("resize",d),window.removeEventListener("scroll",d,!0)}},[u]);const X=l.useCallback(e=>{z.current=e,U(e),y!==e&&I(e)},[y,I]),E=l.useCallback(()=>{console.log("[Onboarding] goNext called - START, current stepIndex:",i);try{const e=B[i],t=e?.id==="telemetry",c=i>=P-1;if(t&&ne.telemetry.setOptIn(R).catch(b=>{}),t||c){console.log("[Onboarding] Finishing tour from step",i),console.log("[Onboarding] Calling finishOnboarding()"),k(),console.log("[Onboarding] finishOnboarding() called, calling onClose()"),x(),console.log("[Onboarding] goNext - onClose() called - END");return}if(e?.type==="persona"){if(console.log("[Onboarding] Persona step - selectedPersona:",g,"mode:",y),!g){console.warn("[Onboarding] Cannot advance: no persona selected");const b=document.querySelector('[aria-pressed="true"]');if(b){const o=b.getAttribute("data-persona-id")||b.closest("[data-persona-id]")?.getAttribute("data-persona-id");if(o)console.log("[Onboarding] Found selected persona from DOM:",o),X(o);else{console.warn("[Onboarding] No persona selected, cannot advance");return}}else{console.warn("[Onboarding] No persona selected, cannot advance");return}}g&&y!==g&&(console.log("[Onboarding] Setting mode to:",g),I(g))}const v=Math.min(i+1,P-1);console.log("[Onboarding] Next from step",i,"->",v),F(v)}catch(e){console.error("[Onboarding] Error in goNext:",e)}},[i,g,y,I,k,x,R]),L=l.useCallback(()=>{F(e=>e===0?0:Math.max(0,e-1))},[]),w=l.useCallback(()=>{console.log("[Onboarding] handleSkip called - START");try{console.log("[Onboarding] Skip pressed at step",i),console.log("[Onboarding] Skip - calling finishOnboarding()"),k(),console.log("[Onboarding] Skip - finishOnboarding() called, calling onClose()"),x(),console.log("[Onboarding] Skip - onClose() called - END")}catch(e){console.error("[Onboarding] Error in handleSkip:",e)}},[k,x,i]);return l.useEffect(()=>{if(!T)return;console.log("[Onboarding] Setting up native event listeners..."),console.log("[Onboarding] Current stepIndex:",i),console.log("[Onboarding] isNextDisabled:",f),console.log("[Onboarding] canGoBack:",A);let e=!1;const t=()=>{if(e)return;const o=G.current||document.querySelector("[data-onboarding-next]"),a=document.querySelector("[data-onboarding-skip]"),m=document.querySelector("[data-onboarding-back]"),p=document.querySelector("[data-onboarding-close]");console.log("[Onboarding] Button elements found:",{next:!!o,skip:!!a,back:!!m,close:!!p});const d=r=>{console.log("[Onboarding] âœ…âœ…âœ… NATIVE CLICK DETECTED ON NEXT BUTTON! âœ…âœ…âœ…",r),console.log("[Onboarding] Event details:",{type:r.type,target:r.target,currentTarget:r.currentTarget,bubbles:r.bubbles,cancelable:r.cancelable}),r.preventDefault(),r.stopImmediatePropagation(),r.stopPropagation();try{console.log("[Onboarding] Calling goNext() from native listener..."),setTimeout(()=>{E()},0)}catch(h){console.error("[Onboarding] Error in goNext from native listener:",h)}return!1},s=r=>{console.log("[Onboarding] âœ…âœ…âœ… NATIVE CLICK DETECTED ON SKIP BUTTON! âœ…âœ…âœ…",r),r.preventDefault(),r.stopImmediatePropagation(),r.stopPropagation();try{w()}catch(h){console.error("[Onboarding] Error in handleSkip from native listener:",h)}return!1},O=r=>{console.log("[Onboarding] âœ…âœ…âœ… NATIVE CLICK DETECTED ON BACK BUTTON! âœ…âœ…âœ…",r),r.preventDefault(),r.stopImmediatePropagation(),r.stopPropagation();try{setTimeout(()=>{L()},0)}catch(h){console.error("[Onboarding] Error in goBack from native listener:",h)}return!1},S=r=>{console.log("[Onboarding] âœ…âœ…âœ… NATIVE CLICK DETECTED ON CLOSE BUTTON! âœ…âœ…âœ…",r),r.preventDefault(),r.stopImmediatePropagation(),r.stopPropagation();try{setTimeout(()=>{k(),x()},0)}catch(h){console.error("[Onboarding] Error in close from native listener:",h)}return!1};if(o){const r=o.hasAttribute("disabled")||o.disabled;console.log("[Onboarding] Next button disabled state:",r,"isNextDisabled:",f),r&&(console.warn("[Onboarding] âš ï¸ Next button is disabled! Force enabling for testing..."),o.removeAttribute("disabled"),o.disabled=!1,o.style.pointerEvents="auto",o.style.cursor="pointer",o.style.opacity="1"),o.addEventListener("click",d,!0),o.addEventListener("click",d,!1),o.addEventListener("mousedown",d,!0),o.addEventListener("mousedown",d,!1),o.addEventListener("pointerdown",d,!0),o.addEventListener("touchstart",d,!0),o.onclick=d,o.onmousedown=d,console.log("[Onboarding] âœ… Native listeners attached to Next button (capture + bubble + direct)"),console.log("[Onboarding] Testing: Button clickable?",o.offsetWidth>0&&o.offsetHeight>0);const h=window.getComputedStyle(o);console.log("[Onboarding] Next button computed styles:",{pointerEvents:h.pointerEvents,cursor:h.cursor,zIndex:h.zIndex,position:h.position,opacity:h.opacity})}else console.warn("[Onboarding] âš ï¸ Next button not found!");a?(a.addEventListener("click",s,{capture:!0,passive:!1}),a.addEventListener("mousedown",s,{capture:!0,passive:!1}),a.addEventListener("pointerdown",s,{capture:!0,passive:!1}),a.addEventListener("touchstart",s,{capture:!0,passive:!1}),console.log("[Onboarding] âœ… Native listeners attached to Skip button")):console.warn("[Onboarding] âš ï¸ Skip button not found!"),m?(m.addEventListener("click",O,!0),m.addEventListener("mousedown",O,!0),m.addEventListener("pointerdown",O,!0),console.log("[Onboarding] âœ… Native listeners attached to Back button")):console.warn("[Onboarding] âš ï¸ Back button not found!"),p?(p.addEventListener("click",S,!0),p.addEventListener("mousedown",S,!0),p.addEventListener("pointerdown",S,!0),console.log("[Onboarding] âœ… Native listeners attached to Close button")):console.warn("[Onboarding] âš ï¸ Close button not found!"),window.__onboardingCleanup=()=>{o&&(o.removeEventListener("click",d,!0),o.removeEventListener("click",d,!1),o.removeEventListener("mousedown",d,!0),o.removeEventListener("mousedown",d,!1),o.removeEventListener("pointerdown",d,!0),o.removeEventListener("touchstart",d,!0),o.onclick=null,o.onmousedown=null),a&&(a.removeEventListener("click",s,{capture:!0}),a.removeEventListener("mousedown",s,{capture:!0}),a.removeEventListener("pointerdown",s,{capture:!0}),a.removeEventListener("touchstart",s,{capture:!0})),m&&(m.removeEventListener("click",O,!0),m.removeEventListener("mousedown",O,!0),m.removeEventListener("pointerdown",O,!0)),p&&(p.removeEventListener("click",S,!0),p.removeEventListener("mousedown",S,!0),p.removeEventListener("pointerdown",S,!0))},e=!0,console.log("[Onboarding] âœ… All listeners attached successfully")},c=[setTimeout(()=>{console.log("[Onboarding] Attempt 1: Attaching listeners (100ms delay)"),t()},100),setTimeout(()=>{console.log("[Onboarding] Attempt 2: Attaching listeners (300ms delay)"),t()},300),setTimeout(()=>{console.log("[Onboarding] Attempt 3: Attaching listeners (500ms delay)"),t()},500)],v=new MutationObserver(()=>{console.log("[Onboarding] DOM mutation detected, checking for buttons..."),t()});v.observe(document.body,{childList:!0,subtree:!0,attributes:!0});const b=o=>{const a=o.target;if(!a)return;const m=a.closest("[data-onboarding-next]")||a.hasAttribute("data-onboarding-next"),p=a.closest("[data-onboarding-skip]")||a.hasAttribute("data-onboarding-skip"),d=a.closest("[data-onboarding-back]")||a.hasAttribute("data-onboarding-back"),s=a.closest("[data-onboarding-close]")||a.hasAttribute("data-onboarding-close");if(m)return console.log("[Onboarding] ðŸ”¥ðŸ”¥ðŸ”¥ GLOBAL CLICK HANDLER: Next button clicked! ðŸ”¥ðŸ”¥ðŸ”¥"),o.preventDefault(),o.stopImmediatePropagation(),o.stopPropagation(),setTimeout(()=>E(),0),!1;if(p)return console.log("[Onboarding] ðŸ”¥ðŸ”¥ðŸ”¥ GLOBAL CLICK HANDLER: Skip button clicked! ðŸ”¥ðŸ”¥ðŸ”¥"),o.preventDefault(),o.stopImmediatePropagation(),o.stopPropagation(),w(),!1;if(d)return console.log("[Onboarding] ðŸ”¥ðŸ”¥ðŸ”¥ GLOBAL CLICK HANDLER: Back button clicked! ðŸ”¥ðŸ”¥ðŸ”¥"),o.preventDefault(),o.stopImmediatePropagation(),o.stopPropagation(),setTimeout(()=>L(),0),!1;if(s)return console.log("[Onboarding] ðŸ”¥ðŸ”¥ðŸ”¥ GLOBAL CLICK HANDLER: Close button clicked! ðŸ”¥ðŸ”¥ðŸ”¥"),o.preventDefault(),o.stopImmediatePropagation(),o.stopPropagation(),setTimeout(()=>{k(),x()},0),!1};return document.addEventListener("click",b,!0),document.addEventListener("mousedown",b,!0),console.log("[Onboarding] âœ… Global click handlers attached to document"),()=>{c.forEach(clearTimeout),v.disconnect(),document.removeEventListener("click",b,!0),document.removeEventListener("mousedown",b,!0),window.__onboardingCleanup&&(window.__onboardingCleanup(),delete window.__onboardingCleanup),e=!1}},[T,E,w,L,k,x,i,f,A]),l.useEffect(()=>{if(!T)return;const e=t=>{const c=t.target;if(!(c.tagName==="INPUT"||c.tagName==="TEXTAREA"||c.isContentEditable))switch(console.log("[Onboarding] Keyboard event:",t.key),t.key){case"Enter":t.preventDefault(),t.stopPropagation(),f?console.log("[Onboarding] Enter pressed but Next is disabled"):(console.log("[Onboarding] Enter pressed - calling goNext()"),E());break;case"ArrowRight":t.preventDefault(),t.stopPropagation(),f?console.log("[Onboarding] ArrowRight pressed but Next is disabled"):(console.log("[Onboarding] ArrowRight pressed - calling goNext()"),E());break;case"ArrowLeft":t.preventDefault(),t.stopPropagation(),A?(console.log("[Onboarding] ArrowLeft pressed - calling goBack()"),L()):console.log("[Onboarding] ArrowLeft pressed but cannot go back");break;case"Escape":t.preventDefault(),t.stopPropagation(),console.log("[Onboarding] Escape pressed - calling handleSkip()"),w();break}};return window.addEventListener("keydown",e,!0),document.addEventListener("keydown",e,!0),console.log("[Onboarding] Keyboard listeners attached"),()=>{window.removeEventListener("keydown",e,!0),document.removeEventListener("keydown",e,!0),console.log("[Onboarding] Keyboard listeners removed")}},[T,E,w,L,f,A]),n.jsx(ce,{mode:"wait",children:T&&n.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/70 backdrop-blur-sm",style:{pointerEvents:"auto"},tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":"onboarding-title",onMouseDown:e=>{const t=e.target;t.closest("[data-onboarding-skip]")||t.closest("[data-onboarding-next]")||t.closest("[data-onboarding-back]")||t.closest("[data-onboarding-close]")||e.target===e.currentTarget&&(console.log("[Onboarding] Backdrop clicked - preventing default"),e.preventDefault(),e.stopPropagation())},onClick:e=>{const t=e.target;t.closest("[data-onboarding-skip]")||t.closest("[data-onboarding-next]")||t.closest("[data-onboarding-back]")||t.closest("[data-onboarding-close]")||e.target===e.currentTarget&&(console.log("[Onboarding] Backdrop clicked - stopping propagation"),e.preventDefault(),e.stopPropagation())},children:[C&&n.jsx("div",{className:"pointer-events-none absolute rounded-2xl border-2 border-emerald-400/80 shadow-[0_0_20px_rgba(16,185,129,0.35)]",style:{top:C.top-8,left:C.left-8,width:C.width+16,height:C.height+16,transition:"all 0.25s ease"}}),n.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"relative w-[min(520px,90vw)] rounded-3xl border border-slate-700/70 bg-slate-950/95 p-6 text-gray-100 shadow-2xl z-[1001]",style:{pointerEvents:"auto",position:"relative"},onClick:e=>{const t=e.target;t===e.currentTarget||t.closest("[data-onboarding-skip]")||t.closest("[data-onboarding-next]")||t.closest("[data-onboarding-back]")||t.closest("[data-onboarding-close]")||e.stopPropagation()},children:[n.jsx("button",{type:"button","data-onboarding-close":!0,className:"absolute right-5 top-5 rounded-full border border-slate-700/60 bg-slate-900/70 p-1.5 text-gray-400 hover:text-gray-200 cursor-pointer",style:{pointerEvents:"auto",position:"absolute",zIndex:1003},onClick:e=>{console.log("[Onboarding] X button clicked via React"),e.preventDefault(),e.stopPropagation(),k(),x()},"aria-label":"Close onboarding",children:n.jsx(ue,{size:16})}),n.jsxs("div",{className:"text-xs uppercase tracking-wide text-emerald-300/80","data-tour-step-indicator":!0,children:["Step ",i+1," of ",P]}),n.jsxs("div",{className:"mt-2","aria-live":"polite",children:[n.jsx("h2",{id:"onboarding-title",className:"text-xl font-semibold text-white",children:u.title}),u.description&&n.jsx("p",{className:"mt-3 text-sm leading-relaxed text-gray-300",children:u.description}),u.tips&&u.tips.length>0&&n.jsx("div",{className:"mt-4 space-y-3",children:u.tips.map(e=>{const t=e.icon;return n.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-slate-700/60 bg-slate-900/70 p-3",children:[n.jsx("div",{className:"mt-1 text-emerald-300/80",children:n.jsx(t,{size:16})}),n.jsxs("div",{className:"flex-1 text-sm text-slate-200",children:[n.jsx("div",{className:"font-semibold text-slate-100",children:e.title}),n.jsx("p",{className:"mt-1 text-xs leading-relaxed text-slate-400",children:e.description}),e.actionId&&e.actionLabel&&n.jsx("button",{type:"button",onClick:()=>ee(e.actionId),className:"mt-2 inline-flex items-center gap-1 rounded-full border border-emerald-500/40 bg-emerald-500/10 px-3 py-1 text-xs font-medium text-emerald-100 transition hover:border-emerald-400/60 hover:text-emerald-50",children:e.actionLabel})]})]},e.title)})})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-slate-800/80",children:n.jsx(j.div,{className:"h-full rounded-full bg-emerald-400/80",initial:!1,animate:{width:`${W}%`},transition:{duration:.3,ease:"easeOut"}})}),n.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:[W,"% complete"]})]}),u.type==="persona"?n.jsx("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2",children:Q.map((e,t)=>{const c=e.icon,v=g===e.id;return n.jsxs(j.button,{type:"button","data-persona-id":e.id,ref:t===0?H:void 0,onClick:b=>{console.log("[Onboarding] Persona clicked:",e.id),b.preventDefault(),b.stopPropagation(),X(e.id)},whileHover:{scale:1.02},whileTap:{scale:.98},"aria-pressed":v,className:`flex h-full flex-col items-start gap-2 rounded-2xl border p-4 text-left transition-all ${v?"border-emerald-400/60 bg-emerald-500/10 text-emerald-100 shadow-[0_0_25px_rgba(34,197,94,0.25)]":"border-slate-700/60 bg-slate-900/70 text-gray-200 hover:border-slate-500/80 hover:bg-slate-900/90"}`,style:{pointerEvents:"auto",cursor:"pointer"},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(c,{size:20}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold",children:e.title}),n.jsx("div",{className:"text-xs text-gray-400",children:e.subtitle})]})]}),n.jsx("p",{className:"text-xs text-gray-300 leading-relaxed",children:e.hint})]},e.id)})}):u.id==="telemetry"?n.jsx("div",{className:"mt-4",children:n.jsxs("label",{className:"flex cursor-pointer items-start gap-3 rounded-2xl border border-slate-700/60 bg-slate-900/70 p-4 hover:border-slate-500/80",children:[n.jsx("input",{type:"checkbox",checked:R,onChange:e=>J(e.target.checked),className:"mt-1 h-4 w-4 rounded border-slate-600 bg-slate-800 text-emerald-500 focus:ring-2 focus:ring-emerald-500/50"}),n.jsxs("div",{className:"flex-1 text-sm",children:[n.jsx("div",{className:"font-semibold text-slate-100",children:"Enable privacy-safe telemetry"}),n.jsx("p",{className:"mt-1 text-xs leading-relaxed text-slate-400",children:"Help us improve OmniBrowser by sharing anonymized performance data and crash reports. No personal information is collected."}),n.jsx("a",{href:"#",onClick:e=>{e.preventDefault()},className:"mt-2 inline-block text-xs text-emerald-400 hover:text-emerald-300",children:"Learn more about our privacy policy â†’"})]})]})}):null,n.jsxs("div",{className:"mt-6 flex items-center justify-between text-sm",style:{pointerEvents:"auto",zIndex:1002,position:"relative"},children:[n.jsx("button",{type:"button","data-onboarding-back":!0,onClick:e=>{console.log("[Onboarding] Back button clicked via React"),e.preventDefault(),e.stopPropagation(),L()},disabled:!A,className:"rounded-lg border border-slate-700/60 px-3 py-2 text-gray-300 transition hover:border-slate-500/80 hover:text-gray-100 disabled:cursor-not-allowed disabled:opacity-40 cursor-pointer",style:{pointerEvents:"auto",position:"relative",zIndex:1003,touchAction:"manipulation"},children:"Back"}),n.jsxs("div",{className:"flex items-center gap-2",style:{pointerEvents:"auto",position:"relative",zIndex:1004},onClick:e=>{e.stopPropagation()},children:[n.jsx("button",{type:"button","data-onboarding-skip":!0,onClick:e=>{console.log("[Onboarding] Skip button clicked via React"),e.preventDefault(),e.stopPropagation(),w()},onMouseDown:e=>{console.log("[Onboarding] Skip button mousedown via React"),e.preventDefault(),e.stopPropagation(),w()},onPointerDown:e=>{console.log("[Onboarding] Skip button pointerdown via React"),e.preventDefault(),e.stopPropagation(),w()},className:"rounded-lg border border-slate-700/60 px-3 py-2 text-gray-400 transition hover:border-slate-500/80 hover:text-gray-200 hover:bg-slate-800/50 cursor-pointer active:scale-95 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",style:{pointerEvents:"auto",position:"relative",zIndex:1005,touchAction:"manipulation",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",isolation:"isolate"},tabIndex:0,"aria-label":"Skip onboarding",children:"Skip"}),n.jsx("button",{type:"button","data-onboarding-next":!0,ref:G,onClick:e=>{console.log("[Onboarding] Next/Finish button clicked via React",{isNextDisabled:f,stepIndex:i}),e.preventDefault(),e.stopPropagation(),f?console.warn("[Onboarding] Next button is disabled!",{isNextDisabled:f,stepIndex:i,selectedPersona:g}):E()},disabled:f,className:"rounded-lg border border-emerald-500/60 bg-emerald-500/10 px-4 py-2 font-medium text-emerald-100 transition hover:bg-emerald-500/20 disabled:cursor-not-allowed disabled:opacity-40 cursor-pointer",style:{pointerEvents:f?"none":"auto",position:"relative",zIndex:1003,touchAction:"manipulation",cursor:f?"not-allowed":"pointer"},children:te?"Finish":"Next"})]})]})]},u.id)]},"onboarding-overlay")})}export{Ke as OnboardingTour};
//# sourceMappingURL=OnboardingTour-D44VOyeH.js.map
