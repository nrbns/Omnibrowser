{"version":3,"file":"OmniDesk-BdBOPLft.js","sources":["../../node_modules/lucide-react/dist/esm/icons/battery-charging.js","../../node_modules/lucide-react/dist/esm/icons/circle-gauge.js","../../node_modules/lucide-react/dist/esm/icons/clipboard-copy.js","../../node_modules/lucide-react/dist/esm/icons/compass.js","../../node_modules/lucide-react/dist/esm/icons/file-search.js","../../node_modules/lucide-react/dist/esm/icons/file-text.js","../../node_modules/lucide-react/dist/esm/icons/leaf.js","../../node_modules/lucide-react/dist/esm/icons/pin.js","../../node_modules/lucide-react/dist/esm/icons/sparkle.js","../../node_modules/lucide-react/dist/esm/icons/trending-down.js","../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../node_modules/lucide-react/dist/esm/icons/workflow.js","../../src/state/appStore.ts","../../src/state/efficiencyStore.ts","../../src/state/workspaceEventsStore.ts","../../src/components/OmniDesk.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BatteryCharging = createLucideIcon(\"BatteryCharging\", [\n  [\"path\", { d: \"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2\", key: \"1sdynx\" }],\n  [\"path\", { d: \"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1\", key: \"1gkd3k\" }],\n  [\"path\", { d: \"m11 7-3 5h4l-3 5\", key: \"b4a64w\" }],\n  [\"line\", { x1: \"22\", x2: \"22\", y1: \"11\", y2: \"13\", key: \"4dh1rd\" }]\n]);\n\nexport { BatteryCharging as default };\n//# sourceMappingURL=battery-charging.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleGauge = createLucideIcon(\"CircleGauge\", [\n  [\"path\", { d: \"M15.6 2.7a10 10 0 1 0 5.7 5.7\", key: \"1e0p6d\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }],\n  [\"path\", { d: \"M13.4 10.6 19 5\", key: \"1kr7tw\" }]\n]);\n\nexport { CircleGauge as default };\n//# sourceMappingURL=circle-gauge.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ClipboardCopy = createLucideIcon(\"ClipboardCopy\", [\n  [\"rect\", { width: \"8\", height: \"4\", x: \"8\", y: \"2\", rx: \"1\", ry: \"1\", key: \"tgr4d6\" }],\n  [\"path\", { d: \"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2\", key: \"4jdomd\" }],\n  [\"path\", { d: \"M16 4h2a2 2 0 0 1 2 2v4\", key: \"3hqy98\" }],\n  [\"path\", { d: \"M21 14H11\", key: \"1bme5i\" }],\n  [\"path\", { d: \"m15 10-4 4 4 4\", key: \"5dvupr\" }]\n]);\n\nexport { ClipboardCopy as default };\n//# sourceMappingURL=clipboard-copy.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Compass = createLucideIcon(\"Compass\", [\n  [\n    \"path\",\n    {\n      d: \"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z\",\n      key: \"9ktpf1\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n]);\n\nexport { Compass as default };\n//# sourceMappingURL=compass.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileSearch = createLucideIcon(\"FileSearch\", [\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\n    \"path\",\n    { d: \"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3\", key: \"ms7g94\" }\n  ],\n  [\"path\", { d: \"m9 18-1.5-1.5\", key: \"1j6qii\" }],\n  [\"circle\", { cx: \"5\", cy: \"14\", r: \"3\", key: \"ufru5t\" }]\n]);\n\nexport { FileSearch as default };\n//# sourceMappingURL=file-search.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileText = createLucideIcon(\"FileText\", [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"M10 9H8\", key: \"b1mrlr\" }],\n  [\"path\", { d: \"M16 13H8\", key: \"t4e002\" }],\n  [\"path\", { d: \"M16 17H8\", key: \"z1uh3a\" }]\n]);\n\nexport { FileText as default };\n//# sourceMappingURL=file-text.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Leaf = createLucideIcon(\"Leaf\", [\n  [\n    \"path\",\n    {\n      d: \"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z\",\n      key: \"nnexq3\"\n    }\n  ],\n  [\"path\", { d: \"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12\", key: \"mt58a7\" }]\n]);\n\nexport { Leaf as default };\n//# sourceMappingURL=leaf.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pin = createLucideIcon(\"Pin\", [\n  [\"path\", { d: \"M12 17v5\", key: \"bb1du9\" }],\n  [\n    \"path\",\n    {\n      d: \"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z\",\n      key: \"1nkz8b\"\n    }\n  ]\n]);\n\nexport { Pin as default };\n//# sourceMappingURL=pin.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sparkle = createLucideIcon(\"Sparkle\", [\n  [\n    \"path\",\n    {\n      d: \"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z\",\n      key: \"4pj2yx\"\n    }\n  ]\n]);\n\nexport { Sparkle as default };\n//# sourceMappingURL=sparkle.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingDown = createLucideIcon(\"TrendingDown\", [\n  [\"polyline\", { points: \"22 17 13.5 8.5 8.5 13.5 2 7\", key: \"1r2t7k\" }],\n  [\"polyline\", { points: \"16 17 22 17 22 11\", key: \"11uiuu\" }]\n]);\n\nexport { TrendingDown as default };\n//# sourceMappingURL=trending-down.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingUp = createLucideIcon(\"TrendingUp\", [\n  [\"polyline\", { points: \"22 7 13.5 15.5 8.5 10.5 2 17\", key: \"126l90\" }],\n  [\"polyline\", { points: \"16 7 22 7 22 13\", key: \"kwv8wd\" }]\n]);\n\nexport { TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Workflow = createLucideIcon(\"Workflow\", [\n  [\"rect\", { width: \"8\", height: \"8\", x: \"3\", y: \"3\", rx: \"2\", key: \"by2w9f\" }],\n  [\"path\", { d: \"M7 11v4a2 2 0 0 0 2 2h4\", key: \"xkn7yn\" }],\n  [\"rect\", { width: \"8\", height: \"8\", x: \"13\", y: \"13\", rx: \"2\", key: \"1cgmvn\" }]\n]);\n\nexport { Workflow as default };\n//# sourceMappingURL=workflow.js.map\n","import { create } from 'zustand';\r\n\r\ntype AppState = {\r\n  mode: 'Browse' | 'Research' | 'Trade' | 'Games' | 'Docs' | 'Images' | 'Threats' | 'GraphMind';\r\n  setMode: (m: AppState['mode']) => void;\r\n  graphDockOpen: boolean;\r\n  toggleGraphDock: () => void;\r\n  ledgerDockOpen: boolean;\r\n  toggleLedgerDock: () => void;\r\n}\r\n\r\nexport const useAppStore = create<AppState>((set, get) => ({\r\n  mode: 'Browse',\r\n  setMode: (mode) => set({ mode }),\r\n  graphDockOpen: false,\r\n  toggleGraphDock: () => {\r\n    const next = !get().graphDockOpen;\r\n    set({ graphDockOpen: next });\r\n    (window as any).ui?.setRightDock?.(next ? 360 : 0);\r\n  },\r\n  ledgerDockOpen: false,\r\n  toggleLedgerDock: () => {\r\n    const next = !get().ledgerDockOpen;\r\n    set({ ledgerDockOpen: next });\r\n    (window as any).ui?.setRightDock?.(next ? 360 : 0);\r\n  }\r\n}));\r\n\r\n\r\n","import { create } from 'zustand';\r\n\r\nexport type EfficiencyMode = 'normal' | 'battery-saver' | 'extreme';\r\n\r\nconst MODE_LABELS: Record<EfficiencyMode, string> = {\r\n  normal: 'Performance Mode',\r\n  'battery-saver': 'Battery Saver Mode',\r\n  extreme: 'Regen Mode',\r\n};\r\n\r\nconst MODE_BADGES: Record<EfficiencyMode, string | null> = {\r\n  normal: null,\r\n  'battery-saver': '+0.8hr battery',\r\n  extreme: '+1.8hr battery',\r\n};\r\n\r\nconst MODE_COLORS: Record<EfficiencyMode, string> = {\r\n  normal: 'text-gray-400',\r\n  'battery-saver': 'text-emerald-300',\r\n  extreme: 'text-amber-300',\r\n};\r\n\r\ntype Snapshot = {\r\n  batteryPct: number | null;\r\n  charging: boolean | null;\r\n  ramMb: number;\r\n  cpuLoad1: number;\r\n  activeTabs: number;\r\n  carbonIntensity?: number | null;\r\n  carbonRegion?: string | null;\r\n};\r\n\r\nexport type EfficiencySample = {\r\n  timestamp: number;\r\n  mode: EfficiencyMode;\r\n  batteryPct: number | null;\r\n  carbonIntensity: number | null | undefined;\r\n  cpuLoad: number;\r\n  activeTabs: number;\r\n};\r\n\r\ntype EfficiencyState = {\r\n  mode: EfficiencyMode;\r\n  label: string;\r\n  badge: string | null;\r\n  colorClass: string;\r\n  lastUpdated: number | null;\r\n  snapshot: Snapshot;\r\n  history: EfficiencySample[];\r\n  setEvent: (event: {\r\n    mode: EfficiencyMode;\r\n    label?: string | null;\r\n    badge?: string | null;\r\n    timestamp: number;\r\n    snapshot: Snapshot;\r\n  }) => void;\r\n};\r\n\r\nconst defaultSnapshot: Snapshot = {\r\n  batteryPct: null,\r\n  charging: null,\r\n  ramMb: 0,\r\n  cpuLoad1: 0,\r\n  activeTabs: 0,\r\n  carbonIntensity: null,\r\n  carbonRegion: null,\r\n};\r\n\r\nconst HISTORY_KEY = 'ob:ecoHistory:v1';\r\n\r\nfunction loadHistory(): EfficiencySample[] {\r\n  if (typeof window === 'undefined') return [];\r\n  try {\r\n    const raw = window.localStorage.getItem(HISTORY_KEY);\r\n    if (!raw) return [];\r\n    const parsed = JSON.parse(raw);\r\n    if (!Array.isArray(parsed)) return [];\r\n    return parsed\r\n      .map((item) => ({\r\n        timestamp: typeof item.timestamp === 'number' ? item.timestamp : Date.now(),\r\n        mode: (item.mode as EfficiencyMode) ?? 'normal',\r\n        batteryPct: typeof item.batteryPct === 'number' ? item.batteryPct : null,\r\n        carbonIntensity:\r\n          typeof item.carbonIntensity === 'number' || item.carbonIntensity === null\r\n            ? item.carbonIntensity\r\n            : undefined,\r\n        cpuLoad: typeof item.cpuLoad === 'number' ? item.cpuLoad : 0,\r\n        activeTabs: typeof item.activeTabs === 'number' ? item.activeTabs : 0,\r\n      }))\r\n      .slice(-120);\r\n  } catch (error) {\r\n    console.warn('[efficiencyStore] Failed to load history', error);\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction saveHistory(history: EfficiencySample[]) {\r\n  if (typeof window === 'undefined') return;\r\n  try {\r\n    window.localStorage.setItem(HISTORY_KEY, JSON.stringify(history));\r\n  } catch (error) {\r\n    console.warn('[efficiencyStore] Failed to persist history', error);\r\n  }\r\n}\r\n\r\nconst initialHistory = loadHistory();\r\n\r\nexport const useEfficiencyStore = create<EfficiencyState>((set, get) => ({\r\n  mode: 'normal',\r\n  label: MODE_LABELS.normal,\r\n  badge: MODE_BADGES.normal,\r\n  colorClass: MODE_COLORS.normal,\r\n  lastUpdated: null,\r\n  snapshot: defaultSnapshot,\r\n  history: initialHistory,\r\n  setEvent: (event) => {\r\n    const sample: EfficiencySample = {\r\n      timestamp: event.timestamp,\r\n      mode: event.mode,\r\n      batteryPct: event.snapshot.batteryPct,\r\n      carbonIntensity: event.snapshot.carbonIntensity,\r\n      cpuLoad: event.snapshot.cpuLoad1,\r\n      activeTabs: event.snapshot.activeTabs,\r\n    };\r\n    let nextHistory = get().history;\r\n    nextHistory = [...nextHistory, sample].slice(-120);\r\n    saveHistory(nextHistory);\r\n    const nextMode = event.mode;\r\n    set({\r\n      mode: nextMode,\r\n      label: event.label ?? MODE_LABELS[nextMode],\r\n      badge: event.badge ?? MODE_BADGES[nextMode],\r\n      colorClass: MODE_COLORS[nextMode],\r\n      lastUpdated: event.timestamp,\r\n      snapshot: event.snapshot,\r\n      history: nextHistory,\r\n    });\r\n  },\r\n}));\r\n","import { create } from 'zustand';\r\n\r\nexport interface WorkspaceEvent {\r\n  id: string;\r\n  workspaceId?: string | null;\r\n  type: string;\r\n  message?: string;\r\n  payload?: unknown;\r\n  timestamp: number;\r\n}\r\n\r\ninterface WorkspaceEventsState {\r\n  events: WorkspaceEvent[];\r\n  pushEvent: (event: Omit<WorkspaceEvent, 'id' | 'timestamp'> & { id?: string; timestamp?: number }) => void;\r\n  clear: (workspaceId?: string | null) => void;\r\n}\r\n\r\nexport const useWorkspaceEventsStore = create<WorkspaceEventsState>((set) => ({\r\n  events: [],\r\n  pushEvent: (event) =>\r\n    set((state) => {\r\n      const timestamp = event.timestamp ?? Date.now();\r\n      const id = event.id ?? `ws-${timestamp}-${Math.random().toString(36).slice(2, 8)}`;\r\n      return {\r\n        events: [\r\n          ...state.events,\r\n          {\r\n            id,\r\n            timestamp,\r\n            workspaceId: event.workspaceId ?? null,\r\n            type: event.type,\r\n            message: event.message,\r\n            payload: event.payload,\r\n          },\r\n        ].slice(-100),\r\n      };\r\n    }),\r\n  clear: (workspaceId) =>\r\n    set((state) => {\r\n      if (!workspaceId) {\r\n        return { events: [] };\r\n      }\r\n      return { events: state.events.filter((event) => event.workspaceId !== workspaceId) };\r\n    }),\r\n}));\r\n","/**\r\n * OmniDesk - Central dashboard for empty state (no tabs open)\r\n * Think: ChatGPT home + Arc Spaces + Obsidian Quick Launch\r\n */\r\n\r\nimport { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport {\r\n  Sparkles,\r\n  Search,\r\n  FileText,\r\n  Workflow,\r\n  Clock,\r\n  Pin,\r\n  RefreshCw,\r\n  Leaf,\r\n  Compass,\r\n  Bot,\r\n  GaugeCircle,\r\n  BatteryCharging,\r\n  Cloud,\r\n  CheckCircle2,\r\n  TrendingUp,\r\n  TrendingDown,\r\n  ClipboardCopy,\r\n  FileSearch,\r\n  Sparkle,\r\n} from 'lucide-react';\r\nimport { useTabsStore } from '../state/tabsStore';\r\nimport { useAppStore } from '../state/appStore';\r\nimport { ipc } from '../lib/ipc-typed';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { ipcEvents } from '../lib/ipc-events';\r\nimport { useEfficiencyStore } from '../state/efficiencyStore';\r\nimport { useWorkspaceEventsStore } from '../state/workspaceEventsStore';\r\nimport { useAgentStreamStore, type StreamStatus } from '../state/agentStreamStore';\r\n// import { CardSkeleton, ListSkeleton } from './common/Skeleton'; // Reserved for future use\r\n\r\ntype OmniDeskVariant = 'overlay' | 'split';\r\n\r\ninterface OmniDeskProps {\r\n  variant?: OmniDeskVariant;\r\n  forceShow?: boolean;\r\n}\r\n\r\ntype ContinueSession = {\r\n  id?: string;\r\n  type: string;\r\n  title: string;\r\n  url?: string;\r\n  timestamp: number;\r\n  sessionId?: string;\r\n};\r\n\r\ntype Workspace = {\r\n  id: string;\r\n  name: string;\r\n};\r\n\r\nconst SEARCH_ENDPOINT = 'https://duckduckgo.com/?q=';\r\n\r\nconst suggestedPrompts = [\r\n  'graph the AI ethics landscape',\r\n  'summarize today’s markets',\r\n  'compare battery life of M-series laptops',\r\n  'find regenerative design principles',\r\n];\r\n\r\nfunction buildSearchUrl(query: string) {\r\n  return `${SEARCH_ENDPOINT}${encodeURIComponent(query)}`;\r\n}\r\n\r\nfunction useDashboardData() {\r\n  const [recentWorkspaces, setRecentWorkspaces] = useState<Workspace[]>([]);\r\n  const [continueSessions, setContinueSessions] = useState<ContinueSession[]>([]);\r\n  const [loadingWorkspaces, setLoadingWorkspaces] = useState(true);\r\n  const [loadingSessions, setLoadingSessions] = useState(true);\r\n  const pushWorkspaceEvent = useWorkspaceEventsStore((state) => state.pushEvent);\r\n\r\n  const loadData = useCallback(async () => {\r\n    if (!window.ipc || typeof window.ipc.invoke !== 'function') {\r\n      return false;\r\n    }\r\n\r\n    setLoadingWorkspaces(true);\r\n    setLoadingSessions(true);\r\n\r\n    try {\r\n      const workspaceResult = await ipc.workspaceV2.list();\r\n      const workspaces = (workspaceResult as any)?.workspaces || [];\r\n      setRecentWorkspaces(workspaces.slice(0, 4));\r\n      setLoadingWorkspaces(false);\r\n    } catch {\r\n      setRecentWorkspaces([]);\r\n      setLoadingWorkspaces(false);\r\n    }\r\n\r\n    try {\r\n      const sessionsResult = await ipc.sessions.list();\r\n      const sessions = Array.isArray(sessionsResult) ? (sessionsResult as any[]) : [];\r\n      const continueItems: ContinueSession[] = sessions.slice(0, 3).map((session: any) => ({\r\n        id: session.id,\r\n        type: session.name?.includes('Research')\r\n          ? 'Research'\r\n          : session.name?.includes('Trade')\r\n          ? 'Trade'\r\n          : 'Browse',\r\n        title: session.name || 'Untitled Session',\r\n        url: session.lastUrl || 'about:blank',\r\n        timestamp: session.updatedAt || session.createdAt || Date.now() - 3600000,\r\n        sessionId: session.id,\r\n      }));\r\n\r\n      if (continueItems.length > 0) {\r\n        setContinueSessions(continueItems);\r\n      } else {\r\n        setContinueSessions([\r\n          {\r\n            type: 'Research',\r\n            title: 'Quantum Computing Research',\r\n            url: 'about:blank',\r\n            timestamp: Date.now() - 3600000,\r\n          },\r\n          {\r\n            type: 'Trade',\r\n            title: 'Market Analysis',\r\n            url: 'about:blank',\r\n            timestamp: Date.now() - 7200000,\r\n          },\r\n        ]);\r\n      }\r\n      setLoadingSessions(false);\r\n    } catch {\r\n      setContinueSessions([\r\n        {\r\n          type: 'Research',\r\n          title: 'Quantum Computing Research',\r\n          url: 'about:blank',\r\n          timestamp: Date.now() - 3600000,\r\n        },\r\n        {\r\n          type: 'Trade',\r\n          title: 'Market Analysis',\r\n          url: 'about:blank',\r\n          timestamp: Date.now() - 7200000,\r\n        },\r\n      ]);\r\n      setLoadingSessions(false);\r\n    }\r\n\r\n    return true;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n\r\n    const kickOff = () => {\r\n      if (cancelled) return;\r\n      loadData().then((ready) => {\r\n        if (!ready && !cancelled) {\r\n          setTimeout(kickOff, 500);\r\n        }\r\n      });\r\n    };\r\n\r\n    const initial = setTimeout(kickOff, 350);\r\n    const unsubscribeWorkspace = ipcEvents.on('workspace:updated', () => {\r\n      pushWorkspaceEvent({\r\n        type: 'workspace:updated',\r\n        message: 'Workspace metadata refreshed',\r\n      });\r\n      if (!cancelled) {\r\n        void loadData();\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      cancelled = true;\r\n      clearTimeout(initial);\r\n      unsubscribeWorkspace();\r\n    };\r\n  }, [loadData]);\r\n\r\n  return { recentWorkspaces, continueSessions, reload: loadData, loadingWorkspaces, loadingSessions };\r\n}\r\n\r\nexport function OmniDesk({ variant = 'overlay', forceShow = false }: OmniDeskProps) {\r\n  const { tabs, activeId } = useTabsStore();\r\n  const { setMode } = useAppStore();\r\n  const navigate = useNavigate();\r\n  const { recentWorkspaces, continueSessions, reload, loadingWorkspaces, loadingSessions } = useDashboardData();\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const efficiencyLabel = useEfficiencyStore((state) => state.label);\r\n  const efficiencyBadge = useEfficiencyStore((state) => state.badge);\r\n  const efficiencySnapshot = useEfficiencyStore((state) => state.snapshot);\r\n  const efficiencyUpdated = useEfficiencyStore((state) => state.lastUpdated);\r\n  const efficiencyHistory = useEfficiencyStore((state) => state.history);\r\n  const pushWorkspaceEvent = useWorkspaceEventsStore((state) => state.pushEvent);\r\n  const agentStatus = useAgentStreamStore((state) => state.status);\r\n  const agentLastGoal = useAgentStreamStore((state) => state.lastGoal);\r\n  const agentEvents = useAgentStreamStore((state) => state.events);\r\n  const agentTranscript = useAgentStreamStore((state) => state.transcript);\r\n\r\n  const agentPreview = useMemo(() => {\r\n    const latestEvents = agentEvents.slice(-3).reverse();\r\n    const lastUpdated = latestEvents.length > 0 ? latestEvents[0].timestamp : null;\r\n    const transcriptLines = agentTranscript\r\n      .split('\\n')\r\n      .map((line) => line.trim())\r\n      .filter(Boolean);\r\n    const statusPalette: Record<string, { label: string; tone: string }> = {\r\n      idle: { label: 'Idle', tone: 'border-slate-700/60 bg-slate-800/60 text-slate-300' },\r\n      connecting: { label: 'Connecting', tone: 'border-blue-500/40 bg-blue-500/15 text-blue-100' },\r\n      live: { label: 'Streaming', tone: 'border-emerald-500/40 bg-emerald-500/15 text-emerald-100' },\r\n      complete: { label: 'Complete', tone: 'border-purple-500/40 bg-purple-500/15 text-purple-100' },\r\n      error: { label: 'Error', tone: 'border-rose-500/40 bg-rose-500/15 text-rose-100' },\r\n    };\r\n    const statusTone = statusPalette[agentStatus] ?? statusPalette.idle;\r\n\r\n    const timeline = latestEvents.map((event) => {\r\n      switch (event.type) {\r\n        case 'start':\r\n          return {\r\n            ...event,\r\n            label: 'Run started',\r\n            detail: event.content ?? 'Agent boot sequence initiated.',\r\n            variant: 'border-blue-400/40 bg-blue-500/10 text-blue-100',\r\n          };\r\n        case 'step':\r\n          return {\r\n            ...event,\r\n            label: `Step ${event.step ?? ''}`.trim(),\r\n            detail: event.content ?? event.status ?? 'Executing tool call…',\r\n            variant: 'border-purple-400/40 bg-purple-500/10 text-purple-100',\r\n          };\r\n        case 'log':\r\n          return {\r\n            ...event,\r\n            label: 'Log update',\r\n            detail: event.content ?? 'Log appended.',\r\n            variant: 'border-slate-400/40 bg-slate-500/10 text-slate-100',\r\n          };\r\n        case 'consent':\r\n          return {\r\n            ...event,\r\n            label: event.approved ? 'Consent granted' : 'Consent requested',\r\n            detail: event.content ?? `Risk ${event.risk ?? 'medium'} · ${event.approved ? 'approved' : 'pending'}`,\r\n            variant: event.approved\r\n              ? 'border-emerald-400/40 bg-emerald-500/10 text-emerald-100'\r\n              : 'border-amber-400/40 bg-amber-500/10 text-amber-100',\r\n          };\r\n        case 'done':\r\n          return {\r\n            ...event,\r\n            label: 'Run complete',\r\n            detail: event.content ?? 'Outputs finalised.',\r\n            variant: 'border-emerald-400/40 bg-emerald-500/10 text-emerald-100',\r\n          };\r\n        case 'error':\r\n          return {\r\n            ...event,\r\n            label: 'Run error',\r\n            detail: event.content ?? 'Check diagnostics for details.',\r\n            variant: 'border-rose-400/40 bg-rose-500/10 text-rose-100',\r\n          };\r\n        default:\r\n          return {\r\n            ...event,\r\n            label: event.type,\r\n            detail: event.content ?? 'Event received.',\r\n            variant: 'border-slate-400/40 bg-slate-500/10 text-slate-100',\r\n          };\r\n      }\r\n    });\r\n\r\n    const snippetSource = timeline\r\n      .map((entry) => entry.detail)\r\n      .filter(Boolean)\r\n      .slice(0, 2);\r\n    const snippet = snippetSource.length > 0 ? snippetSource : transcriptLines.slice(-2);\r\n\r\n    return {\r\n      latestEvents,\r\n      timeline,\r\n      snippet,\r\n      lastUpdated,\r\n      statusTone,\r\n    };\r\n  }, [agentEvents, agentTranscript, agentStatus]);\r\n\r\n  const hasTranscript = useMemo(() => agentTranscript.trim().length > 0, [agentTranscript]);\r\n  const [copyStatus, setCopyStatus] = useState<'idle' | 'copying' | 'copied' | 'error'>('idle');\r\n\r\n  const handleCopyTranscript = useCallback(async () => {\r\n    if (!hasTranscript || typeof navigator === 'undefined' || !navigator.clipboard) {\r\n      setCopyStatus('error');\r\n      return;\r\n    }\r\n    try {\r\n      setCopyStatus('copying');\r\n      await navigator.clipboard.writeText(agentTranscript.trim());\r\n      setCopyStatus('copied');\r\n    } catch (error) {\r\n      console.warn('[OmniDesk] Failed to copy transcript', error);\r\n      setCopyStatus('error');\r\n    }\r\n  }, [agentTranscript, hasTranscript]);\r\n\r\n  useEffect(() => {\r\n    if (copyStatus !== 'copied') return;\r\n    const timeout = window.setTimeout(() => setCopyStatus('idle'), 2000);\r\n    return () => window.clearTimeout(timeout);\r\n  }, [copyStatus]);\r\n\r\n  const ecoMetrics = useMemo(() => {\r\n    const batteryPctValue = typeof efficiencySnapshot.batteryPct === 'number' ? Math.max(0, Math.min(100, Math.round(efficiencySnapshot.batteryPct))) : null;\r\n    const carbonIntensityValue =\r\n      typeof efficiencySnapshot.carbonIntensity === 'number' ? Math.max(0, Math.round(efficiencySnapshot.carbonIntensity)) : null;\r\n    const cpuLoad = Number.isFinite(efficiencySnapshot.cpuLoad1) ? Math.max(0, Math.min(100, Math.round(efficiencySnapshot.cpuLoad1))) : 0;\r\n    const activeTabs = efficiencySnapshot.activeTabs ?? 0;\r\n    const ecoScore = (() => {\r\n      const batteryComponent = batteryPctValue !== null ? batteryPctValue * 0.4 : 35;\r\n      const cpuComponent = 100 - cpuLoad;\r\n      const carbonComponent = carbonIntensityValue !== null ? Math.max(0, 220 - carbonIntensityValue) / 220 * 100 : 50;\r\n      const tabComponent = Math.max(0, 12 - activeTabs) / 12 * 100;\r\n      const raw = 0.35 * batteryComponent + 0.25 * cpuComponent + 0.25 * carbonComponent + 0.15 * tabComponent;\r\n      return Math.round(Math.max(5, Math.min(98, raw)));\r\n    })();\r\n\r\n    const achievements = [\r\n      {\r\n        id: 'battery',\r\n        label: batteryPctValue !== null ? `${batteryPctValue}% battery reserve` : 'Gathering battery telemetry',\r\n        description: batteryPctValue !== null && batteryPctValue >= 60 ? 'Great reserve for deep work.' : 'Stay plugged in to build reserve.',\r\n        achieved: batteryPctValue !== null && batteryPctValue >= 60,\r\n        icon: BatteryCharging,\r\n      },\r\n      {\r\n        id: 'carbon',\r\n        label: carbonIntensityValue !== null ? `${carbonIntensityValue} gCO₂/kWh grid intensity` : 'Estimating regional carbon mix',\r\n        description:\r\n          carbonIntensityValue !== null && carbonIntensityValue <= 180\r\n            ? 'Low-carbon window — ideal for heavy tasks.'\r\n            : 'Carbon intensity elevated. Schedule net-heavy work later.',\r\n        achieved: carbonIntensityValue !== null && carbonIntensityValue <= 180,\r\n        icon: Cloud,\r\n      },\r\n      {\r\n        id: 'tabs',\r\n        label: `${activeTabs} active tabs`,\r\n        description: activeTabs <= 6 ? 'Lean session profile — memory savings unlocked.' : 'Consider Hibernate to free resources.',\r\n        achieved: activeTabs <= 6,\r\n        icon: Sparkles,\r\n      },\r\n    ] as const;\r\n\r\n    return {\r\n      batteryPctValue,\r\n      carbonIntensityValue,\r\n      cpuLoad,\r\n      activeTabs,\r\n      ecoScore,\r\n      achievements,\r\n    };\r\n  }, [efficiencySnapshot]);\r\n\r\n  const ecoHistoryInsights = useMemo(() => {\r\n    const recent = efficiencyHistory.slice(-24);\r\n    const batterySeries = recent\r\n      .map((sample) => (typeof sample.batteryPct === 'number' ? sample.batteryPct : null))\r\n      .filter((value): value is number => value !== null);\r\n    const carbonSeries = recent\r\n      .map((sample) => (typeof sample.carbonIntensity === 'number' ? sample.carbonIntensity : null))\r\n      .filter((value): value is number => value !== null);\r\n\r\n    const computeTrend = (series: number[]) => {\r\n      if (series.length < 2) return { delta: 0, direction: 'flat' as const };\r\n      const last = series[series.length - 1];\r\n      const baseIndex = Math.max(0, series.length - 6);\r\n      const previous = series[baseIndex];\r\n      const delta = last - previous;\r\n      return {\r\n        delta,\r\n        direction: delta > 1 ? ('up' as const) : delta < -1 ? ('down' as const) : ('flat' as const),\r\n      };\r\n    };\r\n\r\n    const computeSparkline = (series: number[]) => {\r\n      if (series.length < 2) return '';\r\n      const min = Math.min(...series);\r\n      const max = Math.max(...series);\r\n      const range = max - min || 1;\r\n      return series\r\n        .map((value, index) => {\r\n          const x = (index / Math.max(series.length - 1, 1)) * 100;\r\n          const normalized = 100 - ((value - min) / range) * 80 - 10;\r\n          return `${x.toFixed(2)},${normalized.toFixed(2)}`;\r\n        })\r\n        .join(' ');\r\n    };\r\n\r\n    return {\r\n      battery: {\r\n        series: batterySeries,\r\n        path: computeSparkline(batterySeries),\r\n        trend: computeTrend(batterySeries),\r\n      },\r\n      carbon: {\r\n        series: carbonSeries,\r\n        path: computeSparkline(carbonSeries),\r\n        trend: computeTrend(carbonSeries),\r\n      },\r\n    };\r\n  }, [efficiencyHistory]);\r\n\r\n  const agentStatusLabels: Record<StreamStatus, string> = {\r\n    idle: 'Agent idle',\r\n    connecting: 'Connecting to Redix…',\r\n    live: 'Streaming answer in real time',\r\n    complete: 'Last run completed',\r\n    error: 'Run encountered an issue',\r\n  };\r\n\r\n  const ecoGauge = useMemo(() => {\r\n    const radius = 46;\r\n    const circumference = 2 * Math.PI * radius;\r\n    const clampedScore = Math.max(0, Math.min(100, ecoMetrics.ecoScore));\r\n    const offset = circumference - (clampedScore / 100) * circumference;\r\n    return { radius, circumference, offset, clampedScore };\r\n  }, [ecoMetrics.ecoScore]);\r\n\r\n  const quickActions = [\r\n    { \r\n      icon: Sparkles, \r\n      label: 'Ask Agent', \r\n      action: async () => {\r\n        navigate('/agent');\r\n      }, \r\n    color: 'from-blue-500 to-cyan-500',\r\n    description: 'Open the agent console to start a guided workflow.'\r\n    },\r\n    { \r\n      icon: Search, \r\n      label: 'Search Topic', \r\n      action: async () => {\r\n        // Switch to research mode and open search\r\n        setMode('Research');\r\n        await ipc.tabs.create('about:blank');\r\n      }, \r\n    color: 'from-purple-500 to-pink-500',\r\n    description: 'Launch AI-powered research with citations-first results.'\r\n    },\r\n    { \r\n      icon: FileText, \r\n      label: 'Research Notes', \r\n      action: async () => {\r\n        setMode('Research');\r\n        await ipc.tabs.create('about:blank');\r\n      }, \r\n    color: 'from-green-500 to-emerald-500',\r\n    description: 'Capture structured notes that sync with your highlights.'\r\n    },\r\n    { \r\n      icon: Workflow, \r\n      label: 'Run Playbook', \r\n      action: () => {\r\n        navigate('/playbooks');\r\n      }, \r\n    color: 'from-orange-500 to-red-500',\r\n    description: 'Automate multi-step workflows with reusable recipes.'\r\n    },\r\n  ];\r\n\r\n  const ecoStats = useMemo(() => {\r\n    const batteryPct =\r\n      ecoMetrics.batteryPctValue !== null ? `${ecoMetrics.batteryPctValue}%` : '—';\r\n    const carbonIntensity =\r\n      ecoMetrics.carbonIntensityValue !== null ? `${ecoMetrics.carbonIntensityValue} gCO₂/kWh` : 'Syncing…';\r\n    const activeTabs = `${ecoMetrics.activeTabs}`;\r\n    return { batteryPct, carbonIntensity, activeTabs };\r\n  }, [ecoMetrics]);\r\n\r\n  const handleContinueSession = async (session: any) => {\r\n    try {\r\n      let urlToLoad = session.url || 'about:blank';\r\n      \r\n      // Switch to the session first if it has a sessionId\r\n      if (session.sessionId) {\r\n        try {\r\n          await ipc.sessions.setActive({ sessionId: session.sessionId });\r\n          \r\n          // Wait a bit for session to switch\r\n          await new Promise(resolve => setTimeout(resolve, 200));\r\n          \r\n          // Check if session has tabs already\r\n          const tabs = await ipc.tabs.list();\r\n          if (tabs.length > 0) {\r\n            // Session has tabs, they should be visible now\r\n            // Activate the first tab if none is active\r\n            const activeTab = tabs.find(t => t.active);\r\n            if (!activeTab && tabs[0]) {\r\n              await ipc.tabs.activate({ id: tabs[0].id });\r\n            }\r\n            return; // Tabs exist, don't create new one\r\n          }\r\n          \r\n          // No tabs in session, create one with the session URL or default\r\n          if (!urlToLoad || urlToLoad === 'about:blank') {\r\n            // Try to get last visited URL from session or use default\r\n            urlToLoad = 'about:blank';\r\n          }\r\n        } catch (error) {\r\n          console.warn('Failed to set active session:', error);\r\n          // Continue with creating a tab\r\n        }\r\n      }\r\n      \r\n      // Set mode if specified\r\n      if (session.type === 'Research') {\r\n        setMode('Research');\r\n      } else if (session.type === 'Trade') {\r\n        setMode('Trade');\r\n      }\r\n      \r\n      // Create tab with the URL\r\n      const result = await ipc.tabs.create(urlToLoad);\r\n      if (!result) {\r\n        throw new Error('Failed to create tab');\r\n      }\r\n      \r\n      // Wait a bit for tab to be created and activated\r\n      await new Promise(resolve => setTimeout(resolve, 100));\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to continue session:', error);\r\n      // Last resort: create a blank tab\r\n      try {\r\n        await ipc.tabs.create('about:blank');\r\n        pushWorkspaceEvent({\r\n          type: 'workspace:resume-session',\r\n          workspaceId: session.sessionId ?? null,\r\n          message: `Started fallback tab for session \"${session.title}\"`,\r\n        });\r\n      } catch (e) {\r\n        console.error('Failed to create fallback tab:', e);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSearchLaunch = useCallback(\r\n    async (value: string) => {\r\n      const query = value.trim();\r\n      if (!query) return;\r\n\r\n      const targetUrl = buildSearchUrl(query);\r\n      setMode('Research');\r\n\r\n      try {\r\n        await ipc.tabs.create(targetUrl);\r\n        setSearchQuery('');\r\n      } catch (error) {\r\n        console.warn('Search launch fallback:', error);\r\n        if (typeof window !== 'undefined') {\r\n          window.open(targetUrl, '_blank', 'noopener,noreferrer');\r\n        }\r\n      }\r\n    },\r\n    [setMode]\r\n  );\r\n\r\n  const activeTab = tabs.find((tab) => tab.id === activeId);\r\n  const shouldShowDashboard = forceShow\r\n    ? true\r\n    : tabs.length === 0 ||\r\n      !activeTab ||\r\n      !activeTab.url ||\r\n      activeTab.url === 'about:blank' ||\r\n      activeTab.url.startsWith('ob://newtab') ||\r\n      activeTab.url.startsWith('ob://home');\r\n\r\n  if (!shouldShowDashboard) return null;\r\n\r\n  const containerClass =\r\n    variant === 'overlay'\r\n      ? 'absolute inset-0 z-10 flex h-full w-full overflow-auto bg-gradient-to-br from-[#131722] via-[#171B2A] to-[#10131C] px-6 py-8'\r\n      : 'flex h-full w-full overflow-auto bg-gradient-to-br from-[#0F121C] via-[#131827] to-[#0F121C] px-6 py-8';\r\n\r\n  const handleManualRefresh = async () => {\r\n    setRefreshing(true);\r\n    try {\r\n      await reload();\r\n      pushWorkspaceEvent({ type: 'workspace:manual-refresh', message: 'Dashboard refreshed' });\r\n    } finally {\r\n      setRefreshing(false);\r\n    }\r\n  };\r\n\r\n  const sessionSkeletons = useMemo(() => Array.from({ length: 2 }), []);\r\n  const workspaceSkeletons = useMemo(() => Array.from({ length: 3 }), []);\r\n\r\n  return (\r\n    <div className={containerClass} data-onboarding=\"dashboard\">\r\n      <div className=\"mx-auto flex h-full w-full max-w-6xl flex-col gap-6 xl:flex-row\">\r\n        <div className=\"flex-1 space-y-6\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.4 }}\r\n            className=\"rounded-3xl border border-slate-800/70 bg-slate-900/70 px-6 py-7 shadow-2xl shadow-black/30\"\r\n          >\r\n            <p className=\"text-xs uppercase tracking-[0.32em] text-slate-400\">Regenerative Command Center</p>\r\n            <h1 className=\"mt-3 text-3xl font-semibold text-slate-100 sm:text-4xl\">\r\n              Guide your next deep work session with OmniBrowser & Redix\r\n            </h1>\r\n            <p className=\"mt-3 max-w-2xl text-sm text-slate-400\">\r\n              Spin up an agent, resume an exploration, or launch a new search. Your flow state starts here.\r\n            </p>\r\n\r\n            <form\r\n              className=\"mt-6 space-y-3\"\r\n              onSubmit={(event) => {\r\n                event.preventDefault();\r\n                void handleSearchLaunch(searchQuery);\r\n              }}\r\n            >\r\n              <div className=\"flex flex-col gap-3 sm:flex-row\">\r\n                <div className=\"flex min-h-[52px] flex-1 items-center gap-3 rounded-2xl border border-slate-700/60 bg-slate-800/70 px-4 py-3 text-slate-200 focus-within:border-blue-500/60\">\r\n                  <Search size={18} className=\"text-blue-400\" />\r\n                  <input\r\n                    value={searchQuery}\r\n                    onChange={(event) => setSearchQuery(event.target.value)}\r\n                    placeholder=\"Search the open web, knowledge base, or ask Redix…\"\r\n                    className=\"flex-1 bg-transparent text-sm outline-none placeholder:text-slate-500\"\r\n                  />\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"inline-flex items-center justify-center rounded-2xl border border-blue-500/60 bg-blue-500/20 px-5 py-3 text-sm font-semibold text-blue-100 shadow-[0_10px_40px_-20px_rgba(59,130,246,0.8)] transition hover:border-blue-400 hover:bg-blue-500/30\"\r\n                >\r\n                  Launch Flow\r\n                </button>\r\n              </div>\r\n              <div className=\"flex flex-wrap gap-2 text-xs text-slate-400\">\r\n                {suggestedPrompts.map((prompt) => (\r\n                  <button\r\n                    key={prompt}\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setSearchQuery(prompt);\r\n                      void handleSearchLaunch(prompt);\r\n                    }}\r\n                    className=\"rounded-full border border-slate-700/60 bg-slate-800/60 px-3 py-1.5 transition hover:border-blue-500/50 hover:text-blue-200\"\r\n                  >\r\n                    {prompt}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </form>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.1, duration: 0.4 }}\r\n            className=\"grid gap-3 sm:grid-cols-2 xl:grid-cols-3\"\r\n          >\r\n            {quickActions.map((action) => {\r\n              const Icon = action.icon;\r\n              return (\r\n                <motion.button\r\n                  key={action.label}\r\n                  onClick={action.action}\r\n                  whileHover={{ y: -4, scale: 1.02 }}\r\n                  whileTap={{ scale: 0.96 }}\r\n                  transition={{ type: 'spring', stiffness: 400, damping: 17 }}\r\n                  className=\"group flex h-full flex-col justify-between gap-4 rounded-2xl border border-slate-800/70 bg-slate-900/60 px-5 py-6 text-left shadow-[0_12px_40px_-24px_rgba(15,23,42,0.9)] transition hover:border-slate-700/70 hover:bg-slate-900/80\"\r\n                >\r\n                  <span\r\n                    className={`inline-flex h-11 w-11 items-center justify-center rounded-xl bg-gradient-to-br ${action.color} text-white shadow-[0_15px_30px_-20px_currentColor]`}\r\n                  >\r\n                    <Icon className=\"h-5 w-5\" />\r\n                  </span>\r\n                  <div className=\"space-y-1\">\r\n                    <div className=\"text-sm font-semibold text-slate-100 group-hover:text-white\">\r\n                      {action.label}\r\n                    </div>\r\n                    {action.description ? (\r\n                      <p className=\"text-xs leading-snug text-slate-400 group-hover:text-slate-300\">\r\n                        {action.description}\r\n                      </p>\r\n                    ) : null}\r\n                  </div>\r\n                </motion.button>\r\n              );\r\n            })}\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.16, duration: 0.4 }}\r\n            className=\"rounded-3xl border border-violet-500/30 bg-violet-500/10 px-6 py-5 text-violet-100 shadow-[0_45px_120px_-60px_rgba(139,92,246,0.6)]\"\r\n          >\r\n            <div className=\"flex flex-wrap items-center justify-between gap-3\">\r\n              <div className=\"flex items-center gap-2 text-sm font-semibold\">\r\n                <span className=\"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-violet-400/40 bg-violet-500/20\">\r\n                  <Bot size={16} />\r\n                </span>\r\n                Live Redix Pulse\r\n              </div>\r\n              <span className={`inline-flex items-center gap-2 rounded-full px-3 py-1 text-[11px] ${agentPreview.statusTone.tone}`}>\r\n                <span className=\"h-2 w-2 rounded-full bg-current\" />\r\n                {agentStatusLabels[agentStatus]}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"mt-4 space-y-3 text-sm text-purple-100/90\">\r\n              {agentLastGoal ? (\r\n                <div className=\"rounded-2xl border border-violet-400/30 bg-violet-500/10 px-4 py-3 text-xs text-purple-100/80\">\r\n                  <span className=\"text-[11px] uppercase tracking-[0.28em] text-purple-200/70\">Last goal</span>\r\n                  <p className=\"mt-2 text-sm text-purple-100\">{agentLastGoal}</p>\r\n                </div>\r\n              ) : null}\r\n\r\n              <div className=\"rounded-2xl border border-violet-400/20 bg-violet-500/10 px-4 py-4\">\r\n                <span className=\"text-[11px] uppercase tracking-[0.3em] text-purple-200/70\">Preview</span>\r\n                <div className=\"mt-2 text-xs text-purple-100/80\">\r\n                  <AnimatePresence mode=\"popLayout\">\r\n                    {agentPreview.snippet.length > 0 ? (\r\n                      agentPreview.snippet.map((line, index) => (\r\n                        <motion.p\r\n                          key={`${line}-${index}`}\r\n                          initial={{ opacity: 0, y: 6 }}\r\n                          animate={{ opacity: 1, y: 0 }}\r\n                          exit={{ opacity: 0, y: -6 }}\r\n                          transition={{ duration: 0.25 }}\r\n                          className=\"leading-relaxed\"\r\n                        >\r\n                          {line}\r\n                        </motion.p>\r\n                      ))\r\n                    ) : (\r\n                      <motion.p initial={{ opacity: 0.6 }} animate={{ opacity: 1 }} className=\"text-purple-200/70\">\r\n                        No live transcript yet. Kick off a prompt to watch the agent stream.\r\n                      </motion.p>\r\n                    )}\r\n                  </AnimatePresence>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex flex-wrap gap-2 text-[11px]\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleCopyTranscript}\r\n                  disabled={!hasTranscript || copyStatus === 'copying'}\r\n                  className=\"inline-flex items-center gap-1 rounded-full border border-violet-400/40 bg-violet-500/15 px-3 py-1 font-medium text-purple-100 transition hover:border-violet-300/60 hover:bg-violet-500/25 disabled:cursor-not-allowed disabled:opacity-60\"\r\n                >\r\n                  <ClipboardCopy size={12} />\r\n                  {copyStatus === 'copied'\r\n                    ? 'Copied!'\r\n                    : copyStatus === 'copying'\r\n                      ? 'Copying…'\r\n                      : 'Copy transcript'}\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => navigate('/agent')}\r\n                  className=\"inline-flex items-center gap-1 rounded-full border border-violet-400/40 bg-violet-500/15 px-3 py-1 font-medium text-purple-100 transition hover:border-violet-300/60 hover:bg-violet-500/25\"\r\n                >\r\n                  <FileSearch size={12} />\r\n                  View run log\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => navigate('/agent')}\r\n                  className=\"inline-flex items-center gap-1 rounded-full border border-violet-400/40 bg-violet-500/15 px-3 py-1 font-medium text-purple-100 transition hover:border-violet-300/60 hover:bg-violet-500/25\"\r\n                >\r\n                  <Sparkle size={12} />\r\n                  Launch prompt\r\n                </button>\r\n              </div>\r\n\r\n              <div>\r\n                <span className=\"text-[11px] uppercase tracking-[0.28em] text-purple-200/70\">Timeline</span>\r\n                <div className=\"mt-2 space-y-2\">\r\n                  <AnimatePresence initial={false}>\r\n                    {agentPreview.timeline.length > 0 ? (\r\n                      agentPreview.timeline.map((event) => (\r\n                        <motion.div\r\n                          key={event.id}\r\n                          initial={{ opacity: 0, x: 8 }}\r\n                          animate={{ opacity: 1, x: 0 }}\r\n                          exit={{ opacity: 0, x: -8 }}\r\n                          transition={{ duration: 0.2 }}\r\n                          className={`flex items-center justify-between rounded-xl px-3 py-2 text-[11px] ${event.variant}`}\r\n                        >\r\n                          <span className=\"capitalize\">{event.label}</span>\r\n                          <span className=\"text-purple-300/70\">\r\n                            {formatDistanceToNow(event.timestamp, { addSuffix: true })}\r\n                          </span>\r\n                        </motion.div>\r\n                      ))\r\n                    ) : (\r\n                      <motion.div\r\n                        initial={{ opacity: 0, y: 8 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        exit={{ opacity: 0, y: -8 }}\r\n                        className=\"rounded-xl border border-dashed border-violet-400/30 px-4 py-3 text-[11px] text-purple-200/70\"\r\n                      >\r\n                        No agent events yet — run a plan or quick prompt to populate this stream.\r\n                      </motion.div>\r\n                    )}\r\n                  </AnimatePresence>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-4 flex flex-wrap justify-between gap-2 text-xs\">\r\n              <div className=\"text-purple-200/60\">\r\n                {agentPreview.lastUpdated\r\n                  ? `Updated ${formatDistanceToNow(agentPreview.lastUpdated, { addSuffix: true })}`\r\n                  : 'Awaiting first signal'}\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => navigate('/agent')}\r\n                className=\"inline-flex items-center gap-2 rounded-full border border-violet-400/40 bg-violet-500/20 px-3 py-1.5 text-xs font-medium text-purple-100 hover:border-violet-300/60 hover:bg-violet-500/30\"\r\n              >\r\n                Open agent console\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.2, duration: 0.4 }}\r\n            className=\"rounded-3xl border border-slate-800/60 bg-slate-900/60 px-6 py-5 shadow-lg\"\r\n          >\r\n            <div className=\"flex flex-wrap items-center gap-3 text-sm text-slate-400\">\r\n              <Compass size={16} className=\"text-slate-300\" />\r\n              <span>Pro tip:</span>\r\n              <span className=\"text-slate-300\">\r\n                Drag any research tab into Redix MindMap to instantly connect ideas.\r\n              </span>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n\r\n        <aside className=\"w-full flex-shrink-0 space-y-4 xl:w-[360px]\">\r\n          <motion.div\r\n            initial={{ opacity: 0, x: 10 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            transition={{ duration: 0.4 }}\r\n            className=\"rounded-2xl border border-slate-800/70 bg-slate-900/70 p-5 shadow-lg\"\r\n          >\r\n            <div className=\"mb-3 flex items-center justify-between text-sm font-semibold text-slate-300\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Clock size={16} />\r\n                Continue Session\r\n              </div>\r\n              <button\r\n                onClick={handleManualRefresh}\r\n                className=\"rounded-full border border-slate-700/60 p-1.5 text-slate-400 transition hover:border-slate-500/60 hover:text-slate-200\"\r\n                title=\"Refresh\"\r\n              >\r\n                <RefreshCw size={14} className={refreshing ? 'animate-spin' : ''} />\r\n              </button>\r\n            </div>\r\n            <div className=\"space-y-3\">\r\n              {loadingSessions\r\n                ? sessionSkeletons.map((_, idx) => (\r\n                    <motion.div\r\n                      key={`session-skeleton-${idx}`}\r\n                      initial={{ opacity: 0, y: 8 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                      transition={{ delay: idx * 0.1, duration: 0.3 }}\r\n                      className=\"h-[86px] w-full rounded-xl border border-slate-800/60 bg-slate-900/40 p-4\"\r\n                    >\r\n                      <div className=\"flex items-center gap-2 mb-2\">\r\n                        <div className=\"h-5 w-16 rounded-full bg-slate-800/60 animate-pulse\" />\r\n                        <div className=\"h-4 w-20 rounded-full bg-slate-800/60 animate-pulse\" />\r\n                      </div>\r\n                      <div className=\"h-5 w-3/4 rounded bg-slate-800/60 animate-pulse\" />\r\n                    </motion.div>\r\n                  ))\r\n                : continueSessions.length > 0\r\n                ? continueSessions.map((session, idx) => (\r\n                    <button\r\n                      key={idx}\r\n                      onClick={() => handleContinueSession(session)}\r\n                      className=\"group w-full rounded-xl border border-slate-800/60 bg-slate-900/60 px-4 py-3 text-left transition hover:border-slate-600/60 hover:bg-slate-900\"\r\n                    >\r\n                      <div className=\"flex items-center gap-2 text-xs text-slate-400\">\r\n                        <span\r\n                          className={`rounded-full px-2 py-0.5 text-[11px] ${\r\n                            session.type === 'Research'\r\n                              ? 'bg-purple-500/20 text-purple-300'\r\n                              : session.type === 'Trade'\r\n                              ? 'bg-emerald-500/20 text-emerald-300'\r\n                              : 'bg-blue-500/20 text-blue-200'\r\n                          }`}\r\n                        >\r\n                          {session.type}\r\n                        </span>\r\n                        <span>\r\n                          {formatDistanceToNow(session.timestamp, { addSuffix: true })}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"mt-2 text-sm font-medium text-slate-100 group-hover:text-white\">\r\n                        {session.title}\r\n                      </div>\r\n                    </button>\r\n                  ))\r\n                : (\r\n                    <div className=\"rounded-xl border border-dashed border-slate-700/60 px-4 py-6 text-center text-xs text-slate-500\">\r\n                      We’ll keep your auto-snapshots here for quick handoffs.\r\n                    </div>\r\n                  )}\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, x: 10 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            transition={{ delay: 0.1, duration: 0.4 }}\r\n            className=\"rounded-2xl border border-slate-800/70 bg-slate-900/70 p-5 shadow-lg\"\r\n          >\r\n            <div className=\"mb-3 flex items-center gap-2 text-sm font-semibold text-slate-300\">\r\n              <Pin size={16} />\r\n              Recent Workspaces\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              {loadingWorkspaces\r\n                ? workspaceSkeletons.map((_, idx) => (\r\n                    <motion.div\r\n                      key={`workspace-skeleton-${idx}`}\r\n                      initial={{ opacity: 0, x: -8 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      transition={{ delay: idx * 0.08, duration: 0.3 }}\r\n                      className=\"h-14 w-full rounded-xl border border-slate-800/60 bg-slate-900/40 p-3 flex items-center\"\r\n                    >\r\n                      <div className=\"h-4 w-2/3 rounded bg-slate-800/60 animate-pulse\" />\r\n                    </motion.div>\r\n                  ))\r\n                : recentWorkspaces.length > 0\r\n                ? recentWorkspaces.map((workspace) => (\r\n                    <button\r\n                      key={workspace.id}\r\n                      onClick={() => navigate(`/w/${workspace.id}`)}\r\n                      className=\"flex w-full items-center justify-between rounded-xl border border-slate-800/60 bg-slate-900/60 px-4 py-3 text-left text-sm text-slate-200 transition hover:border-slate-600/70 hover:text-white\"\r\n                    >\r\n                      <span className=\"truncate\">{workspace.name}</span>\r\n                      <span className=\"text-xs text-slate-500\">Open</span>\r\n                    </button>\r\n                  ))\r\n                : (\r\n                    <div className=\"rounded-xl border border-dashed border-slate-700/60 px-4 py-6 text-center text-xs text-slate-500\">\r\n                      Create a workspace to keep your Redix graph evolving.\r\n                    </div>\r\n                  )}\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, x: 10 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            transition={{ delay: 0.2, duration: 0.4 }}\r\n            className=\"overflow-hidden rounded-2xl border border-emerald-500/30 bg-gradient-to-br from-emerald-950/80 via-emerald-900/70 to-emerald-950/90 p-5 text-emerald-100 shadow-lg shadow-emerald-900/50\"\r\n          >\r\n            <div className=\"flex items-center justify-between gap-3\">\r\n              <div className=\"flex items-center gap-2 text-sm font-semibold\">\r\n                <span className=\"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-emerald-400/40 bg-emerald-500/10\">\r\n                  <Leaf size={16} />\r\n                </span>\r\n                Eco Scoreboard\r\n              </div>\r\n              <div className=\"text-right text-xs text-emerald-200/70\">\r\n                <div className=\"uppercase tracking-[0.3em] text-emerald-300/60\">Eco score</div>\r\n                <div className=\"text-xl font-semibold text-emerald-100\">\r\n                  {ecoGauge.clampedScore}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-5 grid gap-5 md:grid-cols-[150px,1fr]\">\r\n              <div className=\"relative mx-auto flex h-36 w-36 items-center justify-center\">\r\n                <svg width=\"150\" height=\"150\" viewBox=\"0 0 150 150\" className=\"absolute inset-0 text-emerald-500/40\">\r\n                  <circle\r\n                    cx=\"75\"\r\n                    cy=\"75\"\r\n                    r={ecoGauge.radius}\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"10\"\r\n                    fill=\"none\"\r\n                    className=\"opacity-30\"\r\n                  />\r\n                  <motion.circle\r\n                    cx=\"75\"\r\n                    cy=\"75\"\r\n                    r={ecoGauge.radius}\r\n                    stroke=\"url(#ecoGradient)\"\r\n                    strokeWidth=\"10\"\r\n                    strokeLinecap=\"round\"\r\n                    fill=\"none\"\r\n                    strokeDasharray={ecoGauge.circumference}\r\n                    strokeDashoffset={ecoGauge.offset}\r\n                    initial={{ strokeDashoffset: ecoGauge.circumference }}\r\n                    animate={{ strokeDashoffset: ecoGauge.offset }}\r\n                    transition={{ duration: 0.8, ease: 'easeOut' }}\r\n                    transform=\"rotate(-90 75 75)\"\r\n                  />\r\n                  <defs>\r\n                    <linearGradient id=\"ecoGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n                      <stop offset=\"0%\" stopColor=\"#34d399\" />\r\n                      <stop offset=\"100%\" stopColor=\"#22d3ee\" />\r\n                    </linearGradient>\r\n                  </defs>\r\n                </svg>\r\n                <div className=\"relative z-10 text-center\">\r\n                  <GaugeCircle size={28} className=\"mx-auto text-emerald-300\" />\r\n                  <div className=\"mt-2 text-3xl font-semibold text-emerald-50\">\r\n                    {ecoGauge.clampedScore}\r\n                  </div>\r\n                  <div className=\"text-[11px] uppercase tracking-[0.28em] text-emerald-200/70\">\r\n                    Regenerative\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-5\">\r\n                <div className=\"grid grid-cols-3 gap-3 rounded-2xl border border-emerald-400/20 bg-emerald-500/5 p-4 text-xs text-emerald-100/80\">\r\n                  <div>\r\n                    <p className=\"text-[11px] uppercase tracking-[0.28em] text-emerald-200/70\">Battery</p>\r\n                    <p className=\"mt-2 text-lg font-semibold text-emerald-50\">{ecoStats.batteryPct}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-[11px] uppercase tracking-[0.28em] text-emerald-200/70\">Carbon</p>\r\n                    <p className=\"mt-2 text-sm font-semibold text-emerald-50 leading-tight\">\r\n                      {ecoStats.carbonIntensity}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-[11px] uppercase tracking-[0.28em] text-emerald-200/70\">Active Tabs</p>\r\n                    <p className=\"mt-2 text-lg font-semibold text-emerald-50\">{ecoStats.activeTabs}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  {ecoMetrics.achievements.map((achievement) => {\r\n                    const Icon = achievement.icon;\r\n                    return (\r\n                      <div\r\n                        key={achievement.id}\r\n                        className=\"flex items-start gap-3 rounded-2xl border border-emerald-400/20 bg-emerald-500/10 px-4 py-3 text-xs text-emerald-100/80\"\r\n                      >\r\n                        <span\r\n                          className={`mt-0.5 inline-flex h-7 w-7 items-center justify-center rounded-xl border ${\r\n                            achievement.achieved\r\n                              ? 'border-emerald-400/60 bg-emerald-500/20 text-emerald-200'\r\n                              : 'border-emerald-400/20 bg-emerald-500/5 text-emerald-200/60'\r\n                          }`}\r\n                        >\r\n                          {achievement.achieved ? <CheckCircle2 size={14} /> : <Icon size={14} />}\r\n                        </span>\r\n                        <div>\r\n                          <div className=\"font-semibold text-emerald-100\">{achievement.label}</div>\r\n                          <div className=\"mt-1 text-[11px] text-emerald-200/70\">{achievement.description}</div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n\r\n                <div className=\"rounded-2xl border border-emerald-400/20 bg-emerald-500/10 px-4 py-4 text-xs text-emerald-100/80\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"font-semibold text-emerald-100\">Trends</div>\r\n                    <span className=\"text-[11px] uppercase tracking-[0.28em] text-emerald-200/70\">\r\n                      Last {Math.min(efficiencyHistory.length, 24)} samples\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"mt-3 grid gap-4 md:grid-cols-2\">\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"flex items-center gap-2 text-emerald-100\">\r\n                        Battery\r\n                        {ecoHistoryInsights.battery.trend.direction === 'up' ? (\r\n                          <TrendingUp size={12} className=\"text-emerald-300\" />\r\n                        ) : ecoHistoryInsights.battery.trend.direction === 'down' ? (\r\n                          <TrendingDown size={12} className=\"text-amber-300\" />\r\n                        ) : null}\r\n                        <span className=\"text-[11px] text-emerald-200/70\">\r\n                          {ecoHistoryInsights.battery.trend.delta > 0\r\n                            ? `+${ecoHistoryInsights.battery.trend.delta.toFixed(1)}`\r\n                            : ecoHistoryInsights.battery.trend.delta.toFixed(1)}\r\n                          %\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"relative h-16 overflow-hidden rounded-xl border border-emerald-400/20 bg-emerald-500/10\">\r\n                        {ecoHistoryInsights.battery.path ? (\r\n                          <svg viewBox=\"0 0 100 100\" className=\"absolute inset-0 h-full w-full text-emerald-300\">\r\n                            <polyline\r\n                              fill=\"none\"\r\n                              stroke=\"currentColor\"\r\n                              strokeWidth=\"3\"\r\n                              points={ecoHistoryInsights.battery.path}\r\n                            />\r\n                          </svg>\r\n                        ) : (\r\n                          <div className=\"flex h-full items-center justify-center text-[11px] text-emerald-200/60\">\r\n                            Not enough data\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"flex items-center gap-2 text-emerald-100\">\r\n                        Carbon\r\n                        {ecoHistoryInsights.carbon.trend.direction === 'down' ? (\r\n                          <TrendingDown size={12} className=\"text-emerald-300\" />\r\n                        ) : ecoHistoryInsights.carbon.trend.direction === 'up' ? (\r\n                          <TrendingUp size={12} className=\"text-amber-300\" />\r\n                        ) : null}\r\n                        <span className=\"text-[11px] text-emerald-200/70\">\r\n                          {ecoHistoryInsights.carbon.trend.delta > 0\r\n                            ? `+${ecoHistoryInsights.carbon.trend.delta.toFixed(0)}`\r\n                            : ecoHistoryInsights.carbon.trend.delta.toFixed(0)}{' '}\r\n                          g\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"relative h-16 overflow-hidden rounded-xl border border-emerald-400/20 bg-emerald-500/10\">\r\n                        {ecoHistoryInsights.carbon.path ? (\r\n                          <svg viewBox=\"0 0 100 100\" className=\"absolute inset-0 h-full w-full text-emerald-200\">\r\n                            <polyline\r\n                              fill=\"none\"\r\n                              stroke=\"currentColor\"\r\n                              strokeWidth=\"3\"\r\n                              points={ecoHistoryInsights.carbon.path}\r\n                            />\r\n                          </svg>\r\n                        ) : (\r\n                          <div className=\"flex h-full items-center justify-center text-[11px] text-emerald-200/60\">\r\n                            Awaiting carbon samples\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {efficiencyUpdated && (\r\n              <p className=\"mt-5 text-[11px] text-emerald-100/60\">\r\n                Updated {formatDistanceToNow(efficiencyUpdated, { addSuffix: true })}\r\n              </p>\r\n            )}\r\n            <p className=\"mt-1 text-[11px] text-emerald-100/70\">\r\n              {efficiencyLabel}\r\n              {efficiencyBadge ? ` • ${efficiencyBadge}` : ''}\r\n            </p>\r\n          </motion.div>\r\n        </aside>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["BatteryCharging","createLucideIcon","CircleGauge","ClipboardCopy","Compass","FileSearch","FileText","Leaf","Pin","Sparkle","TrendingDown","TrendingUp","Workflow","useAppStore","create","set","get","mode","next","MODE_LABELS","MODE_BADGES","MODE_COLORS","defaultSnapshot","HISTORY_KEY","loadHistory","raw","parsed","item","error","saveHistory","history","initialHistory","useEfficiencyStore","event","sample","nextHistory","nextMode","useWorkspaceEventsStore","state","timestamp","id","workspaceId","SEARCH_ENDPOINT","suggestedPrompts","buildSearchUrl","query","useDashboardData","recentWorkspaces","setRecentWorkspaces","useState","continueSessions","setContinueSessions","loadingWorkspaces","setLoadingWorkspaces","loadingSessions","setLoadingSessions","pushWorkspaceEvent","loadData","useCallback","workspaces","ipc","sessionsResult","continueItems","session","useEffect","cancelled","kickOff","ready","initial","unsubscribeWorkspace","ipcEvents","OmniDesk","variant","forceShow","tabs","activeId","useTabsStore","setMode","navigate","useNavigate","reload","searchQuery","setSearchQuery","refreshing","setRefreshing","efficiencyLabel","efficiencyBadge","efficiencySnapshot","efficiencyUpdated","efficiencyHistory","agentStatus","useAgentStreamStore","agentLastGoal","agentEvents","agentTranscript","agentPreview","useMemo","latestEvents","lastUpdated","transcriptLines","line","statusPalette","statusTone","timeline","snippetSource","entry","snippet","hasTranscript","copyStatus","setCopyStatus","handleCopyTranscript","timeout","ecoMetrics","batteryPctValue","carbonIntensityValue","cpuLoad","activeTabs","ecoScore","batteryComponent","cpuComponent","carbonComponent","tabComponent","achievements","Cloud","Sparkles","ecoHistoryInsights","recent","batterySeries","value","carbonSeries","computeTrend","series","last","baseIndex","previous","delta","computeSparkline","min","range","index","x","normalized","agentStatusLabels","ecoGauge","circumference","clampedScore","offset","quickActions","Search","ecoStats","batteryPct","carbonIntensity","handleContinueSession","urlToLoad","resolve","t","e","handleSearchLaunch","targetUrl","activeTab","tab","containerClass","handleManualRefresh","sessionSkeletons","workspaceSkeletons","jsx","jsxs","motion","prompt","action","Icon","Bot","AnimatePresence","formatDistanceToNow","Clock","RefreshCw","_","idx","workspace","GaugeCircle","achievement","CheckCircle2"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11]}