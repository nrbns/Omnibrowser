{"version":3,"file":"OmniDesk-XqA-NCuc.js","sources":["../../node_modules/lucide-react/dist/esm/icons/battery-charging.js","../../node_modules/lucide-react/dist/esm/icons/check.js","../../node_modules/lucide-react/dist/esm/icons/circle-gauge.js","../../node_modules/lucide-react/dist/esm/icons/clipboard-copy.js","../../node_modules/lucide-react/dist/esm/icons/compass.js","../../node_modules/lucide-react/dist/esm/icons/file-search.js","../../node_modules/lucide-react/dist/esm/icons/file-text.js","../../node_modules/lucide-react/dist/esm/icons/leaf.js","../../node_modules/lucide-react/dist/esm/icons/pin.js","../../node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","../../node_modules/lucide-react/dist/esm/icons/sparkle.js","../../node_modules/lucide-react/dist/esm/icons/trending-down.js","../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../node_modules/lucide-react/dist/esm/icons/workflow.js","../../src/state/appStore.ts","../../src/services/redixWs.ts","../../src/services/redixClient.ts","../../src/components/AIResponsePane.tsx","../../src/state/efficiencyStore.ts","../../src/state/workspaceEventsStore.ts","../../src/lib/tabFallback.ts","../../src/components/OmniDesk.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BatteryCharging = createLucideIcon(\"BatteryCharging\", [\n  [\"path\", { d: \"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2\", key: \"1sdynx\" }],\n  [\"path\", { d: \"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1\", key: \"1gkd3k\" }],\n  [\"path\", { d: \"m11 7-3 5h4l-3 5\", key: \"b4a64w\" }],\n  [\"line\", { x1: \"22\", x2: \"22\", y1: \"11\", y2: \"13\", key: \"4dh1rd\" }]\n]);\n\nexport { BatteryCharging as default };\n//# sourceMappingURL=battery-charging.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Check = createLucideIcon(\"Check\", [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]]);\n\nexport { Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleGauge = createLucideIcon(\"CircleGauge\", [\n  [\"path\", { d: \"M15.6 2.7a10 10 0 1 0 5.7 5.7\", key: \"1e0p6d\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }],\n  [\"path\", { d: \"M13.4 10.6 19 5\", key: \"1kr7tw\" }]\n]);\n\nexport { CircleGauge as default };\n//# sourceMappingURL=circle-gauge.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ClipboardCopy = createLucideIcon(\"ClipboardCopy\", [\n  [\"rect\", { width: \"8\", height: \"4\", x: \"8\", y: \"2\", rx: \"1\", ry: \"1\", key: \"tgr4d6\" }],\n  [\"path\", { d: \"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2\", key: \"4jdomd\" }],\n  [\"path\", { d: \"M16 4h2a2 2 0 0 1 2 2v4\", key: \"3hqy98\" }],\n  [\"path\", { d: \"M21 14H11\", key: \"1bme5i\" }],\n  [\"path\", { d: \"m15 10-4 4 4 4\", key: \"5dvupr\" }]\n]);\n\nexport { ClipboardCopy as default };\n//# sourceMappingURL=clipboard-copy.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Compass = createLucideIcon(\"Compass\", [\n  [\n    \"path\",\n    {\n      d: \"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z\",\n      key: \"9ktpf1\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n]);\n\nexport { Compass as default };\n//# sourceMappingURL=compass.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileSearch = createLucideIcon(\"FileSearch\", [\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\n    \"path\",\n    { d: \"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3\", key: \"ms7g94\" }\n  ],\n  [\"path\", { d: \"m9 18-1.5-1.5\", key: \"1j6qii\" }],\n  [\"circle\", { cx: \"5\", cy: \"14\", r: \"3\", key: \"ufru5t\" }]\n]);\n\nexport { FileSearch as default };\n//# sourceMappingURL=file-search.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileText = createLucideIcon(\"FileText\", [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"M10 9H8\", key: \"b1mrlr\" }],\n  [\"path\", { d: \"M16 13H8\", key: \"t4e002\" }],\n  [\"path\", { d: \"M16 17H8\", key: \"z1uh3a\" }]\n]);\n\nexport { FileText as default };\n//# sourceMappingURL=file-text.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Leaf = createLucideIcon(\"Leaf\", [\n  [\n    \"path\",\n    {\n      d: \"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z\",\n      key: \"nnexq3\"\n    }\n  ],\n  [\"path\", { d: \"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12\", key: \"mt58a7\" }]\n]);\n\nexport { Leaf as default };\n//# sourceMappingURL=leaf.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pin = createLucideIcon(\"Pin\", [\n  [\"path\", { d: \"M12 17v5\", key: \"bb1du9\" }],\n  [\n    \"path\",\n    {\n      d: \"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z\",\n      key: \"1nkz8b\"\n    }\n  ]\n]);\n\nexport { Pin as default };\n//# sourceMappingURL=pin.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RotateCcw = createLucideIcon(\"RotateCcw\", [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n]);\n\nexport { RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Sparkle = createLucideIcon(\"Sparkle\", [\n  [\n    \"path\",\n    {\n      d: \"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z\",\n      key: \"4pj2yx\"\n    }\n  ]\n]);\n\nexport { Sparkle as default };\n//# sourceMappingURL=sparkle.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingDown = createLucideIcon(\"TrendingDown\", [\n  [\"polyline\", { points: \"22 17 13.5 8.5 8.5 13.5 2 7\", key: \"1r2t7k\" }],\n  [\"polyline\", { points: \"16 17 22 17 22 11\", key: \"11uiuu\" }]\n]);\n\nexport { TrendingDown as default };\n//# sourceMappingURL=trending-down.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingUp = createLucideIcon(\"TrendingUp\", [\n  [\"polyline\", { points: \"22 7 13.5 15.5 8.5 10.5 2 17\", key: \"126l90\" }],\n  [\"polyline\", { points: \"16 7 22 7 22 13\", key: \"kwv8wd\" }]\n]);\n\nexport { TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Workflow = createLucideIcon(\"Workflow\", [\n  [\"rect\", { width: \"8\", height: \"8\", x: \"3\", y: \"3\", rx: \"2\", key: \"by2w9f\" }],\n  [\"path\", { d: \"M7 11v4a2 2 0 0 0 2 2h4\", key: \"xkn7yn\" }],\n  [\"rect\", { width: \"8\", height: \"8\", x: \"13\", y: \"13\", rx: \"2\", key: \"1cgmvn\" }]\n]);\n\nexport { Workflow as default };\n//# sourceMappingURL=workflow.js.map\n","import { create } from 'zustand';\r\n\r\ntype AppState = {\r\n  mode: 'Browse' | 'Research' | 'Trade' | 'Games' | 'Docs' | 'Images' | 'Threats' | 'GraphMind';\r\n  setMode: (m: AppState['mode']) => void;\r\n  graphDockOpen: boolean;\r\n  toggleGraphDock: () => void;\r\n  ledgerDockOpen: boolean;\r\n  toggleLedgerDock: () => void;\r\n  researchPaneOpen: boolean;\r\n  toggleResearchPane: () => void;\r\n}\r\n\r\nexport const useAppStore = create<AppState>((set, get) => ({\r\n  mode: 'Browse',\r\n  setMode: (mode) => set({ mode }),\r\n  graphDockOpen: false,\r\n  toggleGraphDock: () => {\r\n    const next = !get().graphDockOpen;\r\n    set({ graphDockOpen: next });\r\n    (window as any).ui?.setRightDock?.(next ? 360 : 0);\r\n  },\r\n  ledgerDockOpen: false,\r\n  toggleLedgerDock: () => {\r\n    const next = !get().ledgerDockOpen;\r\n    set({ ledgerDockOpen: next });\r\n    (window as any).ui?.setRightDock?.(next ? 360 : 0);\r\n  },\r\n  researchPaneOpen: false,\r\n  toggleResearchPane: () => {\r\n    const next = !get().researchPaneOpen;\r\n    set({ researchPaneOpen: next });\r\n    (window as any).ui?.setRightDock?.(next ? 420 : 0);\r\n  }\r\n}));\r\n\r\n\r\n","const DEFAULT_WS_URL = import.meta.env.VITE_REDIX_WS_URL || 'ws://localhost:4000/ws';\r\nconst DEFAULT_HTTP_URL = import.meta.env.VITE_REDIX_HTTP_URL || 'http://localhost:4000/api/query';\r\nconst DEFAULT_SSE_URL = import.meta.env.VITE_REDIX_SSE_URL || 'http://localhost:4000/api/ask';\r\n\r\nexport type RedixMessage = {\r\n  id?: string;\r\n  type: string;\r\n  payload?: Record<string, unknown>;\r\n};\r\n\r\ntype Listener = (message: RedixMessage) => void;\r\n\r\ntype RequestOptions = {\r\n  stream?: boolean;\r\n  taskId?: string;\r\n};\r\n\r\nexport class RedixWS {\r\n  url: string;\r\n  ws: WebSocket | null = null;\r\n  listeners: Map<string, Listener> = new Map();\r\n  backoff = 1000;\r\n\r\n  constructor(url: string = DEFAULT_WS_URL) {\r\n    this.url = url;\r\n    this.connect();\r\n  }\r\n\r\n  connect(): void {\r\n    this.ws = new WebSocket(this.url);\r\n\r\n    this.ws.onopen = () => {\r\n      this.backoff = 1000;\r\n    };\r\n\r\n    this.ws.onmessage = (event: MessageEvent<string>) => {\r\n      try {\r\n        const message: RedixMessage = JSON.parse(event.data);\r\n        if (message?.id && this.listeners.has(message.id)) {\r\n          const listener = this.listeners.get(message.id);\r\n          listener?.(message);\r\n        }\r\n        window.dispatchEvent(new CustomEvent('redix:message', { detail: message }));\r\n      } catch (error) {\r\n        console.warn('[RedixWS] failed to parse message', error);\r\n      }\r\n    };\r\n\r\n    this.ws.onclose = () => {\r\n      window.setTimeout(() => this.connect(), this.backoff);\r\n      this.backoff = Math.min(this.backoff * 1.5, 30_000);\r\n    };\r\n\r\n    this.ws.onerror = () => {\r\n      if (this.ws && this.ws.readyState === WebSocket.OPEN) {\r\n        this.ws.close();\r\n      }\r\n    };\r\n  }\r\n\r\n  send(message: RedixMessage): void {\r\n    if (this.ws && this.ws.readyState === WebSocket.OPEN) {\r\n      this.ws.send(JSON.stringify(message));\r\n    } else {\r\n      const payload = message.payload ?? {};\r\n      fetch(DEFAULT_HTTP_URL, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          query: (payload as Record<string, unknown>).query,\r\n          sessionId: (payload as Record<string, unknown>).sessionId,\r\n          options: (payload as Record<string, unknown>).options,\r\n        }),\r\n      })\r\n        .then(async (res) => {\r\n          if (!res.ok) {\r\n            throw new Error(`HTTP ${res.status}`);\r\n          }\r\n          const data = await res.json();\r\n          if (message.id && this.listeners.has(message.id)) {\r\n            const listener = this.listeners.get(message.id);\r\n            listener?.({\r\n              id: message.id,\r\n              type: 'final_result',\r\n              payload: data,\r\n            });\r\n            this.listeners.delete(message.id);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          if (message.id && this.listeners.has(message.id)) {\r\n            const listener = this.listeners.get(message.id);\r\n            listener?.({\r\n              id: message.id,\r\n              type: 'error',\r\n              payload: { message: error.message },\r\n            });\r\n            this.listeners.delete(message.id);\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  private startHttpStream(\r\n    id: string,\r\n    query: string,\r\n    sessionId: string,\r\n    options: RequestOptions,\r\n    onMessage: Listener,\r\n  ): { id: string; cancel: () => void } {\r\n    const url = new URL(DEFAULT_SSE_URL, window.location.origin);\r\n    url.searchParams.set('q', query);\r\n    url.searchParams.set('sessionId', sessionId);\r\n\r\n    const safeParse = (data: string | null) => {\r\n      if (!data) return {};\r\n      try {\r\n        return JSON.parse(data);\r\n      } catch {\r\n        return {};\r\n      }\r\n    };\r\n\r\n    const eventSource = new EventSource(url.toString());\r\n\r\n    const handleAck = (event: MessageEvent<string>) => {\r\n      onMessage({ id, type: 'ack', payload: safeParse(event.data) });\r\n    };\r\n    const handleUpdate = (event: MessageEvent<string>) => {\r\n      onMessage({ id, type: 'partial_result', payload: safeParse(event.data) });\r\n    };\r\n    const handleToken = (event: MessageEvent<string>) => {\r\n      const data = safeParse(event.data);\r\n      const item = (data as Record<string, unknown>).item;\r\n      const items = item ? [item] : [];\r\n      onMessage({ id, type: 'partial_result', payload: { items } });\r\n    };\r\n    const handleResult = (event: MessageEvent<string>) => {\r\n      onMessage({ id, type: 'final_result', payload: safeParse(event.data) });\r\n      cleanup();\r\n    };\r\n    const handleError = (event: MessageEvent<string>) => {\r\n      onMessage({ id, type: 'error', payload: safeParse(event.data) });\r\n      cleanup();\r\n    };\r\n    const handleDone = () => {\r\n      cleanup();\r\n    };\r\n\r\n    const cleanup = () => {\r\n      eventSource.removeEventListener('ack', handleAck as EventListener);\r\n      eventSource.removeEventListener('update', handleUpdate as EventListener);\r\n      eventSource.removeEventListener('token', handleToken as EventListener);\r\n      eventSource.removeEventListener('result', handleResult as EventListener);\r\n      eventSource.removeEventListener('error', handleError as EventListener);\r\n      eventSource.removeEventListener('done', handleDone as EventListener);\r\n      eventSource.close();\r\n    };\r\n\r\n    eventSource.addEventListener('ack', handleAck as EventListener);\r\n    eventSource.addEventListener('update', handleUpdate as EventListener);\r\n    eventSource.addEventListener('token', handleToken as EventListener);\r\n    eventSource.addEventListener('result', handleResult as EventListener);\r\n    eventSource.addEventListener('error', handleError as EventListener);\r\n    eventSource.addEventListener('done', handleDone as EventListener);\r\n\r\n    eventSource.onerror = () => {\r\n      onMessage({ id, type: 'error', payload: { message: 'sse-disconnected' } });\r\n      cleanup();\r\n    };\r\n\r\n    return {\r\n      id,\r\n      cancel: () => {\r\n        cleanup();\r\n      },\r\n    };\r\n  }\r\n\r\n  request(\r\n    query: string,\r\n    sessionId: string,\r\n    options: RequestOptions = {},\r\n    onMessage: Listener,\r\n  ): { id: string; cancel: () => void } {\r\n    const id = crypto.randomUUID();\r\n    if (!this.ws || this.ws.readyState !== WebSocket.OPEN) {\r\n      return this.startHttpStream(id, query, sessionId, options, onMessage);\r\n    }\r\n\r\n    this.listeners.set(id, onMessage);\r\n    this.send({\r\n      id,\r\n      type: 'start_query',\r\n      payload: { query, sessionId, options: { stream: true, ...options } },\r\n    });\r\n    return {\r\n      id,\r\n      cancel: () => {\r\n        this.listeners.delete(id);\r\n        this.send({ id, type: 'cancel', payload: { taskId: options.taskId } });\r\n      },\r\n    };\r\n  }\r\n}\r\n\r\nexport const redixWS = new RedixWS();\r\n\r\n","import { redixWS } from './redixWs';\r\n\r\ntype RedixMessage =\r\n  | { id: string; type: 'ack'; payload: { taskId: string } }\r\n  | { id: string; type: 'partial_result'; payload: { items: any[]; progress?: number } }\r\n  | { id: string; type: 'final_result'; payload: { items: any[]; progress?: number; taskId?: string } }\r\n  | { id: string; type: 'error'; payload: { message: string } }\r\n  | { type: string; payload: any };\r\n\r\ntype RequestOptions = {\r\n  sessionId: string;\r\n  onPartial?: (message: RedixMessage) => void;\r\n  onFinal?: (message: RedixMessage) => void;\r\n  onError?: (message: RedixMessage) => void;\r\n};\r\n\r\nexport function requestRedix(query: string, options: RequestOptions) {\r\n  const controller = redixWS.request(\r\n    query,\r\n    options.sessionId,\r\n    {},\r\n    (message) => {\r\n      const typed = message as RedixMessage;\r\n      switch (message.type) {\r\n        case 'partial_result':\r\n          options.onPartial?.(typed);\r\n          break;\r\n        case 'final_result':\r\n          options.onFinal?.(typed);\r\n          break;\r\n        case 'error':\r\n          options.onError?.(typed);\r\n          controller.cancel();\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n  );\r\n\r\n  return controller;\r\n}\r\n\r\n","/**\r\n * AIResponsePane - Streaming AI response display for search queries\r\n * Shows token-by-token streaming responses from Redix\r\n */\r\n\r\nimport { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { X, Sparkles, Loader2, Copy, Check } from 'lucide-react';\r\nimport { requestRedix } from '../services/redixClient';\r\n\r\ninterface AIResponsePaneProps {\r\n  query: string;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport function AIResponsePane({ query, isOpen, onClose }: AIResponsePaneProps) {\r\n  const [response, setResponse] = useState<string>('');\r\n  const [isStreaming, setIsStreaming] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [copied, setCopied] = useState(false);\r\n  const controllerRef = useRef<{ id: string; cancel: () => void } | null>(null);\r\n  const sessionIdRef = useRef<string>(`redix-ai-${crypto.randomUUID()}`);\r\n  const responseEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Auto-scroll to bottom as response streams\r\n  useEffect(() => {\r\n    if (responseEndRef.current && isStreaming) {\r\n      responseEndRef.current.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  }, [response, isStreaming]);\r\n\r\n  // Stream AI response when query changes and pane is open\r\n  useEffect(() => {\r\n    if (!isOpen || !query.trim()) {\r\n      return;\r\n    }\r\n\r\n    // Cancel any existing request\r\n    controllerRef.current?.cancel();\r\n    setResponse('');\r\n    setError(null);\r\n    setIsStreaming(true);\r\n\r\n    // Start streaming request\r\n    controllerRef.current = requestRedix(query, {\r\n      sessionId: sessionIdRef.current,\r\n      onPartial: (message) => {\r\n        // Handle token-by-token streaming\r\n        const payload = message.payload as any;\r\n        \r\n        // Check for text tokens in the response\r\n        if (payload.text) {\r\n          setResponse((prev) => prev + payload.text);\r\n        } else if (payload.content) {\r\n          setResponse((prev) => prev + payload.content);\r\n        } else if (payload.items && Array.isArray(payload.items)) {\r\n          // Handle structured results\r\n          const textContent = payload.items\r\n            .map((item: any) => item.text || item.content || item.snippet || '')\r\n            .join('\\n\\n');\r\n          if (textContent) {\r\n            setResponse((prev) => {\r\n              // Avoid duplicates\r\n              if (!prev.includes(textContent)) {\r\n                return prev + (prev ? '\\n\\n' : '') + textContent;\r\n              }\r\n              return prev;\r\n            });\r\n          }\r\n        }\r\n      },\r\n      onFinal: (message) => {\r\n        setIsStreaming(false);\r\n        const payload = message.payload as any;\r\n        \r\n        // Final response might contain complete text\r\n        if (payload.text) {\r\n          setResponse((prev) => prev + payload.text);\r\n        } else if (payload.content) {\r\n          setResponse((prev) => prev + payload.content);\r\n        } else if (payload.items && Array.isArray(payload.items)) {\r\n          const textContent = payload.items\r\n            .map((item: any) => item.text || item.content || item.snippet || '')\r\n            .join('\\n\\n');\r\n          if (textContent && !response.includes(textContent)) {\r\n            setResponse((prev) => prev + (prev ? '\\n\\n' : '') + textContent);\r\n          }\r\n        }\r\n      },\r\n      onError: (message) => {\r\n        setIsStreaming(false);\r\n        const errorMsg = (message.payload as any)?.message || 'Failed to get AI response';\r\n        setError(errorMsg);\r\n        console.error('[AIResponsePane] Redix error:', message);\r\n      },\r\n    });\r\n\r\n    return () => {\r\n      controllerRef.current?.cancel();\r\n      controllerRef.current = null;\r\n    };\r\n  }, [query, isOpen]);\r\n\r\n  const handleCopy = useCallback(async () => {\r\n    if (!response) return;\r\n    \r\n    try {\r\n      await navigator.clipboard.writeText(response);\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n    } catch (error) {\r\n      console.error('[AIResponsePane] Failed to copy:', error);\r\n    }\r\n  }, [response]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        exit={{ opacity: 0, y: 20 }}\r\n        transition={{ duration: 0.2 }}\r\n        className=\"fixed bottom-20 left-1/2 -translate-x-1/2 z-50 w-full max-w-4xl mx-4 rounded-2xl border border-slate-700/70 bg-slate-950/95 backdrop-blur-xl shadow-2xl\"\r\n        style={{ maxHeight: '60vh' }}\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-slate-800/60\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"flex items-center justify-center w-8 h-8 rounded-full bg-emerald-500/20\">\r\n              <Sparkles size={16} className=\"text-emerald-400\" />\r\n            </div>\r\n            <div>\r\n              <h3 className=\"text-sm font-semibold text-gray-100\">AI Response</h3>\r\n              <p className=\"text-xs text-gray-400 truncate max-w-md\">{query}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            {response && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleCopy}\r\n                className=\"p-2 rounded-lg text-gray-400 hover:text-gray-200 hover:bg-slate-800/60 transition-colors\"\r\n                title=\"Copy response\"\r\n              >\r\n                {copied ? <Check size={16} /> : <Copy size={16} />}\r\n              </button>\r\n            )}\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"p-2 rounded-lg text-gray-400 hover:text-gray-200 hover:bg-slate-800/60 transition-colors\"\r\n              title=\"Close\"\r\n            >\r\n              <X size={16} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"px-6 py-4 overflow-y-auto\" style={{ maxHeight: 'calc(60vh - 80px)' }}>\r\n          {isStreaming && !response && (\r\n            <div className=\"flex items-center gap-3 text-gray-400\">\r\n              <Loader2 size={16} className=\"animate-spin text-emerald-400\" />\r\n              <span className=\"text-sm\">Streaming response from Redix...</span>\r\n            </div>\r\n          )}\r\n\r\n          {error && (\r\n            <div className=\"rounded-lg border border-red-500/40 bg-red-500/10 px-4 py-3 text-sm text-red-200\">\r\n              <p className=\"font-medium\">Error</p>\r\n              <p className=\"mt-1 text-xs text-red-300/80\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          {response && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              className=\"prose prose-invert prose-sm max-w-none text-gray-200\"\r\n            >\r\n              <div className=\"whitespace-pre-wrap break-words\">\r\n                {response}\r\n                {isStreaming && (\r\n                  <span className=\"inline-block w-2 h-4 ml-1 bg-emerald-400 animate-pulse\" />\r\n                )}\r\n              </div>\r\n              <div ref={responseEndRef} />\r\n            </motion.div>\r\n          )}\r\n\r\n          {!response && !isStreaming && !error && (\r\n            <div className=\"text-center py-8 text-gray-400\">\r\n              <Sparkles size={32} className=\"mx-auto mb-3 opacity-50\" />\r\n              <p className=\"text-sm\">Waiting for AI response...</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\n","import { create } from 'zustand';\r\n\r\nexport type EfficiencyMode = 'normal' | 'battery-saver' | 'extreme';\r\n\r\nconst MODE_LABELS: Record<EfficiencyMode, string> = {\r\n  normal: 'Performance Mode',\r\n  'battery-saver': 'Battery Saver Mode',\r\n  extreme: 'Regen Mode',\r\n};\r\n\r\nconst MODE_BADGES: Record<EfficiencyMode, string | null> = {\r\n  normal: null,\r\n  'battery-saver': '+0.8hr battery',\r\n  extreme: '+1.8hr battery',\r\n};\r\n\r\nconst MODE_COLORS: Record<EfficiencyMode, string> = {\r\n  normal: 'text-gray-400',\r\n  'battery-saver': 'text-emerald-300',\r\n  extreme: 'text-amber-300',\r\n};\r\n\r\ntype Snapshot = {\r\n  batteryPct: number | null;\r\n  charging: boolean | null;\r\n  ramMb: number;\r\n  cpuLoad1: number;\r\n  activeTabs: number;\r\n  carbonIntensity?: number | null;\r\n  carbonRegion?: string | null;\r\n};\r\n\r\nexport type EfficiencySample = {\r\n  timestamp: number;\r\n  mode: EfficiencyMode;\r\n  batteryPct: number | null;\r\n  carbonIntensity: number | null | undefined;\r\n  cpuLoad: number;\r\n  activeTabs: number;\r\n};\r\n\r\ntype EfficiencyState = {\r\n  mode: EfficiencyMode;\r\n  label: string;\r\n  badge: string | null;\r\n  colorClass: string;\r\n  lastUpdated: number | null;\r\n  snapshot: Snapshot;\r\n  history: EfficiencySample[];\r\n  setEvent: (event: {\r\n    mode: EfficiencyMode;\r\n    label?: string | null;\r\n    badge?: string | null;\r\n    timestamp: number;\r\n    snapshot: Snapshot;\r\n  }) => void;\r\n};\r\n\r\nconst defaultSnapshot: Snapshot = {\r\n  batteryPct: null,\r\n  charging: null,\r\n  ramMb: 0,\r\n  cpuLoad1: 0,\r\n  activeTabs: 0,\r\n  carbonIntensity: null,\r\n  carbonRegion: null,\r\n};\r\n\r\nconst HISTORY_KEY = 'ob:ecoHistory:v1';\r\n\r\nfunction loadHistory(): EfficiencySample[] {\r\n  if (typeof window === 'undefined') return [];\r\n  try {\r\n    const raw = window.localStorage.getItem(HISTORY_KEY);\r\n    if (!raw) return [];\r\n    const parsed = JSON.parse(raw);\r\n    if (!Array.isArray(parsed)) return [];\r\n    return parsed\r\n      .map((item) => ({\r\n        timestamp: typeof item.timestamp === 'number' ? item.timestamp : Date.now(),\r\n        mode: (item.mode as EfficiencyMode) ?? 'normal',\r\n        batteryPct: typeof item.batteryPct === 'number' ? item.batteryPct : null,\r\n        carbonIntensity:\r\n          typeof item.carbonIntensity === 'number' || item.carbonIntensity === null\r\n            ? item.carbonIntensity\r\n            : undefined,\r\n        cpuLoad: typeof item.cpuLoad === 'number' ? item.cpuLoad : 0,\r\n        activeTabs: typeof item.activeTabs === 'number' ? item.activeTabs : 0,\r\n      }))\r\n      .slice(-120);\r\n  } catch (error) {\r\n    console.warn('[efficiencyStore] Failed to load history', error);\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction saveHistory(history: EfficiencySample[]) {\r\n  if (typeof window === 'undefined') return;\r\n  try {\r\n    window.localStorage.setItem(HISTORY_KEY, JSON.stringify(history));\r\n  } catch (error) {\r\n    console.warn('[efficiencyStore] Failed to persist history', error);\r\n  }\r\n}\r\n\r\nconst initialHistory = loadHistory();\r\n\r\nexport const useEfficiencyStore = create<EfficiencyState>((set, get) => ({\r\n  mode: 'normal',\r\n  label: MODE_LABELS.normal,\r\n  badge: MODE_BADGES.normal,\r\n  colorClass: MODE_COLORS.normal,\r\n  lastUpdated: null,\r\n  snapshot: defaultSnapshot,\r\n  history: initialHistory,\r\n  setEvent: (event) => {\r\n    const sample: EfficiencySample = {\r\n      timestamp: event.timestamp,\r\n      mode: event.mode,\r\n      batteryPct: event.snapshot.batteryPct,\r\n      carbonIntensity: event.snapshot.carbonIntensity,\r\n      cpuLoad: event.snapshot.cpuLoad1,\r\n      activeTabs: event.snapshot.activeTabs,\r\n    };\r\n    let nextHistory = get().history;\r\n    nextHistory = [...nextHistory, sample].slice(-120);\r\n    saveHistory(nextHistory);\r\n    const nextMode = event.mode;\r\n    set({\r\n      mode: nextMode,\r\n      label: event.label ?? MODE_LABELS[nextMode],\r\n      badge: event.badge ?? MODE_BADGES[nextMode],\r\n      colorClass: MODE_COLORS[nextMode],\r\n      lastUpdated: event.timestamp,\r\n      snapshot: event.snapshot,\r\n      history: nextHistory,\r\n    });\r\n  },\r\n}));\r\n","import { create } from 'zustand';\r\n\r\nexport interface WorkspaceEvent {\r\n  id: string;\r\n  workspaceId?: string | null;\r\n  type: string;\r\n  message?: string;\r\n  payload?: unknown;\r\n  timestamp: number;\r\n}\r\n\r\ninterface WorkspaceEventsState {\r\n  events: WorkspaceEvent[];\r\n  pushEvent: (event: Omit<WorkspaceEvent, 'id' | 'timestamp'> & { id?: string; timestamp?: number }) => void;\r\n  clear: (workspaceId?: string | null) => void;\r\n}\r\n\r\nexport const useWorkspaceEventsStore = create<WorkspaceEventsState>((set) => ({\r\n  events: [],\r\n  pushEvent: (event) =>\r\n    set((state) => {\r\n      const timestamp = event.timestamp ?? Date.now();\r\n      const id = event.id ?? `ws-${timestamp}-${Math.random().toString(36).slice(2, 8)}`;\r\n      return {\r\n        events: [\r\n          ...state.events,\r\n          {\r\n            id,\r\n            timestamp,\r\n            workspaceId: event.workspaceId ?? null,\r\n            type: event.type,\r\n            message: event.message,\r\n            payload: event.payload,\r\n          },\r\n        ].slice(-100),\r\n      };\r\n    }),\r\n  clear: (workspaceId) =>\r\n    set((state) => {\r\n      if (!workspaceId) {\r\n        return { events: [] };\r\n      }\r\n      return { events: state.events.filter((event) => event.workspaceId !== workspaceId) };\r\n    }),\r\n}));\r\n","import { useTabsStore } from '../state/tabsStore';\r\nimport { ipcEvents } from './ipc-events';\r\n\r\ntype FallbackOptions = {\r\n  url?: string;\r\n  title?: string;\r\n  activate?: boolean;\r\n  mode?: 'normal' | 'ghost' | 'private';\r\n};\r\n\r\nexport function createFallbackTab(options: FallbackOptions = {}) {\r\n  const store = typeof useTabsStore?.getState === 'function' ? useTabsStore.getState() : null;\r\n  if (!store) {\r\n    return null;\r\n  }\r\n\r\n  const {\r\n    url = 'about:blank',\r\n    title,\r\n    activate = true,\r\n    mode = 'normal',\r\n  } = options;\r\n\r\n  const existingTabs = Array.isArray(store.tabs) ? store.tabs : [];\r\n  const id =\r\n    typeof crypto !== 'undefined' && typeof crypto.randomUUID === 'function'\r\n      ? crypto.randomUUID()\r\n      : `local-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`;\r\n\r\n  const nextTabs = existingTabs.map((tab) => ({\r\n    ...tab,\r\n    active: activate ? false : Boolean(tab.active),\r\n  }));\r\n\r\n  const newTab = {\r\n    id,\r\n    title: title || url,\r\n    url,\r\n    active: activate,\r\n    mode,\r\n  };\r\n\r\n  nextTabs.push(newTab);\r\n\r\n  // Update the zustand store\r\n  store.setAll(nextTabs);\r\n\r\n  // Emit the update so any listeners (e.g., TabStrip) stay in sync\r\n  try {\r\n    ipcEvents.emit('tabs:updated', nextTabs);\r\n  } catch {\r\n    // Ignore emit errors in non-Electron contexts\r\n  }\r\n\r\n  return newTab;\r\n}\r\n\r\n\r\n","/**\r\n * OmniDesk - Central dashboard for empty state (no tabs open)\r\n * Think: ChatGPT home + Arc Spaces + Obsidian Quick Launch\r\n */\r\n\r\nimport { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport {\r\n  Sparkles,\r\n  Search,\r\n  FileText,\r\n  Workflow,\r\n  Clock,\r\n  Pin,\r\n  RefreshCw,\r\n  Leaf,\r\n  Compass,\r\n  Bot,\r\n  GaugeCircle,\r\n  BatteryCharging,\r\n  Cloud,\r\n  CheckCircle2,\r\n  TrendingUp,\r\n  TrendingDown,\r\n  ClipboardCopy,\r\n  FileSearch,\r\n  Sparkle,\r\n  Loader2,\r\n} from 'lucide-react';\r\nimport { useTabsStore } from '../state/tabsStore';\r\nimport { useAppStore } from '../state/appStore';\r\nimport { ipc } from '../lib/ipc-typed';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { ipcEvents } from '../lib/ipc-events';\r\nimport { AIResponsePane } from './AIResponsePane';\r\nimport { useEfficiencyStore } from '../state/efficiencyStore';\r\nimport { useWorkspaceEventsStore } from '../state/workspaceEventsStore';\r\nimport { useAgentStreamStore, type StreamStatus } from '../state/agentStreamStore';\r\nimport { createFallbackTab } from '../lib/tabFallback';\r\n// import { CardSkeleton, ListSkeleton } from './common/Skeleton'; // Reserved for future use\r\n\r\ntype OmniDeskVariant = 'overlay' | 'split';\r\n\r\ninterface OmniDeskProps {\r\n  variant?: OmniDeskVariant;\r\n  forceShow?: boolean;\r\n}\r\n\r\ntype ContinueSession = {\r\n  id?: string;\r\n  type: string;\r\n  title: string;\r\n  url?: string;\r\n  timestamp: number;\r\n  sessionId?: string;\r\n};\r\n\r\ntype Workspace = {\r\n  id: string;\r\n  name: string;\r\n};\r\n\r\nconst SEARCH_ENDPOINT = 'https://duckduckgo.com/?q=';\r\n\r\nconst suggestedPrompts = [\r\n  '@live explain quantum computing basics',\r\n  'graph the AI ethics landscape',\r\n  \"summarize today's markets\",\r\n  'compare battery life of M-series laptops',\r\n  'find regenerative design principles',\r\n];\r\n\r\nfunction buildSearchUrl(query: string) {\r\n  return `${SEARCH_ENDPOINT}${encodeURIComponent(query)}`;\r\n}\r\n\r\nfunction useDashboardData() {\r\n  const [recentWorkspaces, setRecentWorkspaces] = useState<Workspace[]>([]);\r\n  const [continueSessions, setContinueSessions] = useState<ContinueSession[]>([]);\r\n  const [loadingWorkspaces, setLoadingWorkspaces] = useState(true);\r\n  const [loadingSessions, setLoadingSessions] = useState(true);\r\n  const pushWorkspaceEvent = useWorkspaceEventsStore((state) => state.pushEvent);\r\n\r\n  const loadData = useCallback(async () => {\r\n    if (!window.ipc || typeof window.ipc.invoke !== 'function') {\r\n      return false;\r\n    }\r\n\r\n    setLoadingWorkspaces(true);\r\n    setLoadingSessions(true);\r\n\r\n    try {\r\n      const workspaceResult = await ipc.workspaceV2.list();\r\n      const workspaces = (workspaceResult as any)?.workspaces || [];\r\n      setRecentWorkspaces(workspaces.slice(0, 4));\r\n      setLoadingWorkspaces(false);\r\n    } catch {\r\n      setRecentWorkspaces([]);\r\n      setLoadingWorkspaces(false);\r\n    }\r\n\r\n    try {\r\n      const sessionsResult = await ipc.sessions.list();\r\n      const sessions = Array.isArray(sessionsResult) ? (sessionsResult as any[]) : [];\r\n      const continueItems: ContinueSession[] = sessions.slice(0, 3).map((session: any) => ({\r\n        id: session.id,\r\n        type: session.name?.includes('Research')\r\n          ? 'Research'\r\n          : session.name?.includes('Trade')\r\n          ? 'Trade'\r\n          : 'Browse',\r\n        title: session.name || 'Untitled Session',\r\n        url: session.lastUrl || 'about:blank',\r\n        timestamp: session.updatedAt || session.createdAt || Date.now() - 3600000,\r\n        sessionId: session.id,\r\n      }));\r\n\r\n      if (continueItems.length > 0) {\r\n        setContinueSessions(continueItems);\r\n      } else {\r\n        setContinueSessions([\r\n          {\r\n            type: 'Research',\r\n            title: 'Quantum Computing Research',\r\n            url: 'about:blank',\r\n            timestamp: Date.now() - 3600000,\r\n          },\r\n          {\r\n            type: 'Trade',\r\n            title: 'Market Analysis',\r\n            url: 'about:blank',\r\n            timestamp: Date.now() - 7200000,\r\n          },\r\n        ]);\r\n      }\r\n      setLoadingSessions(false);\r\n    } catch {\r\n      setContinueSessions([\r\n        {\r\n          type: 'Research',\r\n          title: 'Quantum Computing Research',\r\n          url: 'about:blank',\r\n          timestamp: Date.now() - 3600000,\r\n        },\r\n        {\r\n          type: 'Trade',\r\n          title: 'Market Analysis',\r\n          url: 'about:blank',\r\n          timestamp: Date.now() - 7200000,\r\n        },\r\n      ]);\r\n      setLoadingSessions(false);\r\n    }\r\n\r\n    return true;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n\r\n    const kickOff = () => {\r\n      if (cancelled) return;\r\n      loadData().then((ready) => {\r\n        if (!ready && !cancelled) {\r\n          setTimeout(kickOff, 500);\r\n        }\r\n      });\r\n    };\r\n\r\n    const initial = setTimeout(kickOff, 350);\r\n    const unsubscribeWorkspace = ipcEvents.on('workspace:updated', () => {\r\n      pushWorkspaceEvent({\r\n        type: 'workspace:updated',\r\n        message: 'Workspace metadata refreshed',\r\n      });\r\n      if (!cancelled) {\r\n        void loadData();\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      cancelled = true;\r\n      clearTimeout(initial);\r\n      unsubscribeWorkspace();\r\n    };\r\n  }, [loadData]);\r\n\r\n  return { recentWorkspaces, continueSessions, reload: loadData, loadingWorkspaces, loadingSessions };\r\n}\r\n\r\nexport function OmniDesk({ variant = 'overlay', forceShow = false }: OmniDeskProps) {\r\n  const { tabs, activeId } = useTabsStore();\r\n  const { setMode } = useAppStore();\r\n  const navigate = useNavigate();\r\n  const { recentWorkspaces, continueSessions, reload, loadingWorkspaces, loadingSessions } = useDashboardData();\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const [searchLoading, setSearchLoading] = useState(false);\r\n  const [aiResponseOpen, setAiResponseOpen] = useState(false);\r\n  const [aiQuery, setAiQuery] = useState('');\r\n  const efficiencyLabel = useEfficiencyStore((state) => state.label);\r\n  const efficiencyBadge = useEfficiencyStore((state) => state.badge);\r\n  const efficiencySnapshot = useEfficiencyStore((state) => state.snapshot);\r\n  const efficiencyUpdated = useEfficiencyStore((state) => state.lastUpdated);\r\n  const efficiencyHistory = useEfficiencyStore((state) => state.history);\r\n  const pushWorkspaceEvent = useWorkspaceEventsStore((state) => state.pushEvent);\r\n  const agentStatus = useAgentStreamStore((state) => state.status);\r\n  const agentLastGoal = useAgentStreamStore((state) => state.lastGoal);\r\n  const agentEvents = useAgentStreamStore((state) => state.events);\r\n  const agentTranscript = useAgentStreamStore((state) => state.transcript);\r\n\r\n  const agentPreview = useMemo(() => {\r\n    const latestEvents = agentEvents.slice(-3).reverse();\r\n    const lastUpdated = latestEvents.length > 0 ? latestEvents[0].timestamp : null;\r\n    const transcriptLines = agentTranscript\r\n      .split('\\n')\r\n      .map((line) => line.trim())\r\n      .filter(Boolean);\r\n    const statusPalette: Record<string, { label: string; tone: string }> = {\r\n      idle: { label: 'Idle', tone: 'border-slate-700/60 bg-slate-800/60 text-slate-300' },\r\n      connecting: { label: 'Connecting', tone: 'border-blue-500/40 bg-blue-500/15 text-blue-100' },\r\n      live: { label: 'Streaming', tone: 'border-emerald-500/40 bg-emerald-500/15 text-emerald-100' },\r\n      complete: { label: 'Complete', tone: 'border-purple-500/40 bg-purple-500/15 text-purple-100' },\r\n      error: { label: 'Error', tone: 'border-rose-500/40 bg-rose-500/15 text-rose-100' },\r\n    };\r\n    const statusTone = statusPalette[agentStatus] ?? statusPalette.idle;\r\n\r\n    const timeline = latestEvents.map((event) => {\r\n      switch (event.type) {\r\n        case 'start':\r\n          return {\r\n            ...event,\r\n            label: 'Run started',\r\n            detail: event.content ?? 'Agent boot sequence initiated.',\r\n            variant: 'border-blue-400/40 bg-blue-500/10 text-blue-100',\r\n          };\r\n        case 'step':\r\n          return {\r\n            ...event,\r\n            label: `Step ${event.step ?? ''}`.trim(),\r\n            detail: event.content ?? event.status ?? 'Executing tool call…',\r\n            variant: 'border-purple-400/40 bg-purple-500/10 text-purple-100',\r\n          };\r\n        case 'log':\r\n          return {\r\n            ...event,\r\n            label: 'Log update',\r\n            detail: event.content ?? 'Log appended.',\r\n            variant: 'border-slate-400/40 bg-slate-500/10 text-slate-100',\r\n          };\r\n        case 'consent':\r\n          return {\r\n            ...event,\r\n            label: event.approved ? 'Consent granted' : 'Consent requested',\r\n            detail: event.content ?? `Risk ${event.risk ?? 'medium'} · ${event.approved ? 'approved' : 'pending'}`,\r\n            variant: event.approved\r\n              ? 'border-emerald-400/40 bg-emerald-500/10 text-emerald-100'\r\n              : 'border-amber-400/40 bg-amber-500/10 text-amber-100',\r\n          };\r\n        case 'done':\r\n          return {\r\n            ...event,\r\n            label: 'Run complete',\r\n            detail: event.content ?? 'Outputs finalised.',\r\n            variant: 'border-emerald-400/40 bg-emerald-500/10 text-emerald-100',\r\n          };\r\n        case 'error':\r\n          return {\r\n            ...event,\r\n            label: 'Run error',\r\n            detail: event.content ?? 'Check diagnostics for details.',\r\n            variant: 'border-rose-400/40 bg-rose-500/10 text-rose-100',\r\n          };\r\n        default:\r\n          return {\r\n            ...event,\r\n            label: event.type,\r\n            detail: event.content ?? 'Event received.',\r\n            variant: 'border-slate-400/40 bg-slate-500/10 text-slate-100',\r\n          };\r\n      }\r\n    });\r\n\r\n    const snippetSource = timeline\r\n      .map((entry) => entry.detail)\r\n      .filter(Boolean)\r\n      .slice(0, 2);\r\n    const snippet = snippetSource.length > 0 ? snippetSource : transcriptLines.slice(-2);\r\n\r\n    return {\r\n      latestEvents,\r\n      timeline,\r\n      snippet,\r\n      lastUpdated,\r\n      statusTone,\r\n    };\r\n  }, [agentEvents, agentTranscript, agentStatus]);\r\n\r\n  const hasTranscript = useMemo(() => agentTranscript.trim().length > 0, [agentTranscript]);\r\n  const [copyStatus, setCopyStatus] = useState<'idle' | 'copying' | 'copied' | 'error'>('idle');\r\n\r\n  const handleCopyTranscript = useCallback(async () => {\r\n    if (!hasTranscript || typeof navigator === 'undefined' || !navigator.clipboard) {\r\n      setCopyStatus('error');\r\n      return;\r\n    }\r\n    try {\r\n      setCopyStatus('copying');\r\n      await navigator.clipboard.writeText(agentTranscript.trim());\r\n      setCopyStatus('copied');\r\n    } catch (error) {\r\n      console.warn('[OmniDesk] Failed to copy transcript', error);\r\n      setCopyStatus('error');\r\n    }\r\n  }, [agentTranscript, hasTranscript]);\r\n\r\n  useEffect(() => {\r\n    if (copyStatus !== 'copied') return;\r\n    const timeout = window.setTimeout(() => setCopyStatus('idle'), 2000);\r\n    return () => window.clearTimeout(timeout);\r\n  }, [copyStatus]);\r\n\r\n  const ecoMetrics = useMemo(() => {\r\n    const batteryPctValue = typeof efficiencySnapshot.batteryPct === 'number' ? Math.max(0, Math.min(100, Math.round(efficiencySnapshot.batteryPct))) : null;\r\n    const carbonIntensityValue =\r\n      typeof efficiencySnapshot.carbonIntensity === 'number' ? Math.max(0, Math.round(efficiencySnapshot.carbonIntensity)) : null;\r\n    const cpuLoad = Number.isFinite(efficiencySnapshot.cpuLoad1) ? Math.max(0, Math.min(100, Math.round(efficiencySnapshot.cpuLoad1))) : 0;\r\n    const activeTabs = efficiencySnapshot.activeTabs ?? 0;\r\n    const ecoScore = (() => {\r\n      const batteryComponent = batteryPctValue !== null ? batteryPctValue * 0.4 : 35;\r\n      const cpuComponent = 100 - cpuLoad;\r\n      const carbonComponent = carbonIntensityValue !== null ? Math.max(0, 220 - carbonIntensityValue) / 220 * 100 : 50;\r\n      const tabComponent = Math.max(0, 12 - activeTabs) / 12 * 100;\r\n      const raw = 0.35 * batteryComponent + 0.25 * cpuComponent + 0.25 * carbonComponent + 0.15 * tabComponent;\r\n      return Math.round(Math.max(5, Math.min(98, raw)));\r\n    })();\r\n\r\n    const achievements = [\r\n      {\r\n        id: 'battery',\r\n        label: batteryPctValue !== null ? `${batteryPctValue}% battery reserve` : 'Gathering battery telemetry',\r\n        description: batteryPctValue !== null && batteryPctValue >= 60 ? 'Great reserve for deep work.' : 'Stay plugged in to build reserve.',\r\n        achieved: batteryPctValue !== null && batteryPctValue >= 60,\r\n        icon: BatteryCharging,\r\n      },\r\n      {\r\n        id: 'carbon',\r\n        label: carbonIntensityValue !== null ? `${carbonIntensityValue} gCO₂/kWh grid intensity` : 'Estimating regional carbon mix',\r\n        description:\r\n          carbonIntensityValue !== null && carbonIntensityValue <= 180\r\n            ? 'Low-carbon window — ideal for heavy tasks.'\r\n            : 'Carbon intensity elevated. Schedule net-heavy work later.',\r\n        achieved: carbonIntensityValue !== null && carbonIntensityValue <= 180,\r\n        icon: Cloud,\r\n      },\r\n      {\r\n        id: 'tabs',\r\n        label: `${activeTabs} active tabs`,\r\n        description: activeTabs <= 6 ? 'Lean session profile — memory savings unlocked.' : 'Consider Hibernate to free resources.',\r\n        achieved: activeTabs <= 6,\r\n        icon: Sparkles,\r\n      },\r\n    ] as const;\r\n\r\n    return {\r\n      batteryPctValue,\r\n      carbonIntensityValue,\r\n      cpuLoad,\r\n      activeTabs,\r\n      ecoScore,\r\n      achievements,\r\n    };\r\n  }, [efficiencySnapshot]);\r\n\r\n  const ecoHistoryInsights = useMemo(() => {\r\n    const recent = efficiencyHistory.slice(-24);\r\n    const batterySeries = recent\r\n      .map((sample) => (typeof sample.batteryPct === 'number' ? sample.batteryPct : null))\r\n      .filter((value): value is number => value !== null);\r\n    const carbonSeries = recent\r\n      .map((sample) => (typeof sample.carbonIntensity === 'number' ? sample.carbonIntensity : null))\r\n      .filter((value): value is number => value !== null);\r\n\r\n    const computeTrend = (series: number[]) => {\r\n      if (series.length < 2) return { delta: 0, direction: 'flat' as const };\r\n      const last = series[series.length - 1];\r\n      const baseIndex = Math.max(0, series.length - 6);\r\n      const previous = series[baseIndex];\r\n      const delta = last - previous;\r\n      return {\r\n        delta,\r\n        direction: delta > 1 ? ('up' as const) : delta < -1 ? ('down' as const) : ('flat' as const),\r\n      };\r\n    };\r\n\r\n    const computeSparkline = (series: number[]) => {\r\n      if (series.length < 2) return '';\r\n      const min = Math.min(...series);\r\n      const max = Math.max(...series);\r\n      const range = max - min || 1;\r\n      return series\r\n        .map((value, index) => {\r\n          const x = (index / Math.max(series.length - 1, 1)) * 100;\r\n          const normalized = 100 - ((value - min) / range) * 80 - 10;\r\n          return `${x.toFixed(2)},${normalized.toFixed(2)}`;\r\n        })\r\n        .join(' ');\r\n    };\r\n\r\n    return {\r\n      battery: {\r\n        series: batterySeries,\r\n        path: computeSparkline(batterySeries),\r\n        trend: computeTrend(batterySeries),\r\n      },\r\n      carbon: {\r\n        series: carbonSeries,\r\n        path: computeSparkline(carbonSeries),\r\n        trend: computeTrend(carbonSeries),\r\n      },\r\n    };\r\n  }, [efficiencyHistory]);\r\n\r\n  const agentStatusLabels: Record<StreamStatus, string> = {\r\n    idle: 'Agent idle',\r\n    connecting: 'Connecting to Redix…',\r\n    live: 'Streaming answer in real time',\r\n    complete: 'Last run completed',\r\n    error: 'Run encountered an issue',\r\n  };\r\n\r\n  const ecoGauge = useMemo(() => {\r\n    const radius = 46;\r\n    const circumference = 2 * Math.PI * radius;\r\n    const clampedScore = Math.max(0, Math.min(100, ecoMetrics.ecoScore));\r\n    const offset = circumference - (clampedScore / 100) * circumference;\r\n    return { radius, circumference, offset, clampedScore };\r\n  }, [ecoMetrics.ecoScore]);\r\n\r\n  const quickActions = [\r\n    { \r\n      icon: Sparkles, \r\n      label: 'Ask Agent', \r\n      action: async () => {\r\n        navigate('/agent');\r\n      }, \r\n    color: 'from-blue-500 to-cyan-500',\r\n    description: 'Open the agent console to start a guided workflow.'\r\n    },\r\n    { \r\n      icon: Search, \r\n      label: 'Search Topic', \r\n      action: async () => {\r\n        // Switch to research mode and open search\r\n        setMode('Research');\r\n        await ipc.tabs.create('about:blank');\r\n      }, \r\n    color: 'from-purple-500 to-pink-500',\r\n    description: 'Launch AI-powered research with citations-first results.'\r\n    },\r\n    { \r\n      icon: FileText, \r\n      label: 'Research Notes', \r\n      action: async () => {\r\n        setMode('Research');\r\n        await ipc.tabs.create('about:blank');\r\n      }, \r\n    color: 'from-green-500 to-emerald-500',\r\n    description: 'Capture structured notes that sync with your highlights.'\r\n    },\r\n    { \r\n      icon: Workflow, \r\n      label: 'Run Playbook', \r\n      action: () => {\r\n        navigate('/playbooks');\r\n      }, \r\n    color: 'from-orange-500 to-red-500',\r\n    description: 'Automate multi-step workflows with reusable recipes.'\r\n    },\r\n  ];\r\n\r\n  const ecoStats = useMemo(() => {\r\n    const batteryPct =\r\n      ecoMetrics.batteryPctValue !== null ? `${ecoMetrics.batteryPctValue}%` : '—';\r\n    const carbonIntensity =\r\n      ecoMetrics.carbonIntensityValue !== null ? `${ecoMetrics.carbonIntensityValue} gCO₂/kWh` : 'Syncing…';\r\n    const activeTabs = `${ecoMetrics.activeTabs}`;\r\n    return { batteryPct, carbonIntensity, activeTabs };\r\n  }, [ecoMetrics]);\r\n\r\n  const handleContinueSession = async (session: any) => {\r\n    try {\r\n      let urlToLoad = session.url || 'about:blank';\r\n      \r\n      // Switch to the session first if it has a sessionId\r\n      if (session.sessionId) {\r\n        try {\r\n          await ipc.sessions.setActive({ sessionId: session.sessionId });\r\n          \r\n          // Wait a bit for session to switch\r\n          await new Promise(resolve => setTimeout(resolve, 200));\r\n          \r\n          // Check if session has tabs already\r\n          const tabs = await ipc.tabs.list();\r\n          if (tabs.length > 0) {\r\n            // Session has tabs, they should be visible now\r\n            // Activate the first tab if none is active\r\n            const activeTab = tabs.find(t => t.active);\r\n            if (!activeTab && tabs[0]) {\r\n              await ipc.tabs.activate({ id: tabs[0].id });\r\n            }\r\n            return; // Tabs exist, don't create new one\r\n          }\r\n          \r\n          // No tabs in session, create one with the session URL or default\r\n          if (!urlToLoad || urlToLoad === 'about:blank') {\r\n            // Try to get last visited URL from session or use default\r\n            urlToLoad = 'about:blank';\r\n          }\r\n        } catch (error) {\r\n          console.warn('Failed to set active session:', error);\r\n          // Continue with creating a tab\r\n        }\r\n      }\r\n      \r\n      // Set mode if specified\r\n      if (session.type === 'Research') {\r\n        setMode('Research');\r\n      } else if (session.type === 'Trade') {\r\n        setMode('Trade');\r\n      }\r\n      \r\n      // Create tab with the URL\r\n      const result = await ipc.tabs.create(urlToLoad);\r\n      if (!result) {\r\n        throw new Error('Failed to create tab');\r\n      }\r\n      \r\n      // Wait a bit for tab to be created and activated\r\n      await new Promise(resolve => setTimeout(resolve, 100));\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to continue session:', error);\r\n      // Last resort: create a blank tab\r\n      try {\r\n        await ipc.tabs.create('about:blank');\r\n        pushWorkspaceEvent({\r\n          type: 'workspace:resume-session',\r\n          workspaceId: session.sessionId ?? null,\r\n          message: `Started fallback tab for session \"${session.title}\"`,\r\n        });\r\n      } catch (e) {\r\n        console.error('Failed to create fallback tab:', e);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSearchLaunch = useCallback(\r\n    async (value: string) => {\r\n      const query = value.trim();\r\n      if (!query) {\r\n        console.warn('[OmniDesk] Empty search query, ignoring');\r\n        return;\r\n      }\r\n\r\n      if (searchLoading) {\r\n        console.warn('[OmniDesk] Search already in progress, ignoring');\r\n        return;\r\n      }\r\n\r\n      setSearchLoading(true);\r\n      console.log('[OmniDesk] Launching search:', query);\r\n\r\n      // Check if query starts with @live or @ask for AI streaming\r\n      const isAIQuery = query.trim().startsWith('@live') || query.trim().startsWith('@ask');\r\n      \r\n      if (isAIQuery) {\r\n        // Show AI response pane for streaming queries\r\n        setAiQuery(query);\r\n        setAiResponseOpen(true);\r\n        setSearchLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Use the active tab if it's about:blank, otherwise create a new tab\r\n      const activeTab = tabs.find((tab) => tab.id === activeId);\r\n      const isAboutBlank = activeTab?.url === 'about:blank' || !activeTab?.url || activeTab?.url?.startsWith('about:');\r\n      \r\n      const targetUrl = buildSearchUrl(query);\r\n      setMode('Research');\r\n\r\n      try {\r\n        if (isAboutBlank && activeTab) {\r\n          // Navigate the existing tab instead of creating a new one\r\n          try {\r\n            console.log('[OmniDesk] Navigating existing tab:', activeTab.id, 'to:', targetUrl);\r\n            await ipc.tabs.navigate(activeTab.id, targetUrl);\r\n            setSearchQuery('');\r\n            console.log('[OmniDesk] Navigation successful');\r\n            return;\r\n          } catch (navError) {\r\n            // If navigation fails, fall through to create new tab\r\n            console.warn('[OmniDesk] Failed to navigate existing tab, creating new one:', navError);\r\n          }\r\n        }\r\n        \r\n        // Create a new tab with the search URL\r\n        console.log('[OmniDesk] Creating new tab with URL:', targetUrl);\r\n        const result = await ipc.tabs.create(targetUrl);\r\n        const success = result && typeof result === 'object' && 'success' in result ? result.success !== false : Boolean(result);\r\n        if (!success) {\r\n          console.warn('[OmniDesk] Tab creation failed, using fallback');\r\n          createFallbackTab({ url: targetUrl, title: `Search: ${query}` });\r\n          pushWorkspaceEvent({\r\n            type: 'workspace:launch-fallback',\r\n            message: 'IPC unavailable, opened search in fallback tab.',\r\n          });\r\n          if (typeof window !== 'undefined') {\r\n            window.open(targetUrl, '_blank', 'noopener,noreferrer');\r\n          }\r\n        } else {\r\n          console.log('[OmniDesk] Tab created successfully:', result);\r\n        }\r\n        setSearchQuery('');\r\n      } catch (error) {\r\n        console.error('[OmniDesk] Search launch error:', error);\r\n        createFallbackTab({ url: targetUrl, title: `Search: ${query}` });\r\n        pushWorkspaceEvent({\r\n          type: 'workspace:launch-error',\r\n          message: 'Encountered an error launching the flow. Using fallback tab.',\r\n          payload: { error: error instanceof Error ? error.message : String(error) },\r\n        });\r\n        if (typeof window !== 'undefined') {\r\n          window.open(targetUrl, '_blank', 'noopener,noreferrer');\r\n        }\r\n      } finally {\r\n        setSearchLoading(false);\r\n      }\r\n    },\r\n    [pushWorkspaceEvent, setMode, tabs, activeId, searchLoading]\r\n  );\r\n\r\n  // Show dashboard if forced, no tabs, or active tab is about:blank (search page)\r\n  const activeTabForDisplay = tabs.find((tab) => tab.id === activeId);\r\n  const isAboutBlankDisplay = activeTabForDisplay?.url === 'about:blank' || \r\n                       !activeTabForDisplay?.url || \r\n                       activeTabForDisplay?.url?.startsWith('about:') ||\r\n                       activeTabForDisplay?.url?.startsWith('ob://newtab') ||\r\n                       activeTabForDisplay?.url?.startsWith('ob://home');\r\n  const shouldShowDashboard = forceShow || tabs.length === 0 || !activeTabForDisplay || isAboutBlankDisplay;\r\n\r\n  if (!shouldShowDashboard) return null;\r\n\r\n  const containerClass =\r\n    variant === 'overlay'\r\n      ? 'absolute inset-0 z-20 flex h-full w-full overflow-auto bg-gradient-to-br from-[#131722] via-[#171B2A] to-[#10131C] px-6 py-8'\r\n      : variant === 'split'\r\n      ? 'flex h-full w-full overflow-auto bg-gradient-to-br from-[#131722] via-[#171B2A] to-[#10131C] px-6 py-8'\r\n      : 'flex h-full w-full overflow-auto bg-gradient-to-br from-[#0F121C] via-[#131827] to-[#0F121C] px-6 py-8';\r\n  \r\n  // Ensure container is properly sized and visible\r\n  const containerStyle = {\r\n    minHeight: '100%',\r\n    width: '100%',\r\n    position: variant === 'overlay' ? ('absolute' as const) : ('relative' as const),\r\n    zIndex: variant === 'overlay' ? 20 : 1,\r\n    pointerEvents: 'auto' as const,\r\n  };\r\n\r\n  const handleManualRefresh = async () => {\r\n    setRefreshing(true);\r\n    try {\r\n      await reload();\r\n      pushWorkspaceEvent({ type: 'workspace:manual-refresh', message: 'Dashboard refreshed' });\r\n    } finally {\r\n      setRefreshing(false);\r\n    }\r\n  };\r\n\r\n  const sessionSkeletons = useMemo(() => Array.from({ length: 2 }), []);\r\n  const workspaceSkeletons = useMemo(() => Array.from({ length: 3 }), []);\r\n\r\n  // Debug: Log when dashboard should show (only in dev)\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined' && (window as any).IS_DEV !== undefined) {\r\n      console.log('[OmniDesk] Rendering dashboard:', {\r\n        shouldShowDashboard,\r\n        forceShow,\r\n        tabsLength: tabs.length,\r\n        activeTab: activeTabForDisplay,\r\n        isAboutBlank: isAboutBlankDisplay,\r\n        variant,\r\n      });\r\n    }\r\n  }, [shouldShowDashboard, forceShow, tabs.length, activeTabForDisplay, isAboutBlankDisplay, variant]);\r\n\r\n  return (\r\n    <div \r\n      className={containerClass} \r\n      data-onboarding=\"dashboard\"\r\n      style={containerStyle}\r\n    >\r\n      <div className=\"mx-auto flex h-full w-full max-w-6xl flex-col gap-6 xl:flex-row\" style={{ minHeight: '100%' }}>\r\n        <div className=\"flex-1 space-y-6\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.4 }}\r\n            className=\"rounded-3xl border border-slate-800/70 bg-slate-900/70 px-6 py-7 shadow-2xl shadow-black/30\"\r\n          >\r\n            <p className=\"text-xs uppercase tracking-[0.32em] text-slate-400\">Regenerative Command Center</p>\r\n            <h1 className=\"mt-3 text-3xl font-semibold text-slate-100 sm:text-4xl\">\r\n              Guide your next deep work session with OmniBrowser & Redix\r\n            </h1>\r\n            <p className=\"mt-3 max-w-2xl text-sm text-slate-400\">\r\n              Spin up an agent, resume an exploration, or launch a new search. Your flow state starts here.\r\n            </p>\r\n\r\n            <form\r\n              className=\"mt-6 space-y-3\"\r\n              onSubmit={(event) => {\r\n                event.preventDefault();\r\n                void handleSearchLaunch(searchQuery);\r\n              }}\r\n            >\r\n              <div className=\"flex flex-col gap-3 sm:flex-row\">\r\n                <div className=\"flex min-h-[52px] flex-1 items-center gap-3 rounded-2xl border border-slate-700/60 bg-slate-800/70 px-4 py-3 text-slate-200 focus-within:border-blue-500/60\">\r\n                  <Search size={18} className=\"text-blue-400\" />\r\n                  <input\r\n                    value={searchQuery}\r\n                    onChange={(event) => setSearchQuery(event.target.value)}\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === 'Enter') {\r\n                        e.preventDefault();\r\n                        void handleSearchLaunch(searchQuery);\r\n                      }\r\n                    }}\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                    }}\r\n                    placeholder=\"Search the open web, knowledge base, or ask Redix…\"\r\n                    className=\"flex-1 bg-transparent text-sm outline-none placeholder:text-slate-500\"\r\n                    style={{ pointerEvents: 'auto', zIndex: 10 }}\r\n                    autoFocus={false}\r\n                    tabIndex={0}\r\n                  />\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    void handleSearchLaunch(searchQuery);\r\n                  }}\r\n                  disabled={searchLoading || !searchQuery.trim()}\r\n                  className=\"inline-flex items-center justify-center gap-2 rounded-2xl border border-blue-500/60 bg-blue-500/20 px-5 py-3 text-sm font-semibold text-blue-100 shadow-[0_10px_40px_-20px_rgba(59,130,246,0.8)] transition hover:border-blue-400 hover:bg-blue-500/30 cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500/50 disabled:opacity-60 disabled:cursor-not-allowed\"\r\n                  style={{ pointerEvents: 'auto', zIndex: 10 }}\r\n                >\r\n                  {searchLoading ? (\r\n                    <>\r\n                      <Loader2 size={16} className=\"animate-spin\" />\r\n                      <span>Launching...</span>\r\n                    </>\r\n                  ) : (\r\n                    'Launch Flow'\r\n                  )}\r\n                </button>\r\n              </div>\r\n              <div className=\"flex flex-wrap gap-2 text-xs text-slate-400\">\r\n                {suggestedPrompts.map((prompt) => (\r\n                  <button\r\n                    key={prompt}\r\n                    type=\"button\"\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      e.stopPropagation();\r\n                      if (searchLoading) return;\r\n                      setSearchQuery(prompt);\r\n                      void handleSearchLaunch(prompt);\r\n                    }}\r\n                    disabled={searchLoading}\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === 'Enter' || e.key === ' ') {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        setSearchQuery(prompt);\r\n                        void handleSearchLaunch(prompt);\r\n                      }\r\n                    }}\r\n                    className=\"rounded-full border border-slate-700/60 bg-slate-800/60 px-3 py-1.5 transition hover:border-blue-500/50 hover:bg-slate-800/80 hover:text-blue-200 cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500/50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                    style={{ pointerEvents: 'auto', zIndex: 10 }}\r\n                  >\r\n                    {prompt}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </form>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.1, duration: 0.4 }}\r\n            className=\"grid gap-3 sm:grid-cols-2 xl:grid-cols-3\"\r\n          >\r\n            {quickActions.map((action) => {\r\n              const Icon = action.icon;\r\n              return (\r\n                <motion.button\r\n                  key={action.label}\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    if (searchLoading) return;\r\n                    void action.action();\r\n                  }}\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === 'Enter' || e.key === ' ') {\r\n                      e.preventDefault();\r\n                      e.stopPropagation();\r\n                      if (searchLoading) return;\r\n                      void action.action();\r\n                    }\r\n                  }}\r\n                  disabled={searchLoading}\r\n                  whileHover={searchLoading ? {} : { y: -4, scale: 1.02 }}\r\n                  whileTap={searchLoading ? {} : { scale: 0.96 }}\r\n                  transition={{ type: 'spring', stiffness: 400, damping: 17 }}\r\n                  className={`group flex h-full flex-col justify-between gap-4 rounded-2xl border border-slate-800/70 bg-slate-900/60 px-5 py-6 text-left shadow-[0_12px_40px_-24px_rgba(15,23,42,0.9)] transition hover:border-slate-700/70 hover:bg-slate-900/80 cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${searchLoading ? 'opacity-60 cursor-not-allowed' : ''}`}\r\n                  style={{ pointerEvents: 'auto', zIndex: 10 }}\r\n                >\r\n                  <span\r\n                    className={`inline-flex h-11 w-11 items-center justify-center rounded-xl bg-gradient-to-br ${action.color} text-white shadow-[0_15px_30px_-20px_currentColor]`}\r\n                  >\r\n                    <Icon className=\"h-5 w-5\" />\r\n                  </span>\r\n                  <div className=\"space-y-1\">\r\n                    <div className=\"text-sm font-semibold text-slate-100 group-hover:text-white\">\r\n                      {action.label}\r\n                    </div>\r\n                    {action.description ? (\r\n                      <p className=\"text-xs leading-snug text-slate-400 group-hover:text-slate-300\">\r\n                        {action.description}\r\n                      </p>\r\n                    ) : null}\r\n                  </div>\r\n                </motion.button>\r\n              );\r\n            })}\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.16, duration: 0.4 }}\r\n            className=\"rounded-3xl border border-violet-500/30 bg-violet-500/10 px-6 py-5 text-violet-100 shadow-[0_45px_120px_-60px_rgba(139,92,246,0.6)]\"\r\n          >\r\n            <div className=\"flex flex-wrap items-center justify-between gap-3\">\r\n              <div className=\"flex items-center gap-2 text-sm font-semibold\">\r\n                <span className=\"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-violet-400/40 bg-violet-500/20\">\r\n                  <Bot size={16} />\r\n                </span>\r\n                Live Redix Pulse\r\n              </div>\r\n              <span className={`inline-flex items-center gap-2 rounded-full px-3 py-1 text-[11px] ${agentPreview.statusTone.tone}`}>\r\n                <span className=\"h-2 w-2 rounded-full bg-current\" />\r\n                {agentStatusLabels[agentStatus]}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"mt-4 space-y-3 text-sm text-purple-100/90\">\r\n              {agentLastGoal ? (\r\n                <div className=\"rounded-2xl border border-violet-400/30 bg-violet-500/10 px-4 py-3 text-xs text-purple-100/80\">\r\n                  <span className=\"text-[11px] uppercase tracking-[0.28em] text-purple-200/70\">Last goal</span>\r\n                  <p className=\"mt-2 text-sm text-purple-100\">{agentLastGoal}</p>\r\n                </div>\r\n              ) : null}\r\n\r\n              <div className=\"rounded-2xl border border-violet-400/20 bg-violet-500/10 px-4 py-4\">\r\n                <span className=\"text-[11px] uppercase tracking-[0.3em] text-purple-200/70\">Preview</span>\r\n                <div className=\"mt-2 text-xs text-purple-100/80\">\r\n                  <AnimatePresence mode=\"popLayout\">\r\n                    {agentPreview.snippet.length > 0 ? (\r\n                      agentPreview.snippet.map((line, index) => (\r\n                        <motion.p\r\n                          key={`${line}-${index}`}\r\n                          initial={{ opacity: 0, y: 6 }}\r\n                          animate={{ opacity: 1, y: 0 }}\r\n                          exit={{ opacity: 0, y: -6 }}\r\n                          transition={{ duration: 0.25 }}\r\n                          className=\"leading-relaxed\"\r\n                        >\r\n                          {line}\r\n                        </motion.p>\r\n                      ))\r\n                    ) : (\r\n                      <motion.p initial={{ opacity: 0.6 }} animate={{ opacity: 1 }} className=\"text-purple-200/70\">\r\n                        No live transcript yet. Kick off a prompt to watch the agent stream.\r\n                      </motion.p>\r\n                    )}\r\n                  </AnimatePresence>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex flex-wrap gap-2 text-[11px]\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleCopyTranscript}\r\n                  disabled={!hasTranscript || copyStatus === 'copying'}\r\n                  className=\"inline-flex items-center gap-1 rounded-full border border-violet-400/40 bg-violet-500/15 px-3 py-1 font-medium text-purple-100 transition hover:border-violet-300/60 hover:bg-violet-500/25 disabled:cursor-not-allowed disabled:opacity-60\"\r\n                >\r\n                  <ClipboardCopy size={12} />\r\n                  {copyStatus === 'copied'\r\n                    ? 'Copied!'\r\n                    : copyStatus === 'copying'\r\n                      ? 'Copying…'\r\n                      : 'Copy transcript'}\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => navigate('/agent')}\r\n                  className=\"inline-flex items-center gap-1 rounded-full border border-violet-400/40 bg-violet-500/15 px-3 py-1 font-medium text-purple-100 transition hover:border-violet-300/60 hover:bg-violet-500/25\"\r\n                >\r\n                  <FileSearch size={12} />\r\n                  View run log\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => navigate('/agent')}\r\n                  className=\"inline-flex items-center gap-1 rounded-full border border-violet-400/40 bg-violet-500/15 px-3 py-1 font-medium text-purple-100 transition hover:border-violet-300/60 hover:bg-violet-500/25\"\r\n                >\r\n                  <Sparkle size={12} />\r\n                  Launch prompt\r\n                </button>\r\n              </div>\r\n\r\n              <div>\r\n                <span className=\"text-[11px] uppercase tracking-[0.28em] text-purple-200/70\">Timeline</span>\r\n                <div className=\"mt-2 space-y-2\">\r\n                  <AnimatePresence initial={false}>\r\n                    {agentPreview.timeline.length > 0 ? (\r\n                      agentPreview.timeline.map((event) => (\r\n                        <motion.div\r\n                          key={event.id}\r\n                          initial={{ opacity: 0, x: 8 }}\r\n                          animate={{ opacity: 1, x: 0 }}\r\n                          exit={{ opacity: 0, x: -8 }}\r\n                          transition={{ duration: 0.2 }}\r\n                          className={`flex items-center justify-between rounded-xl px-3 py-2 text-[11px] ${event.variant}`}\r\n                        >\r\n                          <span className=\"capitalize\">{event.label}</span>\r\n                          <span className=\"text-purple-300/70\">\r\n                            {formatDistanceToNow(event.timestamp, { addSuffix: true })}\r\n                          </span>\r\n                        </motion.div>\r\n                      ))\r\n                    ) : (\r\n                      <motion.div\r\n                        initial={{ opacity: 0, y: 8 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        exit={{ opacity: 0, y: -8 }}\r\n                        className=\"rounded-xl border border-dashed border-violet-400/30 px-4 py-3 text-[11px] text-purple-200/70\"\r\n                      >\r\n                        No agent events yet — run a plan or quick prompt to populate this stream.\r\n                      </motion.div>\r\n                    )}\r\n                  </AnimatePresence>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-4 flex flex-wrap justify-between gap-2 text-xs\">\r\n              <div className=\"text-purple-200/60\">\r\n                {agentPreview.lastUpdated\r\n                  ? `Updated ${formatDistanceToNow(agentPreview.lastUpdated, { addSuffix: true })}`\r\n                  : 'Awaiting first signal'}\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => navigate('/agent')}\r\n                className=\"inline-flex items-center gap-2 rounded-full border border-violet-400/40 bg-violet-500/20 px-3 py-1.5 text-xs font-medium text-purple-100 hover:border-violet-300/60 hover:bg-violet-500/30\"\r\n              >\r\n                Open agent console\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ delay: 0.2, duration: 0.4 }}\r\n            className=\"rounded-3xl border border-slate-800/60 bg-slate-900/60 px-6 py-5 shadow-lg\"\r\n          >\r\n            <div className=\"flex flex-wrap items-center gap-3 text-sm text-slate-400\">\r\n              <Compass size={16} className=\"text-slate-300\" />\r\n              <span>Pro tip:</span>\r\n              <span className=\"text-slate-300\">\r\n                Drag any research tab into Redix MindMap to instantly connect ideas.\r\n              </span>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n\r\n        <aside className=\"w-full flex-shrink-0 space-y-4 xl:w-[360px]\">\r\n          <motion.div\r\n            initial={{ opacity: 0, x: 10 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            transition={{ duration: 0.4 }}\r\n            className=\"rounded-2xl border border-slate-800/70 bg-slate-900/70 p-5 shadow-lg\"\r\n          >\r\n            <div className=\"mb-3 flex items-center justify-between text-sm font-semibold text-slate-300\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Clock size={16} />\r\n                Continue Session\r\n              </div>\r\n              <button\r\n                onClick={handleManualRefresh}\r\n                className=\"rounded-full border border-slate-700/60 p-1.5 text-slate-400 transition hover:border-slate-500/60 hover:text-slate-200\"\r\n                title=\"Refresh\"\r\n              >\r\n                <RefreshCw size={14} className={refreshing ? 'animate-spin' : ''} />\r\n              </button>\r\n            </div>\r\n            <div className=\"space-y-3\">\r\n              {loadingSessions\r\n                ? sessionSkeletons.map((_, idx) => (\r\n                    <motion.div\r\n                      key={`session-skeleton-${idx}`}\r\n                      initial={{ opacity: 0, y: 8 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                      transition={{ delay: idx * 0.1, duration: 0.3 }}\r\n                      className=\"h-[86px] w-full rounded-xl border border-slate-800/60 bg-slate-900/40 p-4\"\r\n                    >\r\n                      <div className=\"flex items-center gap-2 mb-2\">\r\n                        <div className=\"h-5 w-16 rounded-full bg-slate-800/60 animate-pulse\" />\r\n                        <div className=\"h-4 w-20 rounded-full bg-slate-800/60 animate-pulse\" />\r\n                      </div>\r\n                      <div className=\"h-5 w-3/4 rounded bg-slate-800/60 animate-pulse\" />\r\n                    </motion.div>\r\n                  ))\r\n                : continueSessions.length > 0\r\n                ? continueSessions.map((session, idx) => (\r\n                    <button\r\n                      key={idx}\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        void handleContinueSession(session);\r\n                      }}\r\n                      onKeyDown={(e) => {\r\n                        if (e.key === 'Enter' || e.key === ' ') {\r\n                          e.preventDefault();\r\n                          e.stopPropagation();\r\n                          void handleContinueSession(session);\r\n                        }\r\n                      }}\r\n                      className=\"group w-full rounded-xl border border-slate-800/60 bg-slate-900/60 px-4 py-3 text-left transition hover:border-slate-600/60 hover:bg-slate-900 cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\r\n                      style={{ pointerEvents: 'auto', zIndex: 10 }}\r\n                    >\r\n                      <div className=\"flex items-center gap-2 text-xs text-slate-400\">\r\n                        <span\r\n                          className={`rounded-full px-2 py-0.5 text-[11px] ${\r\n                            session.type === 'Research'\r\n                              ? 'bg-purple-500/20 text-purple-300'\r\n                              : session.type === 'Trade'\r\n                              ? 'bg-emerald-500/20 text-emerald-300'\r\n                              : 'bg-blue-500/20 text-blue-200'\r\n                          }`}\r\n                        >\r\n                          {session.type}\r\n                        </span>\r\n                        <span>\r\n                          {formatDistanceToNow(session.timestamp, { addSuffix: true })}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"mt-2 text-sm font-medium text-slate-100 group-hover:text-white\">\r\n                        {session.title}\r\n                      </div>\r\n                    </button>\r\n                  ))\r\n                : (\r\n                    <div className=\"rounded-xl border border-dashed border-slate-700/60 px-4 py-6 text-center text-xs text-slate-500\">\r\n                      We’ll keep your auto-snapshots here for quick handoffs.\r\n                    </div>\r\n                  )}\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, x: 10 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            transition={{ delay: 0.1, duration: 0.4 }}\r\n            className=\"rounded-2xl border border-slate-800/70 bg-slate-900/70 p-5 shadow-lg\"\r\n          >\r\n            <div className=\"mb-3 flex items-center gap-2 text-sm font-semibold text-slate-300\">\r\n              <Pin size={16} />\r\n              Recent Workspaces\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              {loadingWorkspaces\r\n                ? workspaceSkeletons.map((_, idx) => (\r\n                    <motion.div\r\n                      key={`workspace-skeleton-${idx}`}\r\n                      initial={{ opacity: 0, x: -8 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      transition={{ delay: idx * 0.08, duration: 0.3 }}\r\n                      className=\"h-14 w-full rounded-xl border border-slate-800/60 bg-slate-900/40 p-3 flex items-center\"\r\n                    >\r\n                      <div className=\"h-4 w-2/3 rounded bg-slate-800/60 animate-pulse\" />\r\n                    </motion.div>\r\n                  ))\r\n                : recentWorkspaces.length > 0\r\n                ? recentWorkspaces.map((workspace) => (\r\n                    <button\r\n                      key={workspace.id}\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        navigate(`/w/${workspace.id}`);\r\n                      }}\r\n                      onKeyDown={(e) => {\r\n                        if (e.key === 'Enter' || e.key === ' ') {\r\n                          e.preventDefault();\r\n                          e.stopPropagation();\r\n                          navigate(`/w/${workspace.id}`);\r\n                        }\r\n                      }}\r\n                      className=\"flex w-full items-center justify-between rounded-xl border border-slate-800/60 bg-slate-900/60 px-4 py-3 text-left text-sm text-slate-200 transition hover:border-slate-600/70 hover:text-white cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\r\n                      style={{ pointerEvents: 'auto', zIndex: 10 }}\r\n                    >\r\n                      <span className=\"truncate\">{workspace.name}</span>\r\n                      <span className=\"text-xs text-slate-500\">Open</span>\r\n                    </button>\r\n                  ))\r\n                : (\r\n                    <div className=\"rounded-xl border border-dashed border-slate-700/60 px-4 py-6 text-center text-xs text-slate-500\">\r\n                      Create a workspace to keep your Redix graph evolving.\r\n                    </div>\r\n                  )}\r\n            </div>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, x: 10 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            transition={{ delay: 0.2, duration: 0.4 }}\r\n            className=\"overflow-hidden rounded-2xl border border-emerald-500/30 bg-gradient-to-br from-emerald-950/80 via-emerald-900/70 to-emerald-950/90 p-5 text-emerald-100 shadow-lg shadow-emerald-900/50\"\r\n          >\r\n            <div className=\"flex items-center justify-between gap-3\">\r\n              <div className=\"flex items-center gap-2 text-sm font-semibold\">\r\n                <span className=\"inline-flex h-9 w-9 items-center justify-center rounded-xl border border-emerald-400/40 bg-emerald-500/10\">\r\n                  <Leaf size={16} />\r\n                </span>\r\n                Eco Scoreboard\r\n              </div>\r\n              <div className=\"text-right text-xs text-emerald-200/70\">\r\n                <div className=\"uppercase tracking-[0.3em] text-emerald-300/60\">Eco score</div>\r\n                <div className=\"text-xl font-semibold text-emerald-100\">\r\n                  {ecoGauge.clampedScore}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-5 grid gap-5 md:grid-cols-[150px,1fr]\">\r\n              <div className=\"relative mx-auto flex h-36 w-36 items-center justify-center\">\r\n                <svg width=\"150\" height=\"150\" viewBox=\"0 0 150 150\" className=\"absolute inset-0 text-emerald-500/40\">\r\n                  <circle\r\n                    cx=\"75\"\r\n                    cy=\"75\"\r\n                    r={ecoGauge.radius}\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"10\"\r\n                    fill=\"none\"\r\n                    className=\"opacity-30\"\r\n                  />\r\n                  <motion.circle\r\n                    cx=\"75\"\r\n                    cy=\"75\"\r\n                    r={ecoGauge.radius}\r\n                    stroke=\"url(#ecoGradient)\"\r\n                    strokeWidth=\"10\"\r\n                    strokeLinecap=\"round\"\r\n                    fill=\"none\"\r\n                    strokeDasharray={ecoGauge.circumference}\r\n                    strokeDashoffset={ecoGauge.offset}\r\n                    initial={{ strokeDashoffset: ecoGauge.circumference }}\r\n                    animate={{ strokeDashoffset: ecoGauge.offset }}\r\n                    transition={{ duration: 0.8, ease: 'easeOut' }}\r\n                    transform=\"rotate(-90 75 75)\"\r\n                  />\r\n                  <defs>\r\n                    <linearGradient id=\"ecoGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n                      <stop offset=\"0%\" stopColor=\"#34d399\" />\r\n                      <stop offset=\"100%\" stopColor=\"#22d3ee\" />\r\n                    </linearGradient>\r\n                  </defs>\r\n                </svg>\r\n                <div className=\"relative z-10 text-center\">\r\n                  <GaugeCircle size={28} className=\"mx-auto text-emerald-300\" />\r\n                  <div className=\"mt-2 text-3xl font-semibold text-emerald-50\">\r\n                    {ecoGauge.clampedScore}\r\n                  </div>\r\n                  <div className=\"text-[11px] uppercase tracking-[0.28em] text-emerald-200/70\">\r\n                    Regenerative\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-5\">\r\n                <div className=\"grid grid-cols-3 gap-3 rounded-2xl border border-emerald-400/20 bg-emerald-500/5 p-4 text-xs text-emerald-100/80\">\r\n                  <div>\r\n                    <p className=\"text-[11px] uppercase tracking-[0.28em] text-emerald-200/70\">Battery</p>\r\n                    <p className=\"mt-2 text-lg font-semibold text-emerald-50\">{ecoStats.batteryPct}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-[11px] uppercase tracking-[0.28em] text-emerald-200/70\">Carbon</p>\r\n                    <p className=\"mt-2 text-sm font-semibold text-emerald-50 leading-tight\">\r\n                      {ecoStats.carbonIntensity}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-[11px] uppercase tracking-[0.28em] text-emerald-200/70\">Active Tabs</p>\r\n                    <p className=\"mt-2 text-lg font-semibold text-emerald-50\">{ecoStats.activeTabs}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  {ecoMetrics.achievements.map((achievement) => {\r\n                    const Icon = achievement.icon;\r\n                    return (\r\n                      <div\r\n                        key={achievement.id}\r\n                        className=\"flex items-start gap-3 rounded-2xl border border-emerald-400/20 bg-emerald-500/10 px-4 py-3 text-xs text-emerald-100/80\"\r\n                      >\r\n                        <span\r\n                          className={`mt-0.5 inline-flex h-7 w-7 items-center justify-center rounded-xl border ${\r\n                            achievement.achieved\r\n                              ? 'border-emerald-400/60 bg-emerald-500/20 text-emerald-200'\r\n                              : 'border-emerald-400/20 bg-emerald-500/5 text-emerald-200/60'\r\n                          }`}\r\n                        >\r\n                          {achievement.achieved ? <CheckCircle2 size={14} /> : <Icon size={14} />}\r\n                        </span>\r\n                        <div>\r\n                          <div className=\"font-semibold text-emerald-100\">{achievement.label}</div>\r\n                          <div className=\"mt-1 text-[11px] text-emerald-200/70\">{achievement.description}</div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n\r\n                <div className=\"rounded-2xl border border-emerald-400/20 bg-emerald-500/10 px-4 py-4 text-xs text-emerald-100/80\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"font-semibold text-emerald-100\">Trends</div>\r\n                    <span className=\"text-[11px] uppercase tracking-[0.28em] text-emerald-200/70\">\r\n                      Last {Math.min(efficiencyHistory.length, 24)} samples\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"mt-3 grid gap-4 md:grid-cols-2\">\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"flex items-center gap-2 text-emerald-100\">\r\n                        Battery\r\n                        {ecoHistoryInsights.battery.trend.direction === 'up' ? (\r\n                          <TrendingUp size={12} className=\"text-emerald-300\" />\r\n                        ) : ecoHistoryInsights.battery.trend.direction === 'down' ? (\r\n                          <TrendingDown size={12} className=\"text-amber-300\" />\r\n                        ) : null}\r\n                        <span className=\"text-[11px] text-emerald-200/70\">\r\n                          {ecoHistoryInsights.battery.trend.delta > 0\r\n                            ? `+${ecoHistoryInsights.battery.trend.delta.toFixed(1)}`\r\n                            : ecoHistoryInsights.battery.trend.delta.toFixed(1)}\r\n                          %\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"relative h-16 overflow-hidden rounded-xl border border-emerald-400/20 bg-emerald-500/10\">\r\n                        {ecoHistoryInsights.battery.path ? (\r\n                          <svg viewBox=\"0 0 100 100\" className=\"absolute inset-0 h-full w-full text-emerald-300\">\r\n                            <polyline\r\n                              fill=\"none\"\r\n                              stroke=\"currentColor\"\r\n                              strokeWidth=\"3\"\r\n                              points={ecoHistoryInsights.battery.path}\r\n                            />\r\n                          </svg>\r\n                        ) : (\r\n                          <div className=\"flex h-full items-center justify-center text-[11px] text-emerald-200/60\">\r\n                            Not enough data\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"flex items-center gap-2 text-emerald-100\">\r\n                        Carbon\r\n                        {ecoHistoryInsights.carbon.trend.direction === 'down' ? (\r\n                          <TrendingDown size={12} className=\"text-emerald-300\" />\r\n                        ) : ecoHistoryInsights.carbon.trend.direction === 'up' ? (\r\n                          <TrendingUp size={12} className=\"text-amber-300\" />\r\n                        ) : null}\r\n                        <span className=\"text-[11px] text-emerald-200/70\">\r\n                          {ecoHistoryInsights.carbon.trend.delta > 0\r\n                            ? `+${ecoHistoryInsights.carbon.trend.delta.toFixed(0)}`\r\n                            : ecoHistoryInsights.carbon.trend.delta.toFixed(0)}{' '}\r\n                          g\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"relative h-16 overflow-hidden rounded-xl border border-emerald-400/20 bg-emerald-500/10\">\r\n                        {ecoHistoryInsights.carbon.path ? (\r\n                          <svg viewBox=\"0 0 100 100\" className=\"absolute inset-0 h-full w-full text-emerald-200\">\r\n                            <polyline\r\n                              fill=\"none\"\r\n                              stroke=\"currentColor\"\r\n                              strokeWidth=\"3\"\r\n                              points={ecoHistoryInsights.carbon.path}\r\n                            />\r\n                          </svg>\r\n                        ) : (\r\n                          <div className=\"flex h-full items-center justify-center text-[11px] text-emerald-200/60\">\r\n                            Awaiting carbon samples\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {efficiencyUpdated && (\r\n              <p className=\"mt-5 text-[11px] text-emerald-100/60\">\r\n                Updated {formatDistanceToNow(efficiencyUpdated, { addSuffix: true })}\r\n              </p>\r\n            )}\r\n            <p className=\"mt-1 text-[11px] text-emerald-100/70\">\r\n              {efficiencyLabel}\r\n              {efficiencyBadge ? ` • ${efficiencyBadge}` : ''}\r\n            </p>\r\n          </motion.div>\r\n        </aside>\r\n      </div>\r\n\r\n      {/* AI Response Pane */}\r\n      <AIResponsePane\r\n        query={aiQuery}\r\n        isOpen={aiResponseOpen}\r\n        onClose={() => {\r\n          setAiResponseOpen(false);\r\n          setAiQuery('');\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["BatteryCharging","createLucideIcon","Check","CircleGauge","ClipboardCopy","Compass","FileSearch","FileText","Leaf","Pin","RotateCcw","Sparkle","TrendingDown","TrendingUp","Workflow","useAppStore","create","set","get","mode","next","DEFAULT_WS_URL","DEFAULT_HTTP_URL","DEFAULT_SSE_URL","RedixWS","url","__publicField","event","message","error","payload","res","data","id","query","sessionId","options","onMessage","safeParse","eventSource","handleAck","handleUpdate","handleToken","item","handleResult","cleanup","handleError","handleDone","redixWS","requestRedix","controller","typed","AIResponsePane","isOpen","onClose","response","setResponse","useState","isStreaming","setIsStreaming","setError","copied","setCopied","controllerRef","useRef","sessionIdRef","responseEndRef","useEffect","prev","textContent","errorMsg","handleCopy","useCallback","AnimatePresence","jsxs","motion","jsx","Sparkles","Copy","X","Loader2","MODE_LABELS","MODE_BADGES","MODE_COLORS","defaultSnapshot","HISTORY_KEY","loadHistory","raw","parsed","saveHistory","history","initialHistory","useEfficiencyStore","sample","nextHistory","nextMode","useWorkspaceEventsStore","state","timestamp","workspaceId","createFallbackTab","store","useTabsStore","title","activate","existingTabs","nextTabs","tab","newTab","ipcEvents","SEARCH_ENDPOINT","suggestedPrompts","buildSearchUrl","useDashboardData","recentWorkspaces","setRecentWorkspaces","continueSessions","setContinueSessions","loadingWorkspaces","setLoadingWorkspaces","loadingSessions","setLoadingSessions","pushWorkspaceEvent","loadData","workspaces","ipc","sessionsResult","continueItems","session","cancelled","kickOff","ready","initial","unsubscribeWorkspace","OmniDesk","variant","forceShow","tabs","activeId","setMode","navigate","useNavigate","reload","searchQuery","setSearchQuery","refreshing","setRefreshing","searchLoading","setSearchLoading","aiResponseOpen","setAiResponseOpen","aiQuery","setAiQuery","efficiencyLabel","efficiencyBadge","efficiencySnapshot","efficiencyUpdated","efficiencyHistory","agentStatus","useAgentStreamStore","agentLastGoal","agentEvents","agentTranscript","agentPreview","useMemo","latestEvents","lastUpdated","transcriptLines","line","statusPalette","statusTone","timeline","snippetSource","entry","snippet","hasTranscript","copyStatus","setCopyStatus","handleCopyTranscript","timeout","ecoMetrics","batteryPctValue","carbonIntensityValue","cpuLoad","activeTabs","ecoScore","batteryComponent","cpuComponent","carbonComponent","tabComponent","achievements","Cloud","ecoHistoryInsights","recent","batterySeries","value","carbonSeries","computeTrend","series","last","baseIndex","previous","delta","computeSparkline","min","range","index","x","normalized","agentStatusLabels","ecoGauge","circumference","clampedScore","offset","quickActions","Search","ecoStats","batteryPct","carbonIntensity","handleContinueSession","urlToLoad","resolve","t","e","handleSearchLaunch","activeTab","isAboutBlank","targetUrl","navError","result","activeTabForDisplay","isAboutBlankDisplay","shouldShowDashboard","containerClass","containerStyle","handleManualRefresh","sessionSkeletons","workspaceSkeletons","Fragment","prompt","action","Icon","Bot","formatDistanceToNow","Clock","RefreshCw","_","idx","workspace","GaugeCircle","achievement","CheckCircle2"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13]}