{"version":3,"file":"History-CmkU-xoS.js","sources":["../../node_modules/lucide-react/dist/esm/icons/chart-no-axes-column.js","../../src/routes/History.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChartNoAxesColumn = createLucideIcon(\"ChartNoAxesColumn\", [\n  [\"line\", { x1: \"18\", x2: \"18\", y1: \"20\", y2: \"10\", key: \"1xfpm4\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"20\", y2: \"4\", key: \"be30l9\" }],\n  [\"line\", { x1: \"6\", x2: \"6\", y1: \"20\", y2: \"14\", key: \"1r4le6\" }]\n]);\n\nexport { ChartNoAxesColumn as default };\n//# sourceMappingURL=chart-no-axes-column.js.map\n","import { useEffect, useState, useMemo, useCallback, useRef, type ReactNode } from 'react';\r\nimport {\r\n  Search,\r\n  Trash2,\r\n  Clock,\r\n  Globe,\r\n  X,\r\n  ShieldCheck,\r\n  AlertTriangle,\r\n  BarChart2,\r\n  Filter,\r\n  ExternalLink,\r\n  Copy,\r\n  HardDrive,\r\n  RefreshCw,\r\n  Loader2,\r\n} from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { ipc } from '../lib/ipc-typed';\r\nimport { useIPCEvent } from '../lib/use-ipc-event';\r\n\r\ntype HistoryEntry = {\r\n  id: string;\r\n  url: string;\r\n  title: string;\r\n  timestamp: number;\r\n  visitCount?: number;\r\n  favicon?: string;\r\n  lastVisitTime?: number;\r\n};\r\n\r\ntype GroupedHistory = {\r\n  date: string;\r\n  entries: HistoryEntry[];\r\n};\r\n\r\nexport default function HistoryPage() {\r\n  const navigate = useNavigate();\r\n  const [items, setItems] = useState<HistoryEntry[]>([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedEntry, setSelectedEntry] = useState<HistoryEntry | null>(null);\r\n  const [activeFilter, setActiveFilter] = useState<'all' | 'search' | 'secure' | 'insecure'>('all');\r\n  const [searchResults, setSearchResults] = useState<HistoryEntry[] | null>(null);\r\n  const [searching, setSearching] = useState(false);\r\n  const [storageInfo, setStorageInfo] = useState<{ usage: number; quota: number; percent: number; updatedAt: number } | null>(null);\r\n  const [storageStatus, setStorageStatus] = useState<'idle' | 'loading' | 'error'>('idle');\r\n  const mountedRef = useRef(true);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      mountedRef.current = false;\r\n    };\r\n  }, []);\r\n\r\n  // Load history on mount\r\n  useEffect(() => {\r\n    const loadHistory = async () => {\r\n      try {\r\n        const list = await ipc.history.list() as HistoryEntry[];\r\n        // Ensure we have an array\r\n        if (Array.isArray(list)) {\r\n          setItems(list);\r\n        } else {\r\n          setItems([]);\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to load history:', error);\r\n        setItems([]); // Set empty array on error\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    loadHistory();\r\n  }, []);\r\n\r\n  // Listen for history updates\r\n  useIPCEvent('history:updated', () => {\r\n    ipc.history.list().then((list: any) => setItems(list || [])).catch(console.error);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const query = searchQuery.trim();\r\n    if (query.length < 2) {\r\n      setSearchResults(null);\r\n      setSearching(false);\r\n      return;\r\n    }\r\n\r\n    let cancelled = false;\r\n    setSearching(true);\r\n\r\n    ipc.history\r\n      .search(query)\r\n      .then((results: any) => {\r\n        if (cancelled) return;\r\n        setSearchResults(Array.isArray(results) ? results : []);\r\n      })\r\n      .catch((error) => {\r\n        if (cancelled) return;\r\n        console.error('History search failed:', error);\r\n        setSearchResults([]);\r\n      })\r\n      .finally(() => {\r\n        if (!cancelled) {\r\n          setSearching(false);\r\n        }\r\n      });\r\n\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [searchQuery]);\r\n\r\n  const updateStorageEstimate = useCallback(async () => {\r\n    if (!navigator?.storage?.estimate) {\r\n      if (mountedRef.current) {\r\n        setStorageStatus('error');\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (mountedRef.current) {\r\n      setStorageStatus('loading');\r\n    }\r\n\r\n    try {\r\n      const { usage = 0, quota = 0 } = await navigator.storage.estimate();\r\n      if (!mountedRef.current) return;\r\n      const percent = quota > 0 ? (usage / quota) * 100 : 0;\r\n      setStorageInfo({ usage, quota, percent, updatedAt: Date.now() });\r\n      setStorageStatus('idle');\r\n    } catch (error) {\r\n      console.error('Failed to estimate storage:', error);\r\n      if (mountedRef.current) {\r\n        setStorageStatus('error');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    updateStorageEstimate();\r\n    const interval = window.setInterval(updateStorageEstimate, 45000);\r\n    return () => window.clearInterval(interval);\r\n  }, [updateStorageEstimate]);\r\n\r\n  const handleRefreshStorage = useCallback(() => {\r\n    void updateStorageEstimate();\r\n  }, [updateStorageEstimate]);\r\n\r\n  const derivedStats = useMemo(() => {\r\n    const uniqueDomains = new Set<string>();\r\n    let secureCount = 0;\r\n    let insecureCount = 0;\r\n    let searchCount = 0;\r\n\r\n    items.forEach((entry) => {\r\n      try {\r\n        const urlObj = new URL(entry.url);\r\n        uniqueDomains.add(urlObj.hostname);\r\n        if (urlObj.protocol === 'https:') {\r\n          secureCount += 1;\r\n        } else {\r\n          insecureCount += 1;\r\n        }\r\n        if (detectSearchQuery(entry.url)) {\r\n          searchCount += 1;\r\n        }\r\n      } catch {\r\n        /* ignore */\r\n      }\r\n    });\r\n\r\n    return {\r\n      total: items.length,\r\n      uniqueDomains: uniqueDomains.size,\r\n      secureCount,\r\n      insecureCount,\r\n      searchCount,\r\n    };\r\n  }, [items]);\r\n\r\n  // Filter and group history entries\r\n  const groupedHistory = useMemo<GroupedHistory[]>(() => {\r\n    const sourceItems = searchResults ?? items;\r\n    let filtered = sourceItems;\r\n\r\n    // Apply search filter\r\n    if (!searchResults && searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = sourceItems.filter(\r\n        entry =>\r\n          entry.title.toLowerCase().includes(query) ||\r\n          entry.url.toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    if (activeFilter !== 'all') {\r\n      filtered = filtered.filter((entry) => {\r\n        switch (activeFilter) {\r\n          case 'search':\r\n            return Boolean(detectSearchQuery(entry.url));\r\n          case 'secure':\r\n            try {\r\n              return new URL(entry.url).protocol === 'https:';\r\n            } catch {\r\n              return false;\r\n            }\r\n          case 'insecure':\r\n            try {\r\n              return new URL(entry.url).protocol !== 'https:';\r\n            } catch {\r\n              return false;\r\n            }\r\n          default:\r\n            return true;\r\n        }\r\n      });\r\n    }\r\n\r\n    // Group by date (Today, Yesterday, This Week, This Month, Older)\r\n    const groups: { [key: string]: HistoryEntry[] } = {};\r\n    const now = Date.now();\r\n    const oneDay = 24 * 60 * 60 * 1000;\r\n    const oneWeek = 7 * oneDay;\r\n    const oneMonth = 30 * oneDay;\r\n\r\n    filtered.forEach(entry => {\r\n      const baseTime = entry.lastVisitTime ?? entry.timestamp;\r\n      const diff = now - baseTime;\r\n      let groupKey: string;\r\n\r\n      if (diff < oneDay) {\r\n        groupKey = 'Today';\r\n      } else if (diff < oneDay * 2) {\r\n        groupKey = 'Yesterday';\r\n      } else if (diff < oneWeek) {\r\n        groupKey = 'This Week';\r\n      } else if (diff < oneMonth) {\r\n        groupKey = 'This Month';\r\n      } else {\r\n        groupKey = 'Older';\r\n      }\r\n\r\n      if (!groups[groupKey]) {\r\n        groups[groupKey] = [];\r\n      }\r\n      groups[groupKey].push(entry);\r\n    });\r\n\r\n    // Convert to array and sort\r\n    return Object.entries(groups)\r\n      .map(([date, entries]) => ({\r\n        date,\r\n        entries: entries.sort(\r\n          (a, b) => (b.lastVisitTime ?? b.timestamp) - (a.lastVisitTime ?? a.timestamp),\r\n        ),\r\n      }))\r\n      .sort((a, b) => {\r\n        const order = ['Today', 'Yesterday', 'This Week', 'This Month', 'Older'];\r\n        return order.indexOf(a.date) - order.indexOf(b.date);\r\n      });\r\n  }, [items, searchResults, searchQuery, activeFilter]);\r\n\r\n  const totalResultCount = useMemo(\r\n    () => groupedHistory.reduce((sum, group) => sum + group.entries.length, 0),\r\n    [groupedHistory],\r\n  );\r\n\r\n  const handleClearHistory = async () => {\r\n    if (confirm('Are you sure you want to clear all browsing history?')) {\r\n      await ipc.history.clear();\r\n      setItems([]);\r\n    }\r\n  };\r\n\r\n  const handleDeleteEntry = async (url: string) => {\r\n    await ipc.history.deleteUrl?.(url);\r\n    setItems(items.filter(e => e.url !== url));\r\n    setSelectedEntry((prev) => (prev?.url === url ? null : prev));\r\n  };\r\n\r\n  const handleNavigate = async (url: string) => {\r\n    try {\r\n      // Create tab with the URL directly - it will be activated automatically\r\n      const result = await ipc.tabs.create(url);\r\n      if (result) {\r\n        // Navigate to home to show the tab in MainView\r\n        navigate('/');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to open history URL:', error);\r\n      // Fallback: navigate to home and create blank tab\r\n      navigate('/');\r\n      setTimeout(() => {\r\n        ipc.tabs.create('about:blank').catch(console.error);\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  const formatTime = (timestamp: number) => {\r\n    const diff = Date.now() - timestamp;\r\n    if (diff < 1000 * 60 * 60 * 24) {\r\n      return formatRelativeTimeFromNow(timestamp);\r\n    }\r\n    const date = new Date(timestamp);\r\n    return (\r\n      date.toLocaleDateString() +\r\n      ' ' +\r\n      date.toLocaleTimeString([], {\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n      })\r\n    );\r\n  };\r\n\r\n  const getFaviconUrl = (url: string) => {\r\n    try {\r\n      const urlObj = new URL(url);\r\n      return `https://www.google.com/s2/favicons?domain=${urlObj.hostname}&sz=32`;\r\n    } catch {\r\n      return undefined;\r\n    }\r\n  };\r\n\r\n  const detectSearchQuery = (url: string) => {\r\n    try {\r\n      const urlObj = new URL(url);\r\n      const host = urlObj.hostname;\r\n      const params = urlObj.searchParams;\r\n\r\n      if (host.includes('google')) {\r\n        return params.get('q') || params.get('query');\r\n      }\r\n      if (host.includes('duckduckgo')) {\r\n        return params.get('q');\r\n      }\r\n      if (host.includes('bing.com')) {\r\n        return params.get('q');\r\n      }\r\n      if (host.includes('search.yahoo.com')) {\r\n        return params.get('p');\r\n      }\r\n      if (host.includes('youtube.com') || host.includes('youtu.be')) {\r\n        return params.get('search_query');\r\n      }\r\n      if (host.includes('reddit.com')) {\r\n        return params.get('q');\r\n      }\r\n      return null;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const highlightQuery = (text: string, query: string) => {\r\n    if (!query) return text;\r\n    const regex = new RegExp(`(${escapeRegExp(query)})`, 'ig');\r\n    return text.split(regex).map((part, index) =>\r\n      regex.test(part) ? (\r\n        <mark key={index} className=\"bg-blue-500/30 text-blue-100 rounded-sm px-0.5\">\r\n          {part}\r\n        </mark>\r\n      ) : (\r\n        <span key={index}>{part}</span>\r\n      ),\r\n    );\r\n  };\r\n\r\n  const escapeRegExp = (value: string) => value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"h-full w-full flex items-center justify-center bg-[#1A1D28]\">\r\n        <Clock size={24} className=\"text-blue-400 animate-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-full w-full bg-[#1A1D28] text-gray-100 flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"p-6 border-b border-gray-800/50\">\r\n        <div className=\"flex flex-wrap items-center justify-between gap-3 mb-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <h2 className=\"text-2xl font-bold\">History</h2>\r\n            <span className=\"text-xs uppercase tracking-[0.28em] text-gray-500 flex items-center gap-2\">\r\n              <BarChart2 size={14} />\r\n              {derivedStats.total} visits · {derivedStats.uniqueDomains} domains\r\n            </span>\r\n          </div>\r\n          <motion.button\r\n            onClick={handleClearHistory}\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-900/60 hover:bg-red-600/20 border border-gray-700/50 text-gray-300 hover:text-red-400 transition-colors\"\r\n          >\r\n            <Trash2 size={18} />\r\n            <span>Clear browsing data</span>\r\n          </motion.button>\r\n        </div>\r\n\r\n        <div className=\"flex flex-wrap items-center gap-2 mb-4\">\r\n          <HistoryStatCard\r\n            label=\"Secure\"\r\n            value={derivedStats.secureCount}\r\n            accent=\"text-emerald-300\"\r\n            helper=\"HTTPS pages\"\r\n            icon={<ShieldCheck size={16} className=\"text-emerald-300\" />}\r\n          />\r\n          <HistoryStatCard\r\n            label=\"Insecure\"\r\n            value={derivedStats.insecureCount}\r\n            accent=\"text-amber-300\"\r\n            helper=\"HTTP pages\"\r\n            icon={<AlertTriangle size={16} className=\"text-amber-300\" />}\r\n          />\r\n          <HistoryStatCard\r\n            label=\"Searches\"\r\n            value={derivedStats.searchCount}\r\n            accent=\"text-blue-300\"\r\n            helper=\"Recognised search queries\"\r\n            icon={<Search size={16} className=\"text-blue-300\" />}\r\n          />\r\n          <StorageUsageCard\r\n            usage={storageInfo?.usage ?? 0}\r\n            quota={storageInfo?.quota ?? 0}\r\n            percent={storageInfo?.percent ?? 0}\r\n            updatedAt={storageInfo?.updatedAt ?? 0}\r\n            status={storageStatus}\r\n            onRefresh={handleRefreshStorage}\r\n          />\r\n        </div>\r\n\r\n        {/* Search bar */}\r\n        <div className=\"relative\">\r\n          <Search size={18} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\" />\r\n          <input\r\n            type=\"text\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            placeholder=\"Search history\"\r\n            className=\"w-full h-10 pl-10 pr-4 bg-gray-900/60 border border-gray-700/50 rounded-lg text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50\"\r\n          />\r\n          {searching && (\r\n            <Loader2\r\n              size={16}\r\n              className={`absolute top-1/2 -translate-y-1/2 text-blue-400 animate-spin ${\r\n                searchQuery ? 'right-9' : 'right-3'\r\n              }`}\r\n            />\r\n          )}\r\n          {searchQuery && (\r\n            <button\r\n              onClick={() => setSearchQuery('')}\r\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300\"\r\n            >\r\n              <X size={18} />\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"flex items-center gap-2 mt-3 text-xs text-gray-400\">\r\n          <Filter size={14} />\r\n          <FilterChip\r\n            active={activeFilter === 'all'}\r\n            onClick={() => setActiveFilter('all')}\r\n            label=\"All\"\r\n          />\r\n          <FilterChip\r\n            active={activeFilter === 'search'}\r\n            onClick={() => setActiveFilter('search')}\r\n            label=\"Search\"\r\n          />\r\n          <FilterChip\r\n            active={activeFilter === 'secure'}\r\n            onClick={() => setActiveFilter('secure')}\r\n            label=\"Secure\"\r\n          />\r\n          <FilterChip\r\n            active={activeFilter === 'insecure'}\r\n            onClick={() => setActiveFilter('insecure')}\r\n            label=\"Insecure\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* History list */}\r\n      <div className=\"flex-1 overflow-y-auto p-6 grid grid-cols-1 xl:grid-cols-[2fr_minmax(280px,1fr)] gap-4\">\r\n        <div>\r\n        {searchResults && (\r\n          <div className=\"flex items-center gap-2 mb-4 text-xs text-blue-300\">\r\n            <Search size={14} />\r\n            <span>\r\n              Showing {totalResultCount} high-relevance result{totalResultCount === 1 ? '' : 's'} for “\r\n              {searchQuery.trim()}”\r\n            </span>\r\n          </div>\r\n        )}\r\n        {groupedHistory.length === 0 ? (\r\n          <div className=\"flex flex-col items-center justify-center h-full text-center\">\r\n            <Globe size={48} className=\"text-gray-600 mb-4\" />\r\n            <h3 className=\"text-lg font-semibold text-gray-300 mb-2\">\r\n              {searchQuery ? 'No results found' : 'No history yet'}\r\n            </h3>\r\n            <p className=\"text-sm text-gray-500\">\r\n              {searchQuery ? 'Try a different search term' : 'Pages you visit will appear here'}\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-6\">\r\n            {groupedHistory.map((group) => (\r\n              <div key={group.date}>\r\n                <h3 className=\"text-sm font-semibold text-gray-400 mb-3 uppercase tracking-wide\">\r\n                  {group.date}\r\n                </h3>\r\n                <div className=\"space-y-1\">\r\n                  {group.entries.map((entry) => (\r\n                    <motion.div\r\n                      key={entry.id}\r\n                      initial={{ opacity: 0, y: 10 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                      className={`group flex items-center gap-3 p-3 rounded-lg bg-gray-900/60 hover:bg-gray-900/80 border transition-all cursor-pointer ${\r\n                        selectedEntry?.id === entry.id ? 'border-blue-500/40 shadow-[0_0_0_1px_rgba(59,130,246,0.35)]' : 'border-gray-800/50 hover:border-gray-700/50'\r\n                      }`}\r\n                      onClick={() => setSelectedEntry(entry)}\r\n                    >\r\n                      {/* Favicon */}\r\n                      <div className=\"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-gray-800/50 rounded border border-gray-700/50\">\r\n                        {entry.favicon || getFaviconUrl(entry.url) ? (\r\n                          <img\r\n                            src={entry.favicon || getFaviconUrl(entry.url)}\r\n                            alt=\"\"\r\n                            className=\"w-6 h-6\"\r\n                            onError={(e) => {\r\n                              (e.target as HTMLImageElement).style.display = 'none';\r\n                            }}\r\n                          />\r\n                        ) : (\r\n                          <Globe size={16} className=\"text-gray-500\" />\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* Content */}\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"flex items-center justify-between gap-2 mb-1\">\r\n                          <span className=\"font-medium text-gray-200 truncate\">\r\n                            {searchQuery ? highlightQuery(entry.title || entry.url, searchQuery) : (entry.title || entry.url)}\r\n                          </span>\r\n                          <span className=\"text-xs text-gray-500 flex-shrink-0\">\r\n                            {formatTime(entry.lastVisitTime ?? entry.timestamp)}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between gap-2\">\r\n                          <span className=\"text-xs text-gray-400 truncate\">\r\n                            {searchQuery ? highlightQuery(entry.url, searchQuery) : entry.url}\r\n                          </span>\r\n                          <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n                            {entry.visitCount && entry.visitCount > 1 && (\r\n                              <span className=\"text-xs text-gray-500\">\r\n                                {entry.visitCount} visits\r\n                              </span>\r\n                            )}\r\n                            {detectSearchQuery(entry.url) && (\r\n                              <span className=\"text-[10px] uppercase tracking-wide px-2 py-0.5 rounded-full bg-blue-500/15 text-blue-300 border border-blue-500/30\">\r\n                                Search\r\n                              </span>\r\n                            )}\r\n                            {(() => {\r\n                              try {\r\n                                const protocol = new URL(entry.url).protocol;\r\n                                return (\r\n                                  <span\r\n                                    className={`text-[10px] uppercase tracking-wide px-2 py-0.5 rounded-full border ${\r\n                                      protocol === 'https:'\r\n                                        ? 'bg-emerald-500/15 text-emerald-300 border-emerald-500/30'\r\n                                        : 'bg-amber-500/15 text-amber-200 border-amber-500/30'\r\n                                    }`}\r\n                                  >\r\n                                    {protocol === 'https:' ? 'Secure' : 'Insecure'}\r\n                                  </span>\r\n                                );\r\n                              } catch {\r\n                                return null;\r\n                              }\r\n                            })()}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Delete button */}\r\n                      <motion.button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          handleDeleteEntry(entry.url);\r\n                        }}\r\n                        whileHover={{ scale: 1.1 }}\r\n                        whileTap={{ scale: 0.9 }}\r\n                        className=\"opacity-0 group-hover:opacity-100 flex-shrink-0 p-1.5 rounded-lg hover:bg-red-600/20 text-gray-500 hover:text-red-400 transition-all\"\r\n                        title=\"Remove from history\"\r\n                      >\r\n                        <X size={16} />\r\n                      </motion.button>\r\n                    </motion.div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n        </div>\r\n        <aside className=\"hidden xl:block\">\r\n          {selectedEntry ? (\r\n            <HistoryDetailsPanel\r\n              entry={selectedEntry}\r\n              detectSearchQuery={detectSearchQuery}\r\n              formatRelative={formatRelativeTimeFromNow}\r\n              onOpen={() => handleNavigate(selectedEntry.url)}\r\n              onCopy={() => {\r\n                if (navigator?.clipboard?.writeText) {\r\n                  navigator.clipboard.writeText(selectedEntry.url).catch(console.error);\r\n                }\r\n              }}\r\n              onRemove={() => handleDeleteEntry(selectedEntry.url)}\r\n            />\r\n          ) : (\r\n            <div className=\"sticky top-6 rounded-xl border border-gray-800/60 bg-gray-900/40 p-4 text-sm text-gray-500 flex flex-col items-center justify-center min-h-[240px]\">\r\n              <Globe size={28} className=\"text-gray-600 mb-3\" />\r\n              <p>Select a history item to see details, cached parameters, and quick actions.</p>\r\n            </div>\r\n          )}\r\n        </aside>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction FilterChip({ active, label, onClick }: { active: boolean; label: string; onClick: () => void }) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={onClick}\r\n      className={`flex items-center gap-1 px-2.5 py-1 rounded-full border text-xs transition-colors ${\r\n        active\r\n          ? 'border-blue-500/40 bg-blue-500/15 text-blue-200'\r\n          : 'border-gray-700/60 bg-gray-900/40 text-gray-400 hover:border-gray-600 hover:text-gray-200'\r\n      }`}\r\n    >\r\n      {label}\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction HistoryStatCard({\r\n  label,\r\n  value,\r\n  helper,\r\n  icon,\r\n  accent,\r\n}: {\r\n  label: string;\r\n  value: number;\r\n  helper: string;\r\n  icon: ReactNode;\r\n  accent: string;\r\n}) {\r\n  return (\r\n    <div className=\"flex items-center gap-3 rounded-lg border border-gray-800/60 bg-gray-900/40 px-3 py-2 text-xs text-gray-400\">\r\n      <div className=\"flex items-center justify-center h-8 w-8 rounded-md bg-gray-800/60 border border-gray-700/50\">\r\n        {icon}\r\n      </div>\r\n      <div className=\"flex flex-col\">\r\n        <span className=\"uppercase tracking-[0.24em] text-[10px] text-gray-500\">{label}</span>\r\n        <span className={`text-base font-semibold ${accent}`}>{value}</span>\r\n        <span className=\"text-[10px] text-gray-500\">{helper}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction StorageUsageCard({\r\n  usage,\r\n  quota,\r\n  percent,\r\n  status,\r\n  updatedAt,\r\n  onRefresh,\r\n}: {\r\n  usage: number;\r\n  quota: number;\r\n  percent: number;\r\n  status: 'idle' | 'loading' | 'error';\r\n  updatedAt: number;\r\n  onRefresh: () => void;\r\n}) {\r\n  const percentClamped = Number.isFinite(percent) ? Math.max(0, Math.min(100, percent)) : 0;\r\n  const usageLabel = formatBytesReadable(usage);\r\n  const quotaLabel = quota > 0 ? formatBytesReadable(quota) : '—';\r\n  const percentLabel = `${percentClamped >= 10 ? Math.round(percentClamped) : percentClamped.toFixed(1)}%`;\r\n  const updatedLabel = updatedAt ? formatRelativeTimeFromNow(updatedAt) : 'moments ago';\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-2 rounded-lg border border-gray-800/60 bg-gray-900/40 px-3 py-2 text-xs text-gray-400 min-w-[200px]\">\r\n      <div className=\"flex items-start justify-between gap-2\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"flex items-center justify-center h-8 w-8 rounded-md bg-gray-800/60 border border-gray-700/50\">\r\n            <HardDrive size={16} className=\"text-indigo-300\" />\r\n          </div>\r\n          <div className=\"flex flex-col\">\r\n            <span className=\"uppercase tracking-[0.24em] text-[10px] text-gray-500\">Cache usage</span>\r\n            <span className=\"text-base font-semibold text-indigo-200\">{usageLabel}</span>\r\n            <span className=\"text-[10px] text-gray-500\">\r\n              of {quotaLabel} ({percentLabel})\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          onClick={onRefresh}\r\n          disabled={status === 'loading'}\r\n          className=\"p-1.5 rounded-md border border-gray-700/60 text-gray-400 hover:text-indigo-200 hover:border-indigo-400/40 transition-colors disabled:opacity-60 disabled:cursor-not-allowed\"\r\n          title=\"Refresh storage estimate\"\r\n        >\r\n          <RefreshCw\r\n            size={14}\r\n            className={status === 'loading' ? 'animate-spin text-indigo-200' : 'text-current'}\r\n          />\r\n        </button>\r\n      </div>\r\n      <div className=\"w-full h-2 rounded-full bg-gray-800 overflow-hidden\">\r\n        <div\r\n          className=\"h-full bg-gradient-to-r from-indigo-400 to-blue-500 transition-[width] duration-300\"\r\n          style={{ width: `${percentClamped}%` }}\r\n          aria-valuenow={percentClamped}\r\n          aria-valuemin={0}\r\n          aria-valuemax={100}\r\n        />\r\n      </div>\r\n      <div className=\"text-[10px] text-gray-500\">\r\n        Updated {status === 'loading' ? '…' : updatedLabel}\r\n      </div>\r\n      {status === 'error' && (\r\n        <div className=\"text-[10px] text-amber-300\">\r\n          Storage estimate unavailable in this environment.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction HistoryDetailsPanel({\r\n  entry,\r\n  detectSearchQuery,\r\n  formatRelative,\r\n  onOpen,\r\n  onCopy,\r\n  onRemove,\r\n}: {\r\n  entry: HistoryEntry;\r\n  detectSearchQuery: (url: string) => string | null;\r\n  formatRelative: (timestamp: number) => string;\r\n  onOpen: () => void;\r\n  onCopy: () => void;\r\n  onRemove: () => void;\r\n}) {\r\n  let parsed: URL | null = null;\r\n  try {\r\n    parsed = new URL(entry.url);\r\n  } catch {\r\n    parsed = null;\r\n  }\r\n\r\n  const query = parsed ? detectSearchQuery(entry.url) : null;\r\n  const params = parsed ? Array.from(parsed.searchParams.entries()) : [];\r\n  const cacheWindowMs =\r\n    entry.lastVisitTime && entry.lastVisitTime > entry.timestamp\r\n      ? entry.lastVisitTime - entry.timestamp\r\n      : 0;\r\n\r\n  return (\r\n    <div className=\"sticky top-6 rounded-xl border border-gray-800/60 bg-gray-900/50 p-4 shadow-[0_18px_45px_rgba(15,23,42,0.35)] text-sm text-gray-300 space-y-4\">\r\n      <div className=\"flex items-start justify-between gap-3\">\r\n        <div>\r\n          <h4 className=\"text-base font-semibold text-gray-100\">{entry.title || 'Untitled page'}</h4>\r\n          <p className=\"text-xs text-gray-500 break-all\">{entry.url}</p>\r\n        </div>\r\n        <div className=\"flex gap-1.5\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onOpen}\r\n            className=\"p-1.5 rounded-md bg-blue-500/15 border border-blue-500/30 text-blue-200 hover:bg-blue-500/25 transition-colors\"\r\n            title=\"Open in a new tab\"\r\n          >\r\n            <ExternalLink size={14} />\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onCopy}\r\n            className=\"p-1.5 rounded-md bg-gray-800/60 border border-gray-700/60 text-gray-400 hover:text-gray-100 hover:bg-gray-800 transition-colors\"\r\n            title=\"Copy URL\"\r\n          >\r\n            <Copy size={14} />\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onRemove}\r\n            className=\"p-1.5 rounded-md bg-red-500/15 border border-red-500/40 text-red-200 hover:bg-red-500/25 transition-colors\"\r\n            title=\"Remove from history\"\r\n          >\r\n            <Trash2 size={14} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-2 text-xs text-gray-400\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className=\"text-gray-500 uppercase tracking-[0.2em] text-[10px]\">First visit</span>\r\n          <span className=\"text-gray-300\">{new Date(entry.timestamp).toLocaleString()}</span>\r\n          <span className=\"text-gray-500\">{formatRelative(entry.timestamp)}</span>\r\n        </div>\r\n        {entry.lastVisitTime && (\r\n          <div className=\"flex items-center gap-2 flex-wrap\">\r\n            <span className=\"text-gray-500 uppercase tracking-[0.2em] text-[10px]\">Last visit</span>\r\n            <span className=\"text-gray-300\">{new Date(entry.lastVisitTime).toLocaleString()}</span>\r\n            <span className=\"text-gray-500\">{formatRelative(entry.lastVisitTime)}</span>\r\n          </div>\r\n        )}\r\n        {entry.visitCount && (\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className=\"text-gray-500 uppercase tracking-[0.2em] text-[10px]\">Visits</span>\r\n            <span className=\"text-gray-300\">{entry.visitCount}</span>\r\n          </div>\r\n        )}\r\n        {cacheWindowMs > 0 && (\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className=\"text-gray-500 uppercase tracking-[0.2em] text-[10px]\">Cache span</span>\r\n            <span className=\"text-gray-300\">{formatDurationFromMs(cacheWindowMs)}</span>\r\n          </div>\r\n        )}\r\n        {parsed && (\r\n          <>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-gray-500 uppercase tracking-[0.2em] text-[10px]\">Domain</span>\r\n              <span className=\"text-gray-300\">{parsed.hostname}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-gray-500 uppercase tracking-[0.2em] text-[10px]\">Protocol</span>\r\n              <span\r\n                className={`px-2 py-0.5 rounded-full border ${\r\n                  parsed.protocol === 'https:'\r\n                    ? 'border-emerald-500/30 text-emerald-200 bg-emerald-500/15'\r\n                    : 'border-amber-500/30 text-amber-200 bg-amber-500/15'\r\n                }`}\r\n              >\r\n                {parsed.protocol.replace(':', '').toUpperCase()}\r\n              </span>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {query && (\r\n        <div className=\"rounded-lg border border-blue-500/30 bg-blue-500/10 p-3 text-xs text-blue-100 space-y-1\">\r\n          <div className=\"flex items-center gap-2 font-semibold text-blue-200\">\r\n            <Search size={14} />\r\n            Recognised search query\r\n          </div>\r\n          <p className=\"text-sm text-blue-100\">{query}</p>\r\n        </div>\r\n      )}\r\n\r\n      {params.length > 0 && (\r\n        <div className=\"space-y-2\">\r\n          <h5 className=\"text-xs uppercase tracking-[0.24em] text-gray-500\">\r\n            Query Parameters\r\n          </h5>\r\n          <div className=\"space-y-1\">\r\n            {params.map(([key, value]) => (\r\n              <div\r\n                key={key}\r\n                className=\"flex items-start gap-2 rounded-md border border-gray-800/50 bg-gray-900/50 px-2 py-1 text-xs text-gray-400\"\r\n              >\r\n                <span className=\"text-gray-300 font-medium min-w-[80px]\">{key}</span>\r\n                <span className=\"break-all text-gray-400\">{value || '—'}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst RELATIVE_UNITS: Array<{ unit: Intl.RelativeTimeFormatUnit; ms: number }> = [\r\n  { unit: 'year', ms: 1000 * 60 * 60 * 24 * 365 },\r\n  { unit: 'month', ms: 1000 * 60 * 60 * 24 * 30 },\r\n  { unit: 'week', ms: 1000 * 60 * 60 * 24 * 7 },\r\n  { unit: 'day', ms: 1000 * 60 * 60 * 24 },\r\n  { unit: 'hour', ms: 1000 * 60 * 60 },\r\n  { unit: 'minute', ms: 1000 * 60 },\r\n  { unit: 'second', ms: 1000 },\r\n];\r\n\r\nconst RELATIVE_TIME_FORMATTER = new Intl.RelativeTimeFormat(undefined, { numeric: 'auto' });\r\n\r\nfunction formatRelativeTimeFromNow(timestamp: number): string {\r\n  const diff = timestamp - Date.now();\r\n  const absDiff = Math.abs(diff);\r\n\r\n  for (const { unit, ms } of RELATIVE_UNITS) {\r\n    if (absDiff >= ms || unit === 'second') {\r\n      const value = Math.round(diff / ms);\r\n      return RELATIVE_TIME_FORMATTER.format(value, unit);\r\n    }\r\n  }\r\n\r\n  return '';\r\n}\r\n\r\nfunction formatBytesReadable(bytes: number): string {\r\n  if (!Number.isFinite(bytes) || bytes <= 0) return '0 B';\r\n  const units = ['B', 'KB', 'MB', 'GB', 'TB'];\r\n  const exponent = Math.min(units.length - 1, Math.floor(Math.log(bytes) / Math.log(1024)));\r\n  const value = bytes / Math.pow(1024, exponent);\r\n  return `${value >= 100 ? Math.round(value) : Math.round(value * 10) / 10} ${units[exponent]}`;\r\n}\r\n\r\nfunction formatDurationFromMs(ms: number): string {\r\n  if (!Number.isFinite(ms) || ms <= 0) return '—';\r\n  let remaining = Math.floor(ms / 1000);\r\n  const units = [\r\n    { label: 'd', value: 86400 },\r\n    { label: 'h', value: 3600 },\r\n    { label: 'm', value: 60 },\r\n  ];\r\n  const parts: string[] = [];\r\n\r\n  for (const { label, value } of units) {\r\n    if (remaining >= value) {\r\n      const amount = Math.floor(remaining / value);\r\n      remaining -= amount * value;\r\n      parts.push(`${amount}${label}`);\r\n    }\r\n  }\r\n\r\n  if (parts.length === 0) {\r\n    parts.push(`${Math.max(1, remaining)}s`);\r\n  }\r\n\r\n  return parts.join(' ');\r\n}\r\n\r\n\r\n"],"names":["ChartNoAxesColumn","createLucideIcon","HistoryPage","navigate","useNavigate","items","setItems","useState","searchQuery","setSearchQuery","loading","setLoading","selectedEntry","setSelectedEntry","activeFilter","setActiveFilter","searchResults","setSearchResults","searching","setSearching","storageInfo","setStorageInfo","storageStatus","setStorageStatus","mountedRef","useRef","useEffect","list","ipc","error","useIPCEvent","query","cancelled","results","updateStorageEstimate","useCallback","usage","quota","percent","interval","handleRefreshStorage","derivedStats","useMemo","uniqueDomains","secureCount","insecureCount","searchCount","entry","urlObj","detectSearchQuery","groupedHistory","sourceItems","filtered","groups","now","oneDay","oneWeek","oneMonth","baseTime","diff","groupKey","date","entries","a","b","order","totalResultCount","sum","group","handleClearHistory","handleDeleteEntry","url","e","prev","handleNavigate","formatTime","timestamp","formatRelativeTimeFromNow","getFaviconUrl","host","params","highlightQuery","text","regex","escapeRegExp","part","index","jsx","value","Clock","jsxs","BarChart2","motion","Trash2","HistoryStatCard","ShieldCheck","AlertTriangle","Search","StorageUsageCard","Loader2","X","Filter","FilterChip","Globe","protocol","HistoryDetailsPanel","active","label","onClick","helper","icon","accent","status","updatedAt","onRefresh","percentClamped","usageLabel","formatBytesReadable","quotaLabel","percentLabel","updatedLabel","HardDrive","RefreshCw","formatRelative","onOpen","onCopy","onRemove","parsed","cacheWindowMs","ExternalLink","Copy","formatDurationFromMs","Fragment","key","RELATIVE_UNITS","RELATIVE_TIME_FORMATTER","absDiff","unit","ms","bytes","units","exponent","remaining","parts","amount"],"mappings":"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","x_google_ignoreList":[0]}