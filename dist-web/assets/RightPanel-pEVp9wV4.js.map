{"version":3,"file":"RightPanel-pEVp9wV4.js","sources":["../../node_modules/lucide-react/dist/esm/icons/badge-check.js","../../node_modules/lucide-react/dist/esm/icons/battery-charging.js","../../node_modules/lucide-react/dist/esm/icons/battery-full.js","../../node_modules/lucide-react/dist/esm/icons/circle-arrow-down.js","../../node_modules/lucide-react/dist/esm/icons/circle-arrow-up.js","../../node_modules/lucide-react/dist/esm/icons/cloud-lightning.js","../../node_modules/lucide-react/dist/esm/icons/earth.js","../../node_modules/lucide-react/dist/esm/icons/key-round.js","../../node_modules/lucide-react/dist/esm/icons/leaf.js","../../node_modules/lucide-react/dist/esm/icons/list-checks.js","../../node_modules/lucide-react/dist/esm/icons/lock-open.js","../../node_modules/lucide-react/dist/esm/icons/tags.js","../../node_modules/lucide-react/dist/esm/icons/timer.js","../../node_modules/lucide-react/dist/esm/icons/trending-down.js","../../node_modules/lucide-react/dist/esm/icons/users.js","../../src/components/AgentPlanner.tsx","../../src/state/extensionNexusStore.ts","../../src/components/plugins/ExtensionNexusPanel.tsx","../../src/state/ecoImpactStore.ts","../../src/components/eco/EcoImpactSimulator.tsx","../../src/state/trustWeaverStore.ts","../../src/components/trust/TrustWeaverPanel.tsx","../../src/state/identityStore.ts","../../src/components/identity/IdentityVaultPanel.tsx","../../src/components/layout/RightPanel.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BadgeCheck = createLucideIcon(\"BadgeCheck\", [\n  [\n    \"path\",\n    {\n      d: \"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z\",\n      key: \"3c2336\"\n    }\n  ],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n]);\n\nexport { BadgeCheck as default };\n//# sourceMappingURL=badge-check.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BatteryCharging = createLucideIcon(\"BatteryCharging\", [\n  [\"path\", { d: \"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2\", key: \"1sdynx\" }],\n  [\"path\", { d: \"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1\", key: \"1gkd3k\" }],\n  [\"path\", { d: \"m11 7-3 5h4l-3 5\", key: \"b4a64w\" }],\n  [\"line\", { x1: \"22\", x2: \"22\", y1: \"11\", y2: \"13\", key: \"4dh1rd\" }]\n]);\n\nexport { BatteryCharging as default };\n//# sourceMappingURL=battery-charging.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst BatteryFull = createLucideIcon(\"BatteryFull\", [\n  [\"rect\", { width: \"16\", height: \"10\", x: \"2\", y: \"7\", rx: \"2\", ry: \"2\", key: \"1w10f2\" }],\n  [\"line\", { x1: \"22\", x2: \"22\", y1: \"11\", y2: \"13\", key: \"4dh1rd\" }],\n  [\"line\", { x1: \"6\", x2: \"6\", y1: \"11\", y2: \"13\", key: \"1wd6dw\" }],\n  [\"line\", { x1: \"10\", x2: \"10\", y1: \"11\", y2: \"13\", key: \"haxvl5\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"11\", y2: \"13\", key: \"c6fn6x\" }]\n]);\n\nexport { BatteryFull as default };\n//# sourceMappingURL=battery-full.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleArrowDown = createLucideIcon(\"CircleArrowDown\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 8v8\", key: \"napkw2\" }],\n  [\"path\", { d: \"m8 12 4 4 4-4\", key: \"k98ssh\" }]\n]);\n\nexport { CircleArrowDown as default };\n//# sourceMappingURL=circle-arrow-down.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleArrowUp = createLucideIcon(\"CircleArrowUp\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m16 12-4-4-4 4\", key: \"177agl\" }],\n  [\"path\", { d: \"M12 16V8\", key: \"1sbj14\" }]\n]);\n\nexport { CircleArrowUp as default };\n//# sourceMappingURL=circle-arrow-up.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CloudLightning = createLucideIcon(\"CloudLightning\", [\n  [\"path\", { d: \"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973\", key: \"1cez44\" }],\n  [\"path\", { d: \"m13 12-3 5h4l-3 5\", key: \"1t22er\" }]\n]);\n\nexport { CloudLightning as default };\n//# sourceMappingURL=cloud-lightning.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Earth = createLucideIcon(\"Earth\", [\n  [\"path\", { d: \"M21.54 15H17a2 2 0 0 0-2 2v4.54\", key: \"1djwo0\" }],\n  [\n    \"path\",\n    {\n      d: \"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17\",\n      key: \"1tzkfa\"\n    }\n  ],\n  [\"path\", { d: \"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05\", key: \"14pb5j\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n]);\n\nexport { Earth as default };\n//# sourceMappingURL=earth.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst KeyRound = createLucideIcon(\"KeyRound\", [\n  [\n    \"path\",\n    {\n      d: \"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z\",\n      key: \"1s6t7t\"\n    }\n  ],\n  [\"circle\", { cx: \"16.5\", cy: \"7.5\", r: \".5\", fill: \"currentColor\", key: \"w0ekpg\" }]\n]);\n\nexport { KeyRound as default };\n//# sourceMappingURL=key-round.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Leaf = createLucideIcon(\"Leaf\", [\n  [\n    \"path\",\n    {\n      d: \"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z\",\n      key: \"nnexq3\"\n    }\n  ],\n  [\"path\", { d: \"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12\", key: \"mt58a7\" }]\n]);\n\nexport { Leaf as default };\n//# sourceMappingURL=leaf.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ListChecks = createLucideIcon(\"ListChecks\", [\n  [\"path\", { d: \"m3 17 2 2 4-4\", key: \"1jhpwq\" }],\n  [\"path\", { d: \"m3 7 2 2 4-4\", key: \"1obspn\" }],\n  [\"path\", { d: \"M13 6h8\", key: \"15sg57\" }],\n  [\"path\", { d: \"M13 12h8\", key: \"h98zly\" }],\n  [\"path\", { d: \"M13 18h8\", key: \"oe0vm4\" }]\n]);\n\nexport { ListChecks as default };\n//# sourceMappingURL=list-checks.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LockOpen = createLucideIcon(\"LockOpen\", [\n  [\"rect\", { width: \"18\", height: \"11\", x: \"3\", y: \"11\", rx: \"2\", ry: \"2\", key: \"1w4ew1\" }],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 9.9-1\", key: \"1mm8w8\" }]\n]);\n\nexport { LockOpen as default };\n//# sourceMappingURL=lock-open.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Tags = createLucideIcon(\"Tags\", [\n  [\"path\", { d: \"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19\", key: \"1cbfv1\" }],\n  [\n    \"path\",\n    {\n      d: \"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z\",\n      key: \"135mg7\"\n    }\n  ],\n  [\"circle\", { cx: \"6.5\", cy: \"9.5\", r: \".5\", fill: \"currentColor\", key: \"5pm5xn\" }]\n]);\n\nexport { Tags as default };\n//# sourceMappingURL=tags.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Timer = createLucideIcon(\"Timer\", [\n  [\"line\", { x1: \"10\", x2: \"14\", y1: \"2\", y2: \"2\", key: \"14vaq8\" }],\n  [\"line\", { x1: \"12\", x2: \"15\", y1: \"14\", y2: \"11\", key: \"17fdiu\" }],\n  [\"circle\", { cx: \"12\", cy: \"14\", r: \"8\", key: \"1e1u0o\" }]\n]);\n\nexport { Timer as default };\n//# sourceMappingURL=timer.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TrendingDown = createLucideIcon(\"TrendingDown\", [\n  [\"polyline\", { points: \"22 17 13.5 8.5 8.5 13.5 2 7\", key: \"1r2t7k\" }],\n  [\"polyline\", { points: \"16 17 22 17 22 11\", key: \"11uiuu\" }]\n]);\n\nexport { TrendingDown as default };\n//# sourceMappingURL=trending-down.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Users = createLucideIcon(\"Users\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"path\", { d: \"M22 21v-2a4 4 0 0 0-3-3.87\", key: \"kshegd\" }],\n  [\"path\", { d: \"M16 3.13a4 4 0 0 1 0 7.75\", key: \"1da9ce\" }]\n]);\n\nexport { Users as default };\n//# sourceMappingURL=users.js.map\n","/**\r\n * Agent Planner UI Component\r\n * Generate and execute multi-step plans\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Play, Sparkles, CheckCircle2, XCircle, Loader2 } from 'lucide-react';\r\nimport { ipc } from '../lib/ipc-typed';\r\n\r\nexport interface PlanStep {\r\n  id: string;\r\n  action: string;\r\n  args: Record<string, unknown>;\r\n  expectedOutput?: string;\r\n}\r\n\r\nexport interface Plan {\r\n  id: string;\r\n  goal: string;\r\n  steps: PlanStep[];\r\n  estimatedDuration?: number;\r\n}\r\n\r\nexport function AgentPlanner() {\r\n  const [goal, setGoal] = useState('');\r\n  const [plan, setPlan] = useState<Plan | null>(null);\r\n  const [executing, setExecuting] = useState(false);\r\n  const [results, setResults] = useState<Array<{ stepId: string; success: boolean; result?: unknown; error?: string }>>([]);\r\n  const [mode, setMode] = useState<string>('');\r\n\r\n  const generatePlan = async () => {\r\n    if (!goal.trim()) return;\r\n\r\n    try {\r\n      const generatedPlan = await ipc.agent.generatePlanFromGoal({\r\n        goal,\r\n        mode: mode || undefined,\r\n      });\r\n      setPlan(generatedPlan);\r\n      setResults([]);\r\n    } catch (error) {\r\n      console.error('Failed to generate plan:', error);\r\n      alert(`Failed to generate plan: ${error instanceof Error ? error.message : String(error)}`);\r\n    }\r\n  };\r\n\r\n  const executePlan = async () => {\r\n    if (!plan) return;\r\n\r\n    setExecuting(true);\r\n    setResults([]);\r\n\r\n    try {\r\n      const result = await ipc.agent.executePlan({\r\n        planId: plan.id,\r\n        plan,\r\n      }) as { results: Array<{ stepId: string; success: boolean; result?: unknown; error?: string }> };\r\n      setResults(result.results || []);\r\n    } catch (error) {\r\n      console.error('Failed to execute plan:', error);\r\n      alert(`Failed to execute plan: ${error instanceof Error ? error.message : String(error)}`);\r\n    } finally {\r\n      setExecuting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-4 p-6 bg-gray-900/50 rounded-lg border border-gray-800\">\r\n      <div className=\"flex items-center gap-2\">\r\n        <Sparkles className=\"w-5 h-5 text-purple-400\" />\r\n        <h2 className=\"text-lg font-semibold text-gray-100\">Agent Planner</h2>\r\n      </div>\r\n\r\n      {/* Goal Input */}\r\n      <div className=\"flex flex-col gap-2\">\r\n        <label className=\"text-sm text-gray-400\">Goal</label>\r\n        <textarea\r\n          value={goal}\r\n          onChange={(e) => setGoal(e.target.value)}\r\n          placeholder=\"What do you want the agent to accomplish? (e.g., 'Research quantum computing breakthroughs')\"\r\n          className=\"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n          rows={3}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          value={mode}\r\n          onChange={(e) => setMode(e.target.value)}\r\n          placeholder=\"Mode (optional): research, trade, game, etc.\"\r\n          className=\"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n        />\r\n        <button\r\n          onClick={generatePlan}\r\n          disabled={!goal.trim()}\r\n          className=\"px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-700 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center justify-center gap-2\"\r\n        >\r\n          <Sparkles size={16} />\r\n          Generate Plan\r\n        </button>\r\n      </div>\r\n\r\n      {/* Plan Display */}\r\n      {plan && (\r\n        <div className=\"flex flex-col gap-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h3 className=\"text-sm font-semibold text-gray-300\">Generated Plan</h3>\r\n            <div className=\"text-xs text-gray-500\">\r\n              {plan.steps.length} steps • ~{plan.estimatedDuration || 0}s\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-col gap-2\">\r\n            {plan.steps.map((step, index) => (\r\n              <motion.div\r\n                key={step.id}\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-lg\"\r\n              >\r\n                <div className=\"flex items-start gap-3\">\r\n                  <div className=\"flex-shrink-0 w-6 h-6 rounded-full bg-purple-600/20 flex items-center justify-center text-purple-400 text-xs font-semibold\">\r\n                    {index + 1}\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center gap-2 mb-1\">\r\n                      <span className=\"text-sm font-medium text-gray-200\">{step.action}</span>\r\n                      {results.find(r => r.stepId === step.id) && (\r\n                        results.find(r => r.stepId === step.id)?.success ? (\r\n                          <CheckCircle2 size={14} className=\"text-green-400\" />\r\n                        ) : (\r\n                          <XCircle size={14} className=\"text-red-400\" />\r\n                        )\r\n                      )}\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-400 mb-1\">\r\n                      {Object.entries(step.args).map(([key, value]) => (\r\n                        <span key={key} className=\"mr-2\">\r\n                          <span className=\"text-gray-500\">{key}:</span> {String(value).substring(0, 50)}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                    {step.expectedOutput && (\r\n                      <div className=\"text-xs text-gray-500 italic\">\r\n                        Expected: {step.expectedOutput}\r\n                      </div>\r\n                    )}\r\n                    {results.find(r => r.stepId === step.id)?.error && (\r\n                      <div className=\"text-xs text-red-400 mt-1\">\r\n                        Error: {results.find(r => r.stepId === step.id)?.error}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n\r\n          <button\r\n            onClick={executePlan}\r\n            disabled={executing}\r\n            className=\"px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-700 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center justify-center gap-2\"\r\n          >\r\n            {executing ? (\r\n              <>\r\n                <Loader2 size={16} className=\"animate-spin\" />\r\n                Executing...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Play size={16} />\r\n                Execute Plan\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { create } from 'zustand';\r\nimport { ipc } from '../lib/ipc-typed';\r\nimport type { NexusPluginEntry } from '../types/extensionNexus';\r\n\r\ninterface ExtensionNexusState {\r\n  loading: boolean;\r\n  error: string | null;\r\n  plugins: NexusPluginEntry[];\r\n  peers: string[];\r\n  lastSyncedAt: number | null;\r\n  fetch: () => Promise<void>;\r\n  publish: (metadata: {\r\n    pluginId: string;\r\n    name: string;\r\n    version: string;\r\n    description: string;\r\n    author: string;\r\n    sourcePeer: string;\r\n    carbonScore?: number;\r\n    tags?: string[];\r\n  }) => Promise<void>;\r\n  toggleTrust: (pluginId: string, trusted: boolean) => Promise<void>;\r\n}\r\n\r\nexport const useExtensionNexusStore = create<ExtensionNexusState>((set, get) => ({\r\n  loading: false,\r\n  error: null,\r\n  plugins: [],\r\n  peers: [],\r\n  lastSyncedAt: null,\r\n  fetch: async () => {\r\n    try {\r\n      set({ loading: true, error: null });\r\n      const response = await ipc.extensionNexus.list();\r\n      set({\r\n        plugins: response.plugins,\r\n        peers: response.peers,\r\n        lastSyncedAt: Date.now(),\r\n        loading: false,\r\n      });\r\n    } catch (error) {\r\n      set({ loading: false, error: error instanceof Error ? error.message : String(error) });\r\n    }\r\n  },\r\n  publish: async (metadata) => {\r\n    try {\r\n      set({ loading: true, error: null });\r\n      await ipc.extensionNexus.publish(metadata);\r\n      await get().fetch();\r\n    } catch (error) {\r\n      set({ loading: false, error: error instanceof Error ? error.message : String(error) });\r\n    }\r\n  },\r\n  toggleTrust: async (pluginId, trusted) => {\r\n    try {\r\n      await ipc.extensionNexus.trust(pluginId, trusted);\r\n      const plugins = get().plugins.map((plugin) =>\r\n        plugin.pluginId === pluginId ? { ...plugin, trusted } : plugin,\r\n      );\r\n      set({ plugins });\r\n    } catch (error) {\r\n      set({ error: error instanceof Error ? error.message : String(error) });\r\n    }\r\n  },\r\n}));\r\n","import { useEffect, useMemo, useState } from 'react';\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport { ArrowDownCircle, ArrowUpCircle, BadgeCheck, Download, Globe2, Loader2, Share2, Users } from 'lucide-react';\r\nimport { useExtensionNexusStore } from '../../state/extensionNexusStore';\r\nimport type { NexusPluginEntry } from '../../types/extensionNexus';\r\n\r\ninterface PublishFormState {\r\n  pluginId: string;\r\n  name: string;\r\n  version: string;\r\n  description: string;\r\n  author: string;\r\n  sourcePeer: string;\r\n  carbonScore?: number;\r\n  tags: string;\r\n}\r\n\r\nconst DEFAULT_FORM: PublishFormState = {\r\n  pluginId: '',\r\n  name: '',\r\n  version: '0.1.0',\r\n  description: '',\r\n  author: '',\r\n  sourcePeer: '',\r\n  carbonScore: undefined,\r\n  tags: '',\r\n};\r\n\r\nfunction peerLabel(peer: string): string {\r\n  if (!peer) return 'Unknown node';\r\n  if (peer.startsWith('ob://')) return peer.replace('ob://', '');\r\n  return peer;\r\n}\r\n\r\nfunction confidenceTone(carbon?: number): string {\r\n  if (carbon === undefined) return 'text-gray-400 bg-gray-800/70 border-gray-700/40';\r\n  if (carbon < 45) return 'text-emerald-300 bg-emerald-500/10 border-emerald-500/40';\r\n  if (carbon < 65) return 'text-amber-300 bg-amber-500/10 border-amber-500/40';\r\n  return 'text-red-300 bg-red-500/10 border-red-500/40';\r\n}\r\n\r\nfunction formatTags(tags?: string[]): string {\r\n  if (!tags || tags.length === 0) return 'untagged';\r\n  return tags.map((tag) => `#${tag}`).join(' ');\r\n}\r\n\r\nfunction timeAgo(timestamp: number): string {\r\n  const diff = Date.now() - timestamp;\r\n  const minutes = Math.floor(diff / (1000 * 60));\r\n  if (minutes < 1) return 'just now';\r\n  if (minutes < 60) return `${minutes}m ago`;\r\n  const hours = Math.floor(minutes / 60);\r\n  if (hours < 24) return `${hours}h ago`;\r\n  const days = Math.floor(hours / 24);\r\n  return `${days}d ago`;\r\n}\r\n\r\nfunction PluginCard({ plugin, onToggleTrust }: { plugin: NexusPluginEntry; onToggleTrust: (id: string, trusted: boolean) => void }) {\r\n  return (\r\n    <motion.div\r\n      layout\r\n      className=\"rounded-xl border border-slate-800/60 bg-slate-900/70 p-4 shadow-lg shadow-black/40 hover:bg-slate-900/80 transition-colors\"\r\n    >\r\n      <div className=\"flex items-start justify-between gap-4\">\r\n        <div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <h3 className=\"text-sm font-semibold text-gray-200\">{plugin.name}</h3>\r\n            <span className=\"text-[11px] px-2 py-0.5 rounded-full border border-slate-700/50 text-gray-400\">\r\n              v{plugin.version}\r\n            </span>\r\n          </div>\r\n          <p className=\"mt-2 text-xs text-gray-400 leading-relaxed line-clamp-3\">{plugin.description}</p>\r\n        </div>\r\n        <button\r\n          onClick={() => onToggleTrust(plugin.pluginId, !plugin.trusted)}\r\n          className={`flex items-center gap-1 rounded-lg border px-2 py-1 text-[11px] transition-colors ${\r\n            plugin.trusted\r\n              ? 'border-emerald-500/60 bg-emerald-500/10 text-emerald-200 hover:bg-emerald-500/20'\r\n              : 'border-gray-700/60 bg-gray-800/60 text-gray-300 hover:bg-gray-800/80'\r\n          }`}\r\n        >\r\n          <BadgeCheck size={12} />\r\n          {plugin.trusted ? 'Trusted' : 'Trust Node'}\r\n        </button>\r\n      </div>\r\n      <div className=\"mt-3 flex flex-wrap items-center gap-3 text-[11px] text-gray-500\">\r\n        <span className=\"inline-flex items-center gap-1\"><Users size={12} className=\"text-gray-600\" />{peerLabel(plugin.sourcePeer)}</span>\r\n        <span className=\"inline-flex items-center gap-1\"><Download size={12} className=\"text-gray-600\" />{plugin.downloads} pulls</span>\r\n        <span className={`inline-flex items-center gap-1 rounded-full border px-2 py-0.5 ${confidenceTone(plugin.carbonScore)}`}>\r\n          <Globe2 size={12} />\r\n          {plugin.carbonScore !== undefined ? `${plugin.carbonScore.toFixed(0)} gCO₂e` : 'carbon unknown'}\r\n        </span>\r\n        <span className=\"inline-flex items-center gap-1 text-gray-500\">{timeAgo(plugin.publishedAt)}</span>\r\n      </div>\r\n      <div className=\"mt-3 text-[11px] text-gray-500 uppercase tracking-wide\">{formatTags(plugin.tags)}</div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nexport function ExtensionNexusPanel() {\r\n  const { plugins, loading, peers, error, lastSyncedAt, fetch, publish, toggleTrust } = useExtensionNexusStore();\r\n  const [showPublish, setShowPublish] = useState(false);\r\n  const [form, setForm] = useState<PublishFormState>(DEFAULT_FORM);\r\n  const [busy, setBusy] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (plugins.length === 0 && !loading) {\r\n      void fetch();\r\n    }\r\n  }, [fetch, plugins.length, loading]);\r\n\r\n  const sortedPlugins = useMemo(() => [...plugins].sort((a, b) => b.trusted === a.trusted ? b.publishedAt - a.publishedAt : Number(b.trusted) - Number(a.trusted)), [plugins]);\r\n\r\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    if (!form.pluginId.trim() || !form.name.trim()) return;\r\n    setBusy(true);\r\n    try {\r\n      await publish({\r\n        pluginId: form.pluginId.trim(),\r\n        name: form.name.trim(),\r\n        version: form.version.trim(),\r\n        description: form.description.trim(),\r\n        author: form.author.trim(),\r\n        sourcePeer: form.sourcePeer.trim() || 'ob://local',\r\n        carbonScore: form.carbonScore,\r\n        tags: form.tags\r\n          .split(',')\r\n          .map((tag) => tag.trim())\r\n          .filter(Boolean),\r\n      });\r\n      setForm(DEFAULT_FORM);\r\n      setShowPublish(false);\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-sm font-semibold text-gray-200 flex items-center gap-2\">\r\n            <Share2 size={16} className=\"text-purple-400\" />\r\n            Decentralized Extension Nexus\r\n          </h2>\r\n          <p className=\"text-[11px] text-gray-500 mt-1\">\r\n            P2P plugin sharing with trust scoring and carbon-aware provenance.\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={() => setShowPublish((value) => !value)}\r\n          className=\"flex items-center gap-1 rounded-lg border border-purple-500/50 bg-purple-600/10 px-3 py-1.5 text-xs text-purple-200 hover:bg-purple-600/20\"\r\n        >\r\n          <ArrowUpCircle size={14} />\r\n          Share Plugin\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-3 text-[11px] text-gray-500\">\r\n        <span className=\"inline-flex items-center gap-1 rounded-lg border border-gray-700/60 bg-gray-800/60 px-2 py-1\">\r\n          <Users size={12} className=\"text-gray-500\" />\r\n          {peers.length} federated peers\r\n        </span>\r\n        {lastSyncedAt && (\r\n          <span className=\"inline-flex items-center gap-1 text-gray-500\">\r\n            <ArrowDownCircle size={12} className=\"text-gray-600\" />\r\n            Synced {timeAgo(lastSyncedAt)}\r\n          </span>\r\n        )}\r\n        {loading && (\r\n          <span className=\"inline-flex items-center gap-1 text-purple-300\">\r\n            <Loader2 size={12} className=\"animate-spin\" />\r\n            Syncing mesh\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"rounded-lg border border-red-500/40 bg-red-500/10 px-3 py-2 text-xs text-red-100\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <AnimatePresence>{showPublish && (\r\n        <motion.form\r\n          layout\r\n          initial={{ opacity: 0, height: 0 }}\r\n          animate={{ opacity: 1, height: 'auto' }}\r\n          exit={{ opacity: 0, height: 0 }}\r\n          onSubmit={handleSubmit}\r\n          className=\"space-y-3 rounded-xl border border-purple-500/40 bg-purple-500/5 p-4\"\r\n        >\r\n          <div className=\"grid grid-cols-1 gap-3\">\r\n            <label className=\"flex flex-col gap-1 text-xs text-gray-400\">\r\n              Plugin Identifier\r\n              <input\r\n                type=\"text\"\r\n                value={form.pluginId}\r\n                onChange={(e) => setForm((prev) => ({ ...prev, pluginId: e.target.value }))}\r\n                className=\"rounded-lg border border-purple-500/30 bg-gray-950 px-3 py-2 text-gray-200 focus:border-purple-400 focus:outline-none\"\r\n                placeholder=\"com.omni.ai.intelligence\"\r\n                required\r\n              />\r\n            </label>\r\n            <label className=\"flex flex-col gap-1 text-xs text-gray-400\">\r\n              Friendly name\r\n              <input\r\n                type=\"text\"\r\n                value={form.name}\r\n                onChange={(e) => setForm((prev) => ({ ...prev, name: e.target.value }))}\r\n                className=\"rounded-lg border border-purple-500/30 bg-gray-950 px-3 py-2 text-gray-200 focus:border-purple-400 focus:outline-none\"\r\n                placeholder=\"Omni Intelligence Toolkit\"\r\n                required\r\n              />\r\n            </label>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n              <label className=\"flex flex-col gap-1 text-xs text-gray-400\">\r\n                Version\r\n                <input\r\n                  type=\"text\"\r\n                  value={form.version}\r\n                  onChange={(e) => setForm((prev) => ({ ...prev, version: e.target.value }))}\r\n                  className=\"rounded-lg border border-purple-500/30 bg-gray-950 px-3 py-2 text-gray-200 focus:border-purple-400 focus:outline-none\"\r\n                />\r\n              </label>\r\n              <label className=\"flex flex-col gap-1 text-xs text-gray-400\">\r\n                Source peer / node handle\r\n                <input\r\n                  type=\"text\"\r\n                  value={form.sourcePeer}\r\n                  onChange={(e) => setForm((prev) => ({ ...prev, sourcePeer: e.target.value }))}\r\n                  className=\"rounded-lg border border-purple-500/30 bg-gray-950 px-3 py-2 text-gray-200 focus:border-purple-400 focus:outline-none\"\r\n                  placeholder=\"ob://atlanta-hub\"\r\n                />\r\n              </label>\r\n            </div>\r\n            <label className=\"flex flex-col gap-1 text-xs text-gray-400\">\r\n              Description\r\n              <textarea\r\n                value={form.description}\r\n                onChange={(e) => setForm((prev) => ({ ...prev, description: e.target.value }))}\r\n                className=\"rounded-lg border border-purple-500/30 bg-gray-950 px-3 py-2 text-gray-200 focus:border-purple-400 focus:outline-none\"\r\n                placeholder=\"Describe the capability, privacy considerations, and ethics pledges.\"\r\n                rows={3}\r\n                required\r\n              />\r\n            </label>\r\n            <label className=\"flex flex-col gap-1 text-xs text-gray-400\">\r\n              Author / Collective\r\n              <input\r\n                type=\"text\"\r\n                value={form.author}\r\n                onChange={(e) => setForm((prev) => ({ ...prev, author: e.target.value }))}\r\n                className=\"rounded-lg border border-purple-500/30 bg-gray-950 px-3 py-2 text-gray-200 focus:border-purple-400 focus:outline-none\"\r\n                placeholder=\"Atlas Collective\"\r\n                required\r\n              />\r\n            </label>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n              <label className=\"flex flex-col gap-1 text-xs text-gray-400\">\r\n                Carbon intensity snapshot (gCO₂e)\r\n                <input\r\n                  type=\"number\"\r\n                  min={0}\r\n                  max={100}\r\n                  value={form.carbonScore ?? ''}\r\n                  onChange={(e) => {\r\n                    const value = e.target.value;\r\n                    setForm((prev) => ({ ...prev, carbonScore: value === '' ? undefined : Number(value) }));\r\n                  }}\r\n                  className=\"rounded-lg border border-purple-500/30 bg-gray-950 px-3 py-2 text-gray-200 focus:border-purple-400 focus:outline-none\"\r\n                  placeholder=\"48\"\r\n                />\r\n              </label>\r\n              <label className=\"flex flex-col gap-1 text-xs text-gray-400\">\r\n                Tags (comma separated)\r\n                <input\r\n                  type=\"text\"\r\n                  value={form.tags}\r\n                  onChange={(e) => setForm((prev) => ({ ...prev, tags: e.target.value }))}\r\n                  className=\"rounded-lg border border-purple-500/30 bg-gray-950 px-3 py-2 text-gray-200 focus:border-purple-400 focus:outline-none\"\r\n                  placeholder=\"productivity, research, discovery\"\r\n                />\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center justify-end gap-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => {\r\n                setShowPublish(false);\r\n                setForm(DEFAULT_FORM);\r\n              }}\r\n              className=\"rounded-lg border border-gray-700/60 bg-gray-800/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-gray-800/80\"\r\n              disabled={busy}\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"flex items-center gap-2 rounded-lg border border-purple-500/60 bg-purple-600/20 px-3 py-1.5 text-xs text-purple-100 hover:bg-purple-600/30 disabled:opacity-60\"\r\n              disabled={busy}\r\n            >\r\n              {busy ? <Loader2 size={14} className=\"animate-spin\" /> : <Share2 size={14} />}\r\n              Publish to mesh\r\n            </button>\r\n          </div>\r\n        </motion.form>\r\n      )}</AnimatePresence>\r\n\r\n      <div className=\"space-y-3\">\r\n        {sortedPlugins.length === 0 && !loading ? (\r\n          <div className=\"rounded-xl border border-dashed border-gray-700/60 bg-gray-900/50 px-6 py-12 text-center text-xs text-gray-500\">\r\n            No peer plugins in the mesh yet. Publish one to seed the nexus.\r\n          </div>\r\n        ) : (\r\n          <AnimatePresence>\r\n            {sortedPlugins.map((plugin) => (\r\n              <PluginCard key={plugin.pluginId} plugin={plugin} onToggleTrust={toggleTrust} />\r\n            ))}\r\n          </AnimatePresence>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { create } from 'zustand';\r\nimport { ipc } from '../lib/ipc-typed';\r\nimport type { EcoImpactForecast } from '../types/ecoImpact';\r\n\r\ninterface EcoImpactState {\r\n  loading: boolean;\r\n  error: string | null;\r\n  forecast: EcoImpactForecast | null;\r\n  horizonMinutes: number;\r\n  lastUpdated: number | null;\r\n  setHorizon: (minutes: number) => void;\r\n  fetch: (options?: { horizonMinutes?: number }) => Promise<void>;\r\n}\r\n\r\nexport const useEcoImpactStore = create<EcoImpactState>((set, get) => ({\r\n  loading: false,\r\n  error: null,\r\n  forecast: null,\r\n  horizonMinutes: 120,\r\n  lastUpdated: null,\r\n  setHorizon: (minutes) => {\r\n    set({ horizonMinutes: minutes });\r\n    void get().fetch({ horizonMinutes: minutes });\r\n  },\r\n  fetch: async (options) => {\r\n    const horizonMinutes = options?.horizonMinutes ?? get().horizonMinutes;\r\n    try {\r\n      set({ loading: true, error: null });\r\n      const result = await ipc.efficiency.ecoImpact({ horizonMinutes });\r\n      set({ forecast: result, loading: false, lastUpdated: Date.now(), horizonMinutes });\r\n    } catch (error) {\r\n      set({\r\n        loading: false,\r\n        error: error instanceof Error ? error.message : String(error),\r\n      });\r\n    }\r\n  },\r\n}));\r\n","import { useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { BatteryCharging, BatteryFull, Cloud, CloudLightning, Leaf, Loader2, RefreshCw, Timer, TrendingDown, TrendingUp } from 'lucide-react';\r\nimport { useEcoImpactStore } from '../../state/ecoImpactStore';\r\nimport type { EcoImpactRecommendation } from '../../types/ecoImpact';\r\n\r\nconst horizons = [60, 120, 180];\r\n\r\nfunction formatMinutes(minutes: number | null): string {\r\n  if (minutes === null || !Number.isFinite(minutes)) {\r\n    return '—';\r\n  }\r\n  const total = Math.max(0, Math.round(minutes));\r\n  const hours = Math.floor(total / 60);\r\n  const mins = total % 60;\r\n  if (hours <= 0) {\r\n    return `${mins}m`;\r\n  }\r\n  if (mins === 0) {\r\n    return `${hours}h`;\r\n  }\r\n  return `${hours}h ${mins}m`;\r\n}\r\n\r\nfunction Recommendation({ item }: { item: EcoImpactRecommendation }) {\r\n  const impactTone = {\r\n    low: 'border-emerald-500/40 bg-emerald-500/10 text-emerald-200',\r\n    medium: 'border-amber-500/40 bg-amber-500/10 text-amber-200',\r\n    high: 'border-red-500/40 bg-red-500/10 text-red-200',\r\n  }[item.impact];\r\n\r\n  return (\r\n    <motion.div\r\n      layout\r\n      className=\"rounded-xl border border-slate-800/60 bg-slate-900/70 p-3 shadow-inner shadow-black/30\"\r\n    >\r\n      <div className=\"flex items-center justify-between gap-3\">\r\n        <h4 className=\"text-sm font-medium text-gray-200\">{item.title}</h4>\r\n        <span className={`text-[10px] px-2 py-0.5 rounded-full border ${impactTone}`}>{item.impact.toUpperCase()}</span>\r\n      </div>\r\n      <p className=\"mt-2 text-xs text-gray-400 leading-relaxed\">{item.description}</p>\r\n      <div className=\"mt-2 text-[10px] uppercase tracking-wide text-slate-500\">{item.category} impact</div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nexport function EcoImpactSimulator() {\r\n  const { forecast, loading, error, horizonMinutes, setHorizon, fetch } = useEcoImpactStore();\r\n\r\n  useEffect(() => {\r\n    if (!forecast && !loading) {\r\n      void fetch();\r\n    }\r\n  }, [forecast, loading, fetch]);\r\n\r\n  const refresh = () => {\r\n    void fetch();\r\n  };\r\n\r\n  const batterySlope = forecast?.battery.slopePerHour ?? null;\r\n  const carbonTrend = forecast?.carbon.trend ?? 'unknown';\r\n  const carbonSamples = forecast?.carbon.samples ?? [];\r\n  const carbonIntensities = carbonSamples.map((sample) => sample.intensity);\r\n  const carbonMin = carbonIntensities.length > 0 ? Math.min(...carbonIntensities) : null;\r\n  const carbonMax = carbonIntensities.length > 0 ? Math.max(...carbonIntensities) : null;\r\n\r\n  return (\r\n    <div className=\"space-y-5\">\r\n      <div className=\"flex items-center justify-between gap-3\">\r\n        <div>\r\n          <h2 className=\"text-sm font-semibold text-gray-200 flex items-center gap-2\">\r\n            <Leaf size={16} className=\"text-emerald-400\" />\r\n            Eco-Impact Simulator\r\n          </h2>\r\n          <p className=\"text-[11px] text-gray-500 mt-1\">\r\n            Forecast battery life and grid carbon intensity to plan energy-aware workflows.\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={refresh}\r\n          className=\"flex items-center gap-1 rounded-lg border border-emerald-500/40 bg-emerald-500/10 px-3 py-1.5 text-xs text-emerald-200 hover:bg-emerald-500/20\"\r\n          disabled={loading}\r\n        >\r\n          {loading ? <Loader2 size={14} className=\"animate-spin\" /> : <RefreshCw size={14} />}\r\n          Refresh\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-2 text-[11px] text-gray-500\">\r\n        <span>Forecast horizon:</span>\r\n        <div className=\"inline-flex items-center gap-2 rounded-lg border border-slate-800/60 bg-slate-900/70 px-2 py-1\">\r\n          {horizons.map((minutes) => (\r\n            <button\r\n              key={minutes}\r\n              onClick={() => setHorizon(minutes)}\r\n              className={`px-2 py-1 rounded transition-colors text-xs ${\r\n                horizonMinutes === minutes\r\n                  ? 'bg-emerald-500/20 text-emerald-200'\r\n                  : 'text-gray-400 hover:text-gray-200'\r\n              }`}\r\n            >\r\n              {minutes / 60 >= 1 ? `${minutes / 60}h` : `${minutes}m`}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"rounded-lg border border-red-500/40 bg-red-500/10 px-3 py-2 text-xs text-red-100\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <AnimatePresence>\r\n        {forecast && !error && (\r\n          <motion.div\r\n            key={forecast.generatedAt}\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -10 }}\r\n            transition={{ duration: 0.25 }}\r\n            className=\"space-y-5\"\r\n          >\r\n            <div className=\"rounded-xl border border-slate-800/60 bg-slate-900/70 p-4\">\r\n              <div className=\"flex items-start justify-between gap-3\">\r\n                <div>\r\n                  <div className=\"text-xs text-slate-400 uppercase tracking-wide\">Summary</div>\r\n                  <p className=\"mt-2 text-sm text-gray-200 leading-relaxed\">\r\n                    {forecast.summary || 'Awaiting telemetry sample...'}\r\n                  </p>\r\n                </div>\r\n                <div className=\"text-[11px] text-slate-500\">\r\n                  Updated {new Date(forecast.generatedAt).toLocaleTimeString()}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 gap-4 lg:grid-cols-2\">\r\n              <div className=\"rounded-xl border border-slate-800/60 bg-slate-900/70 p-4 space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2 text-gray-200 text-sm font-semibold\">\r\n                    {forecast.battery.charging ? <BatteryCharging size={16} className=\"text-emerald-400\" /> : <BatteryFull size={16} className=\"text-amber-300\" />}\r\n                    Battery trajectory\r\n                  </div>\r\n                  <span className=\"text-[11px] text-slate-500\">Slope {batterySlope !== null ? `${batterySlope > 0 ? '+' : ''}${batterySlope.toFixed(1)}%/h` : '—'}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-6\">\r\n                  <div className=\"text-3xl font-semibold text-gray-100\">\r\n                    {forecast.battery.currentPct !== null ? `${Math.round(forecast.battery.currentPct)}%` : '—'}\r\n                  </div>\r\n                  <div className=\"space-y-1 text-xs text-gray-400\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Timer size={12} />\r\n                      <span>\r\n                        {forecast.battery.charging\r\n                          ? `≈${formatMinutes(forecast.battery.minutesToFull)} to full`\r\n                          : `≈${formatMinutes(forecast.battery.minutesToEmpty)} to empty`}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CloudLightning size={12} />\r\n                      <span>{forecast.battery.charging ? 'Charging via grid' : 'Running on battery'}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"text-[11px] text-slate-500 uppercase tracking-wide\">Projected milestones</div>\r\n                  {forecast.battery.projections.length === 0 ? (\r\n                    <div className=\"text-xs text-slate-500\">Need more telemetry samples to forecast milestones.</div>\r\n                  ) : (\r\n                    <div className=\"grid grid-cols-2 gap-2\">\r\n                      {forecast.battery.projections.map((projection) => (\r\n                        <div\r\n                          key={projection.level}\r\n                          className=\"rounded-lg border border-slate-800/60 bg-slate-900/80 px-3 py-2 text-xs text-gray-300 flex items-center justify-between\"\r\n                        >\r\n                          <span>{projection.label}</span>\r\n                          <span className=\"text-slate-400\">{formatMinutes(projection.minutes)}</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"rounded-xl border border-slate-800/60 bg-slate-900/70 p-4 space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2 text-gray-200 text-sm font-semibold\">\r\n                    <Cloud size={16} className=\"text-sky-300\" />\r\n                    Carbon outlook\r\n                  </div>\r\n                  <span className=\"text-[11px] text-slate-500 capitalize\">{carbonTrend}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-6\">\r\n                  <div className=\"text-3xl font-semibold text-gray-100\">\r\n                    {forecast.carbon.currentIntensity !== null ? `${Math.round(forecast.carbon.currentIntensity)} g` : '—'}\r\n                  </div>\r\n                  <div className=\"space-y-1 text-xs text-gray-400\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      {carbonTrend === 'rising' ? <TrendingUp size={12} className=\"text-amber-300\" /> : carbonTrend === 'falling' ? <TrendingDown size={12} className=\"text-emerald-300\" /> : <Cloud size={12} />}\r\n                      <span>\r\n                        Forecast {forecast.carbon.forecastIntensity !== null ? `${Math.round(forecast.carbon.forecastIntensity)} g` : '—'}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Leaf size={12} className=\"text-emerald-300\" />\r\n                      <span>Confidence {(forecast.carbon.confidence * 100).toFixed(0)}%</span>\r\n                    </div>\r\n                    {forecast.carbon.region && (\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <Cloud size={12} />\r\n                        <span>Region {forecast.carbon.region}</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"text-[11px] text-slate-500 uppercase tracking-wide\">Recent intensity</div>\r\n                  <div className=\"relative h-16 w-full overflow-hidden rounded-lg border border-slate-800/60 bg-slate-900/80\">\r\n                    {carbonSamples.length > 1 && carbonMin !== null && carbonMax !== null ? (\r\n                      <svg viewBox=\"0 0 100 100\" className=\"absolute inset-0 h-full w-full opacity-80 text-sky-400\">\r\n                        <polyline\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          strokeWidth=\"3\"\r\n                          points={carbonSamples\r\n                            .map((sample, index) => {\r\n                              const x = (index / Math.max(1, carbonSamples.length - 1)) * 100;\r\n                              const range = carbonMax - carbonMin || 1;\r\n                              const normalized = 100 - ((sample.intensity - carbonMin) / range) * 80 - 10;\r\n                              return `${x.toFixed(2)},${normalized.toFixed(2)}`;\r\n                            })\r\n                            .join(' ')}\r\n                        />\r\n                      </svg>\r\n                    ) : (\r\n                      <div className=\"flex h-full items-center justify-center text-[11px] text-slate-500\">\r\n                        Insufficient data for sparkline\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center gap-2 text-xs text-slate-400 uppercase tracking-wide\">\r\n                <Leaf size={12} className=\"text-emerald-300\" />\r\n                Recommended moves\r\n              </div>\r\n              <div className=\"grid grid-cols-1 gap-3\">\r\n                {forecast.recommendations.map((item) => (\r\n                  <Recommendation key={item.id} item={item} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {!forecast && !error && loading && (\r\n        <div className=\"flex items-center justify-center py-12 text-sm text-slate-400\">\r\n          <Loader2 size={18} className=\"mr-2 animate-spin\" />\r\n          Waiting for telemetry samples…\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { create } from 'zustand';\r\nimport { ipc } from '../lib/ipc-typed';\r\nimport type { TrustSummary } from '../types/trustWeaver';\r\n\r\ninterface TrustWeaverState {\r\n  loading: boolean;\r\n  submitting: boolean;\r\n  error: string | null;\r\n  records: TrustSummary[];\r\n  activeDomain: string | null;\r\n  activeSummary: TrustSummary | null;\r\n  lastUpdated: number | null;\r\n  fetchAll: () => Promise<void>;\r\n  inspect: (domain: string) => Promise<void>;\r\n  submit: (signal: {\r\n    domain: string;\r\n    url?: string;\r\n    title?: string;\r\n    score: number;\r\n    confidence?: number;\r\n    tags?: string[];\r\n    comment?: string;\r\n    sourcePeer?: string;\r\n  }) => Promise<void>;\r\n}\r\n\r\nexport const useTrustWeaverStore = create<TrustWeaverState>((set, get) => ({\r\n  loading: false,\r\n  submitting: false,\r\n  error: null,\r\n  records: [],\r\n  activeDomain: null,\r\n  activeSummary: null,\r\n  lastUpdated: null,\r\n  fetchAll: async () => {\r\n    try {\r\n      set({ loading: true, error: null });\r\n      const { records } = await ipc.trust.list();\r\n      set({ records, loading: false, lastUpdated: Date.now() });\r\n    } catch (error) {\r\n      set({\r\n        loading: false,\r\n        error: error instanceof Error ? error.message : String(error),\r\n      });\r\n    }\r\n  },\r\n  inspect: async (domain: string) => {\r\n    try {\r\n      set({ loading: true, error: null, activeDomain: domain });\r\n      const response = await ipc.trust.get(domain);\r\n      if (response.found && response.summary) {\r\n        set({ activeSummary: response.summary, loading: false, lastUpdated: Date.now() });\r\n      } else {\r\n        set({ activeSummary: null, loading: false });\r\n      }\r\n    } catch (error) {\r\n      set({\r\n        loading: false,\r\n        error: error instanceof Error ? error.message : String(error),\r\n      });\r\n    }\r\n  },\r\n  submit: async (signal) => {\r\n    try {\r\n      set({ submitting: true, error: null });\r\n      const { summary } = await ipc.trust.submit(signal);\r\n      if (summary) {\r\n        const records = get().records.filter((record) => record.domain !== summary.domain);\r\n        records.push(summary);\r\n        records.sort((a, b) => b.signals - a.signals || b.score - a.score);\r\n        set({\r\n          records,\r\n          activeSummary: summary,\r\n          activeDomain: summary.domain,\r\n          submitting: false,\r\n          lastUpdated: Date.now(),\r\n        });\r\n      } else {\r\n        set({ submitting: false });\r\n      }\r\n    } catch (error) {\r\n      set({\r\n        submitting: false,\r\n        error: error instanceof Error ? error.message : String(error),\r\n      });\r\n    }\r\n  },\r\n}));\r\n","import { useEffect, useMemo, useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { ShieldCheck, Loader2, ExternalLink, Send, Tags, Activity, Users } from 'lucide-react';\r\nimport { useTrustWeaverStore } from '../../state/trustWeaverStore';\r\nimport { useTabsStore } from '../../state/tabsStore';\r\nimport type { TrustSummary } from '../../types/trustWeaver';\r\n\r\nfunction verdictTone(verdict: TrustSummary['verdict']): string {\r\n  switch (verdict) {\r\n    case 'trusted':\r\n      return 'text-emerald-300 bg-emerald-500/10 border-emerald-400/40';\r\n    case 'caution':\r\n      return 'text-amber-300 bg-amber-500/10 border-amber-400/40';\r\n    case 'risk':\r\n    default:\r\n      return 'text-red-300 bg-red-500/10 border-red-400/40';\r\n  }\r\n}\r\n\r\nfunction formatTimeAgo(timestamp: number): string {\r\n  const delta = Date.now() - timestamp;\r\n  if (delta < 60_000) return 'just now';\r\n  const minutes = Math.floor(delta / 60_000);\r\n  if (minutes < 60) return `${minutes}m ago`;\r\n  const hours = Math.floor(minutes / 60);\r\n  if (hours < 24) return `${hours}h ago`;\r\n  const days = Math.floor(hours / 24);\r\n  return `${days}d ago`;\r\n}\r\n\r\nfunction ScoreBadge({ score }: { score: number }) {\r\n  const tone = score >= 70 ? 'text-emerald-200' : score >= 45 ? 'text-amber-200' : 'text-red-200';\r\n  return <span className={`text-lg font-semibold ${tone}`}>{Math.round(score)}</span>;\r\n}\r\n\r\nexport function TrustWeaverPanel() {\r\n  const { tabs, activeId } = useTabsStore();\r\n  const activeTab = tabs.find((tab) => tab.id === activeId);\r\n  const activeDomain = useMemo(() => {\r\n    if (!activeTab?.url) return null;\r\n    try {\r\n      return new URL(activeTab.url).hostname;\r\n    } catch {\r\n      return activeTab.url.replace(/^https?:\\/\\//, '');\r\n    }\r\n  }, [activeTab]);\r\n\r\n  const { records, loading, submitting, error, activeSummary, fetchAll, inspect, submit } = useTrustWeaverStore();\r\n\r\n  const [score, setScore] = useState(80);\r\n  const [confidence, setConfidence] = useState(0.7);\r\n  const [tags, setTags] = useState('privacy, research');\r\n  const [comment, setComment] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (!records.length && !loading) {\r\n      void fetchAll();\r\n    }\r\n  }, [records.length, loading, fetchAll]);\r\n\r\n  useEffect(() => {\r\n    if (activeDomain) {\r\n      void inspect(activeDomain);\r\n    }\r\n  }, [activeDomain, inspect]);\r\n\r\n  const handleSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    if (!activeDomain) return;\r\n    const parsedTags = tags\r\n      .split(',')\r\n      .map((tag) => tag.trim())\r\n      .filter(Boolean);\r\n\r\n    await submit({\r\n      domain: activeDomain,\r\n      url: activeTab?.url,\r\n      title: activeTab?.title,\r\n      score,\r\n      confidence,\r\n      tags: parsedTags,\r\n      comment: comment.trim() || undefined,\r\n      sourcePeer: 'ob://local',\r\n    });\r\n    setComment('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-5\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-sm font-semibold text-gray-200 flex items-center gap-2\">\r\n            <ShieldCheck size={16} className=\"text-sky-400\" />\r\n            Trust Weaver Network\r\n          </h2>\r\n          <p className=\"text-[11px] text-gray-500 mt-1\">\r\n            Community-vetted safety intelligence for sites you browse.\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={() => void fetchAll()}\r\n          className=\"text-xs rounded-lg border border-slate-700/60 bg-slate-900/70 px-3 py-1.5 text-slate-200 hover:bg-slate-900/90\"\r\n        >\r\n          Refresh mesh\r\n        </button>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"rounded-lg border border-red-500/40 bg-red-500/10 px-3 py-2 text-xs text-red-100\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"rounded-xl border border-slate-800/60 bg-slate-900/70 p-4 space-y-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <div className=\"text-xs text-slate-400 uppercase tracking-wide\">Active site</div>\r\n            <div className=\"mt-1 text-sm text-gray-200 flex items-center gap-2\">\r\n              {activeDomain ?? 'No tab active'}\r\n              {activeTab?.url && (\r\n                <a\r\n                  href={activeTab.url}\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                  className=\"text-slate-500 hover:text-slate-300\"\r\n                >\r\n                  <ExternalLink size={12} />\r\n                </a>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-3 text-xs text-slate-500\">\r\n            <span className=\"inline-flex items-center gap-1\"><Users size={12} />{records.length} domains</span>\r\n            {loading && <Loader2 size={12} className=\"animate-spin\" />}\r\n          </div>\r\n        </div>\r\n\r\n        <AnimatePresence>\r\n          {activeSummary && (\r\n            <motion.div\r\n              key={activeSummary.domain}\r\n              initial={{ opacity: 0, y: 8 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -8 }}\r\n              className=\"rounded-lg border border-slate-800/80 bg-slate-900/80 p-3 space-y-2\"\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <ScoreBadge score={activeSummary.score} />\r\n                  <div>\r\n                    <div className=\"text-sm text-gray-200 font-medium\">Trust score</div>\r\n                    <div className=\"text-[11px] text-slate-500\">{Math.round(activeSummary.confidence * 100)}% confidence · {activeSummary.signals} signals</div>\r\n                  </div>\r\n                </div>\r\n                <span className={`text-[11px] px-3 py-1 rounded-full border ${verdictTone(activeSummary.verdict)}`}>\r\n                  {activeSummary.verdict.toUpperCase()}\r\n                </span>\r\n              </div>\r\n              {activeSummary.tags.length > 0 && (\r\n                <div className=\"flex flex-wrap items-center gap-2 text-[10px] text-slate-400\">\r\n                  <Tags size={11} />\r\n                  {activeSummary.tags.map((tag) => (\r\n                    <span key={tag} className=\"rounded-full border border-slate-700/60 px-2 py-0.5\">#{tag}</span>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              <div className=\"text-[11px] text-slate-500\">Updated {formatTimeAgo(activeSummary.lastUpdated)}</div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {activeDomain && (\r\n          <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n            <div className=\"text-xs text-slate-400 uppercase tracking-wide\">Share insight</div>\r\n            <div className=\"grid grid-cols-1 gap-4\">\r\n              <label className=\"flex flex-col gap-2 text-xs text-slate-400\">\r\n                Score ({score})\r\n                <input\r\n                  type=\"range\"\r\n                  min={0}\r\n                  max={100}\r\n                  value={score}\r\n                  onChange={(event) => setScore(Number(event.target.value))}\r\n                  className=\"accent-sky-400\"\r\n                />\r\n              </label>\r\n              <label className=\"flex flex-col gap-2 text-xs text-slate-400\">\r\n                Confidence {(confidence * 100).toFixed(0)}%\r\n                <input\r\n                  type=\"range\"\r\n                  min={0}\r\n                  max={1}\r\n                  step={0.05}\r\n                  value={confidence}\r\n                  onChange={(event) => setConfidence(Number(event.target.value))}\r\n                  className=\"accent-sky-400\"\r\n                />\r\n              </label>\r\n              <label className=\"flex flex-col gap-2 text-xs text-slate-400\">\r\n                Tags (comma separated)\r\n                <input\r\n                  type=\"text\"\r\n                  value={tags}\r\n                  onChange={(event) => setTags(event.target.value)}\r\n                  className=\"rounded-lg border border-slate-800/60 bg-slate-950 px-3 py-2 text-gray-200 focus:border-sky-500 focus:outline-none\"\r\n                />\r\n              </label>\r\n              <label className=\"flex flex-col gap-2 text-xs text-slate-400\">\r\n                Comment (optional)\r\n                <textarea\r\n                  value={comment}\r\n                  onChange={(event) => setComment(event.target.value)}\r\n                  rows={3}\r\n                  className=\"rounded-lg border border-slate-800/60 bg-slate-950 px-3 py-2 text-sm text-gray-200 focus:border-sky-500 focus:outline-none\"\r\n                  placeholder=\"What makes this site safe or risky?\"\r\n                />\r\n              </label>\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={submitting}\r\n              className=\"flex items-center gap-2 rounded-lg border border-sky-500/40 bg-sky-500/10 px-3 py-1.5 text-xs text-sky-200 hover:bg-sky-500/20 disabled:opacity-60\"\r\n            >\r\n              {submitting ? <Loader2 size={14} className=\"animate-spin\" /> : <Send size={14} />}\r\n              Weaver signal\r\n            </button>\r\n          </form>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2 text-xs text-slate-400 uppercase tracking-wide\">\r\n          <Activity size={12} className=\"text-sky-400\" />\r\n          Mesh activity\r\n        </div>\r\n        <div className=\"space-y-2 max-h-72 overflow-y-auto pr-1\">\r\n          {records.length === 0 && !loading ? (\r\n            <div className=\"rounded-lg border border-dashed border-slate-800/60 bg-slate-900/60 px-4 py-6 text-center text-xs text-slate-500\">\r\n              No trust intelligence yet. Be the first to cast a signal.\r\n            </div>\r\n          ) : (\r\n            records.slice(0, 12).map((record) => (\r\n              <div key={record.domain} className=\"rounded-lg border border-slate-800/60 bg-slate-900/70 p-3 space-y-2\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <div className=\"text-sm text-gray-200 font-medium\">{record.domain}</div>\r\n                    <div className=\"text-[11px] text-slate-500\">{record.signals} signals · {Math.round(record.confidence * 100)}% confidence</div>\r\n                  </div>\r\n                  <ScoreBadge score={record.score} />\r\n                </div>\r\n                <div className=\"flex items-center gap-2 text-[10px] text-slate-500\">\r\n                  <span className={`rounded-full border px-2 py-0.5 ${verdictTone(record.verdict)}`}>{record.verdict.toUpperCase()}</span>\r\n                  <span>Updated {formatTimeAgo(record.lastUpdated)}</span>\r\n                </div>\r\n                {record.tags.length > 0 && (\r\n                  <div className=\"flex flex-wrap gap-1 text-[10px] text-slate-500\">\r\n                    {record.tags.slice(0, 5).map((tag) => (\r\n                      <span key={tag} className=\"rounded-full border border-slate-800/60 px-2 py-0.5\">#{tag}</span>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"text-[10px] text-slate-500\">\r\n        Signals are community-sourced heuristics. Combine with Privacy Sentinel findings before taking action.\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { create } from 'zustand';\r\nimport { ipc } from '../lib/ipc-typed';\r\nimport type { IdentityCredential, IdentityRevealPayload, IdentityVaultSummary } from '../types/identity';\r\n\r\ninterface IdentityState {\r\n  status: IdentityVaultSummary | null;\r\n  credentials: IdentityCredential[];\r\n  loading: boolean;\r\n  error: string | null;\r\n  revealingId: string | null;\r\n  unlock: (passphrase: string) => Promise<void>;\r\n  lock: () => Promise<void>;\r\n  refresh: () => Promise<void>;\r\n  addCredential: (payload: { domain: string; username: string; secret: string; secretHint?: string | null; tags?: string[] }) => Promise<void>;\r\n  removeCredential: (id: string) => Promise<void>;\r\n  revealCredential: (id: string) => Promise<IdentityRevealPayload | null>;\r\n  setError: (message: string | null) => void;\r\n}\r\n\r\nexport const useIdentityStore = create<IdentityState>((set, get) => ({\r\n  status: null,\r\n  credentials: [],\r\n  loading: false,\r\n  error: null,\r\n  revealingId: null,\r\n  async unlock(passphrase) {\r\n    set({ loading: true, error: null });\r\n    try {\r\n      const summary = await ipc.identity.unlock(passphrase.trim());\r\n      set({ status: summary });\r\n      await get().refresh();\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : String(error),\r\n      });\r\n      throw error;\r\n    } finally {\r\n      set({ loading: false });\r\n    }\r\n  },\r\n  async lock() {\r\n    set({ loading: true, error: null });\r\n    try {\r\n      const summary = await ipc.identity.lock();\r\n      set({ status: summary, credentials: [] });\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : String(error),\r\n      });\r\n      throw error;\r\n    } finally {\r\n      set({ loading: false });\r\n    }\r\n  },\r\n  async refresh() {\r\n    try {\r\n      const status = await ipc.identity.status();\r\n      set({ status });\r\n      if (status.status === 'unlocked') {\r\n        const list = await ipc.identity.list();\r\n        set({ credentials: list });\r\n      } else {\r\n        set({ credentials: [] });\r\n      }\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : String(error),\r\n      });\r\n    }\r\n  },\r\n  async addCredential(payload) {\r\n    set({ loading: true, error: null });\r\n    try {\r\n      await ipc.identity.add(payload);\r\n      await get().refresh();\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : String(error),\r\n      });\r\n      throw error;\r\n    } finally {\r\n      set({ loading: false });\r\n    }\r\n  },\r\n  async removeCredential(id) {\r\n    set({ loading: true, error: null });\r\n    try {\r\n      await ipc.identity.remove(id);\r\n      await get().refresh();\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : String(error),\r\n      });\r\n      throw error;\r\n    } finally {\r\n      set({ loading: false });\r\n    }\r\n  },\r\n  async revealCredential(id) {\r\n    if (get().revealingId) return null;\r\n    set({ revealingId: id, error: null });\r\n    try {\r\n      const result = await ipc.identity.reveal(id);\r\n      await get().refresh();\r\n      return result;\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : String(error),\r\n      });\r\n      return null;\r\n    } finally {\r\n      set({ revealingId: null });\r\n    }\r\n  },\r\n  setError(message) {\r\n    set({ error: message });\r\n  },\r\n}));\r\n\r\n","import { useEffect, useMemo, useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Eye, EyeOff, Lock, LockOpen, Plus, RefreshCw, ShieldCheck, Sparkles, Trash2, KeyRound, Copy, ShieldAlert } from 'lucide-react';\r\nimport { useIdentityStore } from '../../state/identityStore';\r\nimport type { IdentityCredential } from '../../types/identity';\r\n\r\nfunction normalizeDomain(input: string): string {\r\n  if (!input) return '';\r\n  try {\r\n    const url = input.includes('://') ? new URL(input) : new URL(`https://${input}`);\r\n    return url.hostname.replace(/^www\\./, '');\r\n  } catch {\r\n    return input.trim();\r\n  }\r\n}\r\n\r\nexport function IdentityVaultPanel() {\r\n  const { status, credentials, loading, error, unlock, lock, refresh, addCredential, removeCredential, revealCredential, setError, revealingId } =\r\n    useIdentityStore();\r\n  const [passphrase, setPassphrase] = useState('');\r\n  const [showPassphrase, setShowPassphrase] = useState(false);\r\n  const [showSecretId, setShowSecretId] = useState<string | null>(null);\r\n  const [secretCache, setSecretCache] = useState<Record<string, string>>({});\r\n  const [addMode, setAddMode] = useState(false);\r\n  const [formDomain, setFormDomain] = useState('');\r\n  const [formUsername, setFormUsername] = useState('');\r\n  const [formSecret, setFormSecret] = useState('');\r\n  const [formHint, setFormHint] = useState('');\r\n  const [formTags, setFormTags] = useState('');\r\n  const [copyStatus, setCopyStatus] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    void refresh();\r\n  }, [refresh]);\r\n\r\n  const vaultStatus = status?.status ?? 'uninitialized';\r\n  const canSubmitCredential = formDomain.trim() && formUsername.trim() && formSecret.trim();\r\n  const totalCredentials = status?.totalCredentials ?? credentials.length;\r\n\r\n  const handleUnlock = async () => {\r\n    if (!passphrase.trim()) {\r\n      setError('Passphrase required to unlock the vault.');\r\n      return;\r\n    }\r\n    try {\r\n      await unlock(passphrase.trim());\r\n      setPassphrase('');\r\n      setError(null);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to unlock vault');\r\n    }\r\n  };\r\n\r\n  const handleAddCredential = async () => {\r\n    if (!canSubmitCredential) return;\r\n    try {\r\n      await addCredential({\r\n        domain: normalizeDomain(formDomain),\r\n        username: formUsername.trim(),\r\n        secret: formSecret,\r\n        secretHint: formHint.trim() || undefined,\r\n        tags: formTags\r\n          .split(',')\r\n          .map((tag) => tag.trim())\r\n          .filter(Boolean),\r\n      });\r\n      setAddMode(false);\r\n      setFormDomain('');\r\n      setFormUsername('');\r\n      setFormSecret('');\r\n      setFormHint('');\r\n      setFormTags('');\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to store credential');\r\n    }\r\n  };\r\n\r\n  const handleReveal = async (credential: IdentityCredential) => {\r\n    if (showSecretId === credential.id && secretCache[credential.id]) {\r\n      setShowSecretId(null);\r\n      return;\r\n    }\r\n    try {\r\n      const revealed = await revealCredential(credential.id);\r\n      if (revealed) {\r\n        setSecretCache((prev) => ({ ...prev, [credential.id]: revealed.secret }));\r\n        setShowSecretId(credential.id);\r\n      }\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to reveal secret');\r\n    }\r\n  };\r\n\r\n  const handleCopy = async (credentialId: string) => {\r\n    const secret = secretCache[credentialId];\r\n    if (!secret) return;\r\n    try {\r\n      await navigator.clipboard.writeText(secret);\r\n      setCopyStatus('Secret copied to clipboard');\r\n      setTimeout(() => setCopyStatus(null), 3000);\r\n    } catch {\r\n      setCopyStatus('Failed to copy secret. Check clipboard permissions.');\r\n      setTimeout(() => setCopyStatus(null), 4000);\r\n    }\r\n  };\r\n\r\n  const statistics = useMemo(() => {\r\n    const recent = credentials.filter((cred) => {\r\n      if (!cred.lastUsedAt) return false;\r\n      return Date.now() - cred.lastUsedAt < 7 * 24 * 60 * 60 * 1000;\r\n    }).length;\r\n    const tagged = credentials.filter((cred) => cred.tags && cred.tags.length > 0).length;\r\n    return {\r\n      recent,\r\n      tagged,\r\n    };\r\n  }, [credentials]);\r\n\r\n  return (\r\n    <div className=\"space-y-4 text-sm text-slate-200\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <div className=\"flex items-center gap-2 text-xs uppercase tracking-wide text-slate-400\">\r\n            <KeyRound size={14} className=\"text-emerald-300\" />\r\n            Redix Identity Vault\r\n          </div>\r\n          <div className=\"mt-1 text-base font-semibold text-gray-100\">Zero-knowledge credential guardian</div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => void refresh()}\r\n            disabled={loading}\r\n            className=\"inline-flex items-center gap-2 rounded-xl border border-slate-700/60 bg-slate-900/70 px-3 py-2 text-[11px] font-semibold text-slate-200 transition-colors hover:bg-slate-900/90 disabled:cursor-not-allowed disabled:opacity-60\"\r\n          >\r\n            <RefreshCw size={13} className={loading ? 'animate-spin' : ''} />\r\n            Sync vault\r\n          </button>\r\n          {vaultStatus === 'unlocked' ? (\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => void lock()}\r\n              className=\"inline-flex items-center gap-2 rounded-xl border border-rose-500/40 bg-rose-500/10 px-3 py-2 text-[11px] font-semibold text-rose-200 transition-colors hover:bg-rose-500/20\"\r\n            >\r\n              <Lock size={13} />\r\n              Lock\r\n            </button>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"rounded-xl border border-rose-500/40 bg-rose-500/10 px-3 py-2 text-xs text-rose-100 flex items-center gap-2\">\r\n          <ShieldAlert size={14} />\r\n          <span>{error}</span>\r\n        </div>\r\n      )}\r\n\r\n      {copyStatus && (\r\n        <div className=\"rounded-xl border border-emerald-500/40 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100 flex items-center gap-2\">\r\n          <Sparkles size={14} />\r\n          <span>{copyStatus}</span>\r\n        </div>\r\n      )}\r\n\r\n      {vaultStatus !== 'unlocked' && (\r\n        <div className=\"rounded-3xl border border-slate-800/60 bg-slate-900/70 p-5 space-y-3\">\r\n          <div className=\"flex items-center gap-2 text-xs text-slate-400 uppercase tracking-wide\">\r\n            {vaultStatus === 'locked' ? <Lock size={14} /> : <LockOpen size={14} />}\r\n            {vaultStatus === 'uninitialized' ? 'Create master passphrase' : 'Unlock vault'}\r\n          </div>\r\n          <p className=\"text-[13px] text-slate-400 leading-relaxed\">\r\n            {vaultStatus === 'uninitialized'\r\n              ? 'Set a strong passphrase (stored nowhere) to encrypt credentials with AES-256 and PBKDF2 derived keys.'\r\n              : 'Enter your passphrase to decrypt the local vault. Secrets remain encrypted at rest with zero telemetry.'}\r\n          </p>\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-[11px] uppercase tracking-wide text-slate-500\">\r\n              Passphrase\r\n              <div className=\"mt-1 flex items-center gap-2\">\r\n                <input\r\n                  type={showPassphrase ? 'text' : 'password'}\r\n                  value={passphrase}\r\n                  className=\"flex-1 rounded-lg border border-slate-800/70 bg-slate-900/80 px-3 py-2 text-sm text-slate-100 focus:border-emerald-500/50 focus:outline-none\"\r\n                  onChange={(event) => setPassphrase(event.target.value)}\r\n                  autoComplete=\"current-password\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassphrase((prev) => !prev)}\r\n                  className=\"rounded-lg border border-slate-700/60 bg-slate-900/70 p-2 text-slate-300 hover:bg-slate-900/90\"\r\n                >\r\n                  {showPassphrase ? <EyeOff size={14} /> : <Eye size={14} />}\r\n                </button>\r\n              </div>\r\n            </label>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => void handleUnlock()}\r\n            disabled={loading || passphrase.length < 8}\r\n            className=\"inline-flex items-center gap-2 rounded-xl border border-emerald-500/40 bg-emerald-500/10 px-3 py-2 text-xs font-semibold text-emerald-200 transition-colors hover:bg-emerald-500/20 disabled:cursor-not-allowed disabled:opacity-60\"\r\n          >\r\n            <ShieldCheck size={14} />\r\n            {vaultStatus === 'uninitialized' ? 'Create & unlock' : 'Unlock vault'}\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {vaultStatus === 'unlocked' && (\r\n        <div className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-1 gap-3 md:grid-cols-3\">\r\n            <div className=\"rounded-2xl border border-slate-800/60 bg-slate-900/70 p-4\">\r\n              <div className=\"text-xs uppercase tracking-wide text-slate-500\">Total logins</div>\r\n              <div className=\"mt-2 flex items-baseline gap-2\">\r\n                <span className=\"text-2xl font-semibold text-gray-100\">{totalCredentials}</span>\r\n                <span className=\"text-[11px] text-slate-500\">entries protected</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"rounded-2xl border border-slate-800/60 bg-slate-900/70 p-4\">\r\n              <div className=\"text-xs uppercase tracking-wide text-slate-500\">Tagged identities</div>\r\n              <div className=\"mt-2 flex items-baseline gap-2\">\r\n                <span className=\"text-2xl font-semibold text-gray-100\">{statistics.tagged}</span>\r\n                <span className=\"text-[11px] text-slate-500\">with risk labels</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"rounded-2xl border border-slate-800/60 bg-slate-900/70 p-4\">\r\n              <div className=\"text-xs uppercase tracking-wide text-slate-500\">Recent usage</div>\r\n              <div className=\"mt-2 flex items-baseline gap-2\">\r\n                <span className=\"text-2xl font-semibold text-gray-100\">{statistics.recent}</span>\r\n                <span className=\"text-[11px] text-slate-500\">accessed last 7 days</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"text-xs text-slate-400 uppercase tracking-wide\">Stored credentials</div>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setAddMode((prev) => !prev)}\r\n              className=\"inline-flex items-center gap-2 rounded-xl border border-slate-700/60 bg-slate-900/70 px-3 py-2 text-xs font-semibold text-slate-200 transition-colors hover:bg-slate-900/90\"\r\n            >\r\n              <Plus size={13} />\r\n              {addMode ? 'Cancel' : 'Add credential'}\r\n            </button>\r\n          </div>\r\n\r\n          <AnimatePresence>\r\n            {addMode && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -6 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -6 }}\r\n                className=\"rounded-3xl border border-emerald-500/30 bg-emerald-500/5 p-5 space-y-3\"\r\n              >\r\n                <div className=\"grid grid-cols-1 gap-3 md:grid-cols-2\">\r\n                  <label className=\"text-[11px] uppercase tracking-wide text-slate-500\">\r\n                    Domain\r\n                    <input\r\n                      value={formDomain}\r\n                      onChange={(event) => setFormDomain(event.target.value)}\r\n                      placeholder=\"e.g. accounts.example.com\"\r\n                      className=\"mt-1 w-full rounded-lg border border-slate-800/70 bg-slate-900/80 px-3 py-2 text-sm text-slate-100 focus:border-emerald-500/50 focus:outline-none\"\r\n                    />\r\n                  </label>\r\n                  <label className=\"text-[11px] uppercase tracking-wide text-slate-500\">\r\n                    Username / ID\r\n                    <input\r\n                      value={formUsername}\r\n                      onChange={(event) => setFormUsername(event.target.value)}\r\n                      placeholder=\"your email or handle\"\r\n                      className=\"mt-1 w-full rounded-lg border border-slate-800/70 bg-slate-900/80 px-3 py-2 text-sm text-slate-100 focus:border-emerald-500/50 focus:outline-none\"\r\n                    />\r\n                  </label>\r\n                </div>\r\n                <label className=\"text-[11px] uppercase tracking-wide text-slate-500 block\">\r\n                  Secret / Password\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formSecret}\r\n                    onChange={(event) => setFormSecret(event.target.value)}\r\n                    placeholder=\"••••••••••••\"\r\n                    className=\"mt-1 w-full rounded-lg border border-slate-800/70 bg-slate-900/80 px-3 py-2 text-sm text-slate-100 focus:border-emerald-500/50 focus:outline-none\"\r\n                  />\r\n                </label>\r\n                <div className=\"grid grid-cols-1 gap-3 md:grid-cols-2\">\r\n                  <label className=\"text-[11px] uppercase tracking-wide text-slate-500\">\r\n                    Secret hint (optional)\r\n                    <input\r\n                      value={formHint}\r\n                      onChange={(event) => setFormHint(event.target.value)}\r\n                      placeholder=\"Only you know this clue\"\r\n                      className=\"mt-1 w-full rounded-lg border border-slate-800/70 bg-slate-900/80 px-3 py-2 text-sm text-slate-100 focus:border-emerald-500/50 focus:outline-none\"\r\n                    />\r\n                  </label>\r\n                  <label className=\"text-[11px] uppercase tracking-wide text-slate-500\">\r\n                    Tags (comma-separated)\r\n                    <input\r\n                      value={formTags}\r\n                      onChange={(event) => setFormTags(event.target.value)}\r\n                      placeholder=\"finance, production, high-risk\"\r\n                      className=\"mt-1 w-full rounded-lg border border-slate-800/70 bg-slate-900/80 px-3 py-2 text-sm text-slate-100 focus:border-emerald-500/50 focus:outline-none\"\r\n                    />\r\n                  </label>\r\n                </div>\r\n                <div className=\"flex justify-end\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => void handleAddCredential()}\r\n                    disabled={!canSubmitCredential || loading}\r\n                    className=\"inline-flex items-center gap-2 rounded-xl border border-emerald-500/40 bg-emerald-500/10 px-3 py-2 text-xs font-semibold text-emerald-200 transition-colors hover:bg-emerald-500/20 disabled:cursor-not-allowed disabled:opacity-60\"\r\n                  >\r\n                    <Sparkles size={13} />\r\n                    Save credential\r\n                  </button>\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          <div className=\"space-y-3\">\r\n            {credentials.length === 0 ? (\r\n              <div className=\"rounded-3xl border border-slate-800/60 bg-slate-900/70 px-4 py-6 text-center text-sm text-slate-400\">\r\n                No stored credentials yet. Add your first login to activate Redix Identity AI protections.\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-2\">\r\n                {credentials\r\n                  .slice()\r\n                  .sort((a, b) => (b.updatedAt ?? 0) - (a.updatedAt ?? 0))\r\n                  .map((credential) => {\r\n                    const isRevealed = showSecretId === credential.id && secretCache[credential.id];\r\n                    const secret = secretCache[credential.id];\r\n                    return (\r\n                      <div key={credential.id} className=\"rounded-3xl border border-slate-800/60 bg-slate-900/70 p-4\">\r\n                        <div className=\"flex flex-col gap-3 md:flex-row md:items-center md:justify-between\">\r\n                          <div className=\"space-y-1\">\r\n                            <div className=\"flex items-center gap-2 text-sm font-semibold text-gray-100\">\r\n                              <span>{credential.domain}</span>\r\n                              {credential.tags && credential.tags.length > 0 && (\r\n                                <span className=\"text-[10px] uppercase tracking-wide text-emerald-300\">\r\n                                  {credential.tags.slice(0, 2).join(', ')}\r\n                                  {credential.tags.length > 2 ? '…' : ''}\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                            <div className=\"text-xs text-slate-400\">\r\n                              {credential.username} · updated{' '}\r\n                              {credential.updatedAt\r\n                                ? new Date(credential.updatedAt).toLocaleString()\r\n                                : 'unknown'}\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex items-center gap-2 text-xs\">\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => void handleReveal(credential)}\r\n                              disabled={revealingId === credential.id}\r\n                              className=\"inline-flex items-center gap-1 rounded-lg border border-slate-700/60 bg-slate-900/70 px-2.5 py-1 text-[11px] font-medium text-slate-200 hover:bg-slate-900/90 disabled:cursor-wait disabled:opacity-60\"\r\n                            >\r\n                              {isRevealed ? <EyeOff size={12} /> : <Eye size={12} />}\r\n                              {isRevealed ? 'Hide' : 'Reveal'}\r\n                            </button>\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => void handleCopy(credential.id)}\r\n                              disabled={!secret}\r\n                              className=\"inline-flex items-center gap-1 rounded-lg border border-slate-700/60 bg-slate-900/70 px-2.5 py-1 text-[11px] font-medium text-slate-200 hover:bg-slate-900/90 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                            >\r\n                              <Copy size={12} />\r\n                              Copy\r\n                            </button>\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => void removeCredential(credential.id)}\r\n                              className=\"inline-flex items-center gap-1 rounded-lg border border-rose-500/40 bg-rose-500/10 px-2.5 py-1 text-[11px] font-medium text-rose-200 hover:bg-rose-500/20\"\r\n                            >\r\n                              <Trash2 size={12} />\r\n                              Remove\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                        {credential.secretHint && (\r\n                          <div className=\"mt-2 text-[11px] text-slate-400\">Hint: {credential.secretHint}</div>\r\n                        )}\r\n                        {isRevealed && secret && (\r\n                          <div className=\"mt-3 rounded-lg border border-emerald-500/40 bg-emerald-500/10 px-3 py-2 text-[12px] text-emerald-100 font-semibold tracking-wide\">\r\n                            {secret}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n","/**\r\n * RightPanel - Enhanced Agent Console with live streams\r\n */\r\n\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { X, Brain, Zap, FileText, Shield, ListChecks, Activity, Sparkles, Share2, Leaf, ShieldCheck, KeyRound } from 'lucide-react';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { AgentPlan, AgentStep, ConsentRequest } from '../../lib/ipc-events';\r\nimport { useIPCEvent } from '../../lib/use-ipc-event';\r\nimport { AgentPlanner } from '../AgentPlanner';\r\nimport { useConsentOverlayStore } from '../../state/consentOverlayStore';\r\nimport { ExtensionNexusPanel } from '../plugins';\r\nimport { EcoImpactSimulator } from '../eco';\r\nimport { TrustWeaverPanel } from '../trust';\r\nimport type { ConsentRecord, ConsentActionType } from '../../types/consent';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { IdentityVaultPanel } from '../identity';\r\n\r\nconst ACTION_LABELS: Record<ConsentActionType, string> = {\r\n  download: 'Download file',\r\n  form_submit: 'Submit form',\r\n  login: 'Login',\r\n  scrape: 'Scrape content',\r\n  export_data: 'Export data',\r\n  access_clipboard: 'Clipboard access',\r\n  access_camera: 'Camera access',\r\n  access_microphone: 'Microphone access',\r\n  access_filesystem: 'Filesystem access',\r\n  ai_cloud: 'Cloud AI usage',\r\n};\r\n\r\nconst statusLabel = (record: ConsentRecord): { label: string; tone: string } => {\r\n  if (record.revokedAt) {\r\n    return { label: 'Revoked', tone: 'text-red-400 bg-red-500/10 border-red-500/40' };\r\n  }\r\n  if (record.approved) {\r\n    return { label: 'Approved', tone: 'text-emerald-300 bg-emerald-500/10 border-emerald-500/40' };\r\n  }\r\n  return { label: 'Pending', tone: 'text-amber-300 bg-amber-500/10 border-amber-500/40' };\r\n};\r\n\r\ninterface RightPanelProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nconst tabs = [\r\n  { id: 'planner', icon: Sparkles, label: 'Planner' },\r\n  { id: 'plan', icon: ListChecks, label: 'Plan' },\r\n  { id: 'actions', icon: Zap, label: 'Actions' },\r\n  { id: 'logs', icon: Activity, label: 'Logs' },\r\n  { id: 'memory', icon: FileText, label: 'Memory' },\r\n  { id: 'consent', icon: Shield, label: 'Consent' },\r\n  { id: 'trust', icon: ShieldCheck, label: 'Trust' },\r\n  { id: 'eco', icon: Leaf, label: 'Eco' },\r\n  { id: 'identity', icon: KeyRound, label: 'Identity' },\r\n  { id: 'nexus', icon: Share2, label: 'Nexus' },\r\n];\r\n\r\nexport function RightPanel({ open, onClose }: RightPanelProps) {\r\n  const [activeTab, setActiveTab] = useState('planner');\r\n  const [plan, setPlan] = useState<AgentPlan | null>(null);\r\n  const [steps, setSteps] = useState<AgentStep[]>([]);\r\n  const [logs, setLogs] = useState<string[]>([]);\r\n  const [consentRecords, setConsentRecords] = useState<ConsentRecord[]>([]);\r\n  const [dryRun, setDryRun] = useState(false);\r\n  const logsEndRef = useRef<HTMLDivElement>(null);\r\n  const consentRefresh = useConsentOverlayStore((state) => state.refresh);\r\n  const consentList = useConsentOverlayStore((state) => state.records);\r\n  const openConsentDashboard = useConsentOverlayStore((state) => state.open);\r\n\r\n  // Listen for agent plan\r\n  useIPCEvent<AgentPlan>('agent:plan', (data) => {\r\n    setPlan(data);\r\n  }, []);\r\n\r\n  // Listen for agent steps\r\n  useIPCEvent<AgentStep>('agent:step', (data) => {\r\n    setSteps(prev => [...prev, data]);\r\n  }, []);\r\n\r\n  // Listen for agent logs\r\n  useIPCEvent<AgentStep>('agent:log', (data) => {\r\n    setLogs(prev => [...prev, `${new Date(data.timestamp).toLocaleTimeString()}: ${data.content}`]);\r\n  }, []);\r\n\r\n  // Listen for consent requests\r\n  useIPCEvent<ConsentRequest>('agent:consent:request', () => {\r\n    void consentRefresh();\r\n  }, [consentRefresh]);\r\n\r\n  // Auto-scroll logs\r\n  useEffect(() => {\r\n    if (activeTab === 'logs' && logsEndRef.current) {\r\n      logsEndRef.current.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  }, [logs, activeTab]);\r\n\r\n  useEffect(() => {\r\n    setConsentRecords(consentList);\r\n  }, [consentList]);\r\n\r\n  useEffect(() => {\r\n    if (open && activeTab === 'consent') {\r\n      void consentRefresh();\r\n    }\r\n  }, [open, activeTab, consentRefresh]);\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {open && (\r\n        <motion.aside\r\n          initial={{ x: 400, opacity: 0 }}\r\n          animate={{ x: 0, opacity: 1 }}\r\n          exit={{ x: 400, opacity: 0 }}\r\n          transition={{ duration: 0.3, ease: 'easeInOut' }}\r\n          className=\"w-96 flex flex-col bg-gray-900/95 backdrop-blur-xl border-l border-gray-800/50 shadow-2xl\"\r\n        >\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between p-4 border-b border-gray-800/50\">\r\n            <h2 className=\"text-lg font-semibold text-gray-200 flex items-center gap-2\">\r\n              <Brain size={20} className=\"text-blue-400\" />\r\n              Agent Console\r\n            </h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"p-1.5 rounded-lg hover:bg-gray-800/60 text-gray-400 hover:text-gray-200 transition-colors\"\r\n            >\r\n              <X size={18} />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Tabs */}\r\n          <div className=\"flex border-b border-gray-800/50 overflow-x-auto\">\r\n            {tabs.map((tab) => {\r\n              const Icon = tab.icon;\r\n              return (\r\n                <button\r\n                  key={tab.id}\r\n                  onClick={() => setActiveTab(tab.id)}\r\n                  className={`\r\n                    flex-shrink-0 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium\r\n                    transition-colors relative min-w-[80px]\r\n                    ${activeTab === tab.id\r\n                      ? 'text-blue-400'\r\n                      : 'text-gray-500 hover:text-gray-300'\r\n                    }\r\n                  `}\r\n                >\r\n                  <Icon size={16} />\r\n                  <span className=\"hidden sm:inline\">{tab.label}</span>\r\n                  {activeTab === tab.id && (\r\n                    <motion.div\r\n                      className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500\"\r\n                      layoutId=\"activeTab\"\r\n                    />\r\n                  )}\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"flex-1 overflow-y-auto p-4\">\r\n            {activeTab === 'planner' && (\r\n              <AgentPlanner />\r\n            )}\r\n\r\n            {activeTab === 'plan' && (\r\n              <div className=\"space-y-4\">\r\n                {plan ? (\r\n                  <>\r\n                    <div className=\"bg-gray-800/40 rounded-lg p-4 border border-gray-700/30\">\r\n                      <div className=\"text-xs text-gray-400 mb-2\">Task: {plan.taskId}</div>\r\n                      <div className=\"space-y-2\">\r\n                        {plan.steps.map((step, idx) => (\r\n                          <div key={step.id} className=\"flex items-start gap-2 text-sm\">\r\n                            <div className=\"flex-shrink-0 w-6 h-6 rounded-full bg-blue-600/20 flex items-center justify-center text-xs text-blue-400 font-medium\">\r\n                              {idx + 1}\r\n                            </div>\r\n                            <div className=\"flex-1\">\r\n                              <div className=\"text-gray-200\">{step.description}</div>\r\n                              {step.tool && (\r\n                                <div className=\"text-xs text-gray-500 mt-0.5\">Tool: {step.tool}</div>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between text-xs\">\r\n                      <div className=\"flex items-center gap-4\">\r\n                        <span className=\"text-gray-400\">\r\n                          Tokens: <span className=\"text-gray-200\">{plan.remaining.tokens}</span>/{plan.budget.tokens}\r\n                        </span>\r\n                        <span className=\"text-gray-400\">\r\n                          Time: <span className=\"text-gray-200\">{plan.remaining.seconds}s</span>/{plan.budget.seconds}s\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <div className=\"text-xs text-gray-500 text-center py-8\">\r\n                    No active plan. Create a task to see the agent's reasoning.\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === 'actions' && (\r\n              <div className=\"space-y-2\">\r\n                <div className=\"text-sm text-gray-400 mb-3\">Tool Calls & Actions</div>\r\n                {steps.length > 0 ? (\r\n                  <div className=\"space-y-2\">\r\n                    {steps.map((step, idx) => (\r\n                      <motion.div\r\n                        key={idx}\r\n                        initial={{ opacity: 0, x: -10 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        className=\"bg-gray-800/40 rounded p-3 border border-gray-700/30\"\r\n                      >\r\n                        <div className=\"flex items-center justify-between mb-1\">\r\n                          <span className=\"text-xs font-medium text-gray-300\">{step.type}</span>\r\n                          <span className=\"text-xs text-gray-500\">{new Date(step.timestamp).toLocaleTimeString()}</span>\r\n                        </div>\r\n                        <div className=\"text-xs text-gray-400 mt-1 whitespace-pre-wrap\">{step.content}</div>\r\n                      </motion.div>\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-xs text-gray-500 text-center py-8\">No actions yet</div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === 'logs' && (\r\n              <div className=\"space-y-1 font-mono text-xs\">\r\n                <div className=\"text-sm text-gray-400 mb-2\">Live Log Stream</div>\r\n                <div className=\"bg-gray-950 rounded p-3 max-h-96 overflow-y-auto\">\r\n                  {logs.length > 0 ? (\r\n                    <>\r\n                      {logs.map((log, idx) => (\r\n                        <div key={idx} className=\"text-gray-400 py-0.5\">\r\n                          {log}\r\n                        </div>\r\n                      ))}\r\n                      <div ref={logsEndRef} />\r\n                    </>\r\n                  ) : (\r\n                    <div className=\"text-gray-600 text-center py-8\">No logs yet</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === 'memory' && (\r\n              <div className=\"space-y-2\">\r\n                <div className=\"text-sm text-gray-400 mb-3\">Session Notes & Data</div>\r\n                <div className=\"text-xs text-gray-500 text-center py-8\">No session data</div>\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === 'consent' && (\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex items-center justify-between text-sm text-gray-400\">\r\n                  <span>Consent Ledger</span>\r\n                  <button\r\n                    onClick={() => void openConsentDashboard()}\r\n                    className=\"rounded-lg border border-slate-700/60 bg-slate-900/70 px-2 py-1 text-[11px] text-gray-300 hover:bg-slate-900/90\"\r\n                  >\r\n                    Open dashboard\r\n                  </button>\r\n                </div>\r\n                {consentRecords.length > 0 ? (\r\n                  <div className=\"space-y-2\">\r\n                    {consentRecords.slice(0, 6).map((record) => {\r\n                      const status = statusLabel(record);\r\n                      return (\r\n                        <div key={record.id} className=\"rounded-xl border border-slate-700/60 bg-slate-900/60 p-3 space-y-2\">\r\n                          <div className=\"flex items-center justify-between text-xs text-gray-400\">\r\n                            <span className=\"text-gray-300 font-medium\">{ACTION_LABELS[record.action.type]}</span>\r\n                            <span className={`rounded-full border px-2 py-0.5 ${status.tone}`}>{status.label}</span>\r\n                          </div>\r\n                          <div className=\"text-[11px] text-gray-500\">{record.action.description}</div>\r\n                          <div className=\"flex items-center gap-2 text-[10px] text-gray-600\">\r\n                            <span>{formatDistanceToNow(new Date(record.timestamp), { addSuffix: true })}</span>\r\n                            {record.action.target && <span>• {record.action.target}</span>}\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-xs text-gray-500 text-center py-8\">No consent records yet</div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === 'trust' && <TrustWeaverPanel />}\r\n\r\n            {activeTab === 'eco' && <EcoImpactSimulator />}\r\n\r\n            {activeTab === 'identity' && <IdentityVaultPanel />}\r\n\r\n            {activeTab === 'nexus' && <ExtensionNexusPanel />}\r\n          </div>\r\n\r\n          {/* Footer: Controls */}\r\n          <div className=\"p-4 border-t border-gray-800/50 space-y-2\">\r\n            <div className=\"flex items-center gap-2 text-xs text-gray-500\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"dry-run\"\r\n                checked={dryRun}\r\n                onChange={(e) => setDryRun(e.target.checked)}\r\n                className=\"rounded\"\r\n              />\r\n              <label htmlFor=\"dry-run\" className=\"cursor-pointer\">Dry-Run Mode</label>\r\n            </div>\r\n            {plan && (\r\n              <div className=\"flex items-center gap-2 flex-wrap text-xs\">\r\n                <span className=\"px-2 py-1 bg-blue-500/20 text-blue-400 rounded\">\r\n                  {plan.remaining.tokens} tokens\r\n                </span>\r\n                <span className=\"px-2 py-1 bg-green-500/20 text-green-400 rounded\">\r\n                  {plan.remaining.seconds}s\r\n                </span>\r\n                <span className=\"px-2 py-1 bg-purple-500/20 text-purple-400 rounded\">\r\n                  {plan.remaining.requests} requests\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </motion.aside>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n"],"names":["BadgeCheck","createLucideIcon","BatteryCharging","BatteryFull","CircleArrowDown","CircleArrowUp","CloudLightning","Earth","KeyRound","Leaf","ListChecks","LockOpen","Tags","Timer","TrendingDown","Users","AgentPlanner","goal","setGoal","useState","plan","setPlan","executing","setExecuting","results","setResults","mode","setMode","generatePlan","generatedPlan","ipc","error","executePlan","result","jsxs","jsx","Sparkles","e","step","index","motion","r","CheckCircle2","XCircle","key","value","Fragment","Loader2","Play","useExtensionNexusStore","create","set","get","response","metadata","pluginId","trusted","plugins","plugin","DEFAULT_FORM","peerLabel","peer","confidenceTone","carbon","formatTags","tags","tag","timeAgo","timestamp","diff","minutes","hours","PluginCard","onToggleTrust","Download","Globe2","ExtensionNexusPanel","loading","peers","lastSyncedAt","fetch","publish","toggleTrust","showPublish","setShowPublish","form","setForm","busy","setBusy","useEffect","sortedPlugins","useMemo","a","b","handleSubmit","event","Share2","ArrowUpCircle","ArrowDownCircle","AnimatePresence","prev","useEcoImpactStore","options","horizonMinutes","horizons","formatMinutes","total","mins","Recommendation","item","impactTone","EcoImpactSimulator","forecast","setHorizon","refresh","batterySlope","carbonTrend","carbonSamples","carbonIntensities","sample","carbonMin","carbonMax","RefreshCw","projection","Cloud","TrendingUp","x","range","normalized","useTrustWeaverStore","records","domain","signal","summary","record","verdictTone","verdict","formatTimeAgo","delta","ScoreBadge","score","tone","TrustWeaverPanel","tabs","activeId","useTabsStore","activeTab","tab","activeDomain","submitting","activeSummary","fetchAll","inspect","submit","setScore","confidence","setConfidence","setTags","comment","setComment","parsedTags","ShieldCheck","ExternalLink","Send","Activity","useIdentityStore","passphrase","status","list","payload","id","message","normalizeDomain","input","IdentityVaultPanel","credentials","unlock","lock","addCredential","removeCredential","revealCredential","setError","revealingId","setPassphrase","showPassphrase","setShowPassphrase","showSecretId","setShowSecretId","secretCache","setSecretCache","addMode","setAddMode","formDomain","setFormDomain","formUsername","setFormUsername","formSecret","setFormSecret","formHint","setFormHint","formTags","setFormTags","copyStatus","setCopyStatus","vaultStatus","canSubmitCredential","totalCredentials","handleUnlock","err","handleAddCredential","handleReveal","credential","revealed","handleCopy","credentialId","secret","statistics","recent","cred","tagged","Lock","ShieldAlert","EyeOff","Eye","Plus","isRevealed","Copy","Trash2","ACTION_LABELS","statusLabel","Zap","FileText","Shield","RightPanel","open","onClose","setActiveTab","steps","setSteps","logs","setLogs","consentRecords","setConsentRecords","dryRun","setDryRun","logsEndRef","useRef","consentRefresh","useConsentOverlayStore","state","consentList","openConsentDashboard","useIPCEvent","data","Brain","X","Icon","idx","log","formatDistanceToNow"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}