{"version":3,"file":"ReaderOverlay-LRGHM2GE.js","sources":["../../node_modules/lucide-react/dist/esm/icons/quote.js","../../src/components/Overlays/ReaderOverlay.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Quote = createLucideIcon(\"Quote\", [\n  [\n    \"path\",\n    {\n      d: \"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\",\n      key: \"rib7q0\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z\",\n      key: \"1ymkrd\"\n    }\n  ]\n]);\n\nexport { Quote as default };\n//# sourceMappingURL=quote.js.map\n","import { useEffect, useMemo, useState } from 'react';\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport {\r\n  BookOpen,\r\n  Loader2,\r\n  Sparkles,\r\n  Download,\r\n  RefreshCcw,\r\n  X,\r\n  ExternalLink,\r\n  Quote,\r\n  AlertTriangle,\r\n} from 'lucide-react';\r\nimport { ipc } from '../../lib/ipc-typed';\r\nimport { useTabsStore } from '../../state/tabsStore';\r\n\r\ntype SummaryBullet = {\r\n  summary: string;\r\n  citation?: {\r\n    text: string;\r\n    url?: string;\r\n  };\r\n};\r\n\r\ninterface ReaderOverlayProps {\r\n  active: boolean;\r\n  onClose: () => void;\r\n  tabId?: string | null;\r\n  url?: string | null;\r\n}\r\n\r\ninterface ArticleState {\r\n  title: string;\r\n  html: string;\r\n  content: string;\r\n  url?: string;\r\n}\r\n\r\nexport function ReaderOverlay({ active, onClose, tabId, url }: ReaderOverlayProps) {\r\n  const [article, setArticle] = useState<ArticleState | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [summary, setSummary] = useState<SummaryBullet[]>([]);\r\n  const [summaryMode, setSummaryMode] = useState<'local' | 'cloud' | 'extractive' | null>(null);\r\n  const [summaryLoading, setSummaryLoading] = useState(false);\r\n  const [summaryError, setSummaryError] = useState<string | null>(null);\r\n  const [exporting, setExporting] = useState(false);\r\n  const [exportMessage, setExportMessage] = useState<string | null>(null);\r\n  const tabsStore = useTabsStore();\r\n  const activeTab = useMemo(\r\n    () => tabsStore.tabs.find((t) => t.id === tabId),\r\n    [tabsStore.tabs, tabId],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!active) {\r\n      setArticle(null);\r\n      setSummary([]);\r\n      setSummaryMode(null);\r\n      setSummaryError(null);\r\n      setExportMessage(null);\r\n      return;\r\n    }\r\n    if (!tabId) {\r\n      setError('No active tab to read.');\r\n      return;\r\n    }\r\n\r\n    const load = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      setSummary([]);\r\n      setSummaryMode(null);\r\n      setSummaryError(null);\r\n      try {\r\n        const result = await ipc.research.extractContent(tabId);\r\n        if (!result || (!result.content && !result.html)) {\r\n          setError('Unable to extract article content for this page.');\r\n          return;\r\n        }\r\n        setArticle({\r\n          title: result.title || activeTab?.title || activeTab?.url || 'Reader View',\r\n          html: result.html || `<p>${sanitizeText(result.content)}</p>`,\r\n          content: result.content || '',\r\n          url: activeTab?.url || url || undefined,\r\n        });\r\n      } catch (err) {\r\n        console.error('Failed to load reader content:', err);\r\n        setError('Failed to load reader view for this page.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    void load();\r\n  }, [active, tabId, activeTab, url]);\r\n\r\n  const handleSummarize = async () => {\r\n    if (!article?.content) return;\r\n    setSummaryLoading(true);\r\n    setSummaryError(null);\r\n    setExportMessage(null);\r\n    try {\r\n      const result = await ipc.reader.summarize({\r\n        url: article.url,\r\n        title: article.title,\r\n        content: article.content,\r\n        html: article.html,\r\n      });\r\n      setSummary(result.bullets);\r\n      setSummaryMode(result.mode);\r\n    } catch (err) {\r\n      console.error('Failed to summarize article:', err);\r\n      setSummaryError('Summarization failed. Try again or check AI settings.');\r\n    } finally {\r\n      setSummaryLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleExport = async () => {\r\n    if (!article?.html) return;\r\n    setExporting(true);\r\n    setExportMessage(null);\r\n    try {\r\n      const result = await ipc.reader.export({\r\n        url: article.url,\r\n        title: article.title,\r\n        html: article.html,\r\n      });\r\n      if (result?.success) {\r\n        setExportMessage(`Saved clean copy to ${result.path}`);\r\n      } else {\r\n        setExportMessage('Export failed. Please try again.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to export reader view:', err);\r\n      setExportMessage('Export failed. Please try again.');\r\n    } finally {\r\n      setExporting(false);\r\n    }\r\n  };\r\n\r\n  const handleOpenCitation = (link?: string) => {\r\n    if (!link) return;\r\n    ipc.tabs.create({ url: link, mode: 'normal' }).catch(console.error);\r\n    onClose();\r\n  };\r\n\r\n  if (!active) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {active && (\r\n        <>\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 0.6 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 z-[70] bg-gray-950\"\r\n            onClick={onClose}\r\n          />\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 32 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: 32 }}\r\n            transition={{ duration: 0.18 }}\r\n            className=\"fixed inset-8 z-[80] rounded-2xl border border-gray-800/70 bg-[#0B1120]/98 shadow-2xl backdrop-blur-xl overflow-hidden flex flex-col\"\r\n          >\r\n            <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-800/60 bg-gray-900/40\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-500/20 border border-blue-500/30\">\r\n                  <BookOpen size={20} className=\"text-blue-200\" />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-xl font-semibold text-gray-100\">\r\n                    {article?.title || activeTab?.title || 'Reader'}\r\n                  </h2>\r\n                  <div className=\"text-xs text-gray-500\">\r\n                    {article?.url ? getHostname(article.url) : activeTab?.url}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  onClick={handleExport}\r\n                  disabled={!article?.html || exporting}\r\n                  className=\"flex items-center gap-2 px-3 py-2 text-sm rounded-lg border border-gray-700/60 bg-gray-800/50 hover:bg-gray-800/70 text-gray-200 disabled:opacity-60 disabled:cursor-not-allowed transition-colors\"\r\n                >\r\n                  {exporting ? <Loader2 size={16} className=\"animate-spin\" /> : <Download size={16} />}\r\n                  Export clean view\r\n                </button>\r\n                <button\r\n                  onClick={() => void handleSummarize()}\r\n                  disabled={!article?.content || summaryLoading}\r\n                  className=\"flex items-center gap-2 px-3 py-2 text-sm rounded-lg bg-blue-600/70 hover:bg-blue-600 text-blue-50 border border-blue-500/40 disabled:opacity-60 disabled:cursor-not-allowed transition-colors\"\r\n                >\r\n                  {summaryLoading ? <Loader2 size={16} className=\"animate-spin\" /> : <Sparkles size={16} />}\r\n                  Cite-preserving summary\r\n                </button>\r\n                <button\r\n                  onClick={onClose}\r\n                  className=\"p-2 rounded-lg hover:bg-gray-800/60 text-gray-400 hover:text-gray-200 transition-colors\"\r\n                  title=\"Close reader\"\r\n                >\r\n                  <X size={18} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {exportMessage && (\r\n              <div className=\"px-6 py-3 bg-emerald-500/10 border-b border-emerald-500/20 text-sm text-emerald-200 flex items-center justify-between\">\r\n                <span>{exportMessage}</span>\r\n                <button\r\n                  onClick={() => setExportMessage(null)}\r\n                  className=\"text-emerald-300 hover:text-emerald-100\"\r\n                >\r\n                  Dismiss\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {error ? (\r\n              <div className=\"flex-1 flex items-center justify-center text-sm text-red-300 bg-red-500/10\">\r\n                {error}\r\n              </div>\r\n            ) : (\r\n              <div className=\"flex-1 grid grid-cols-1 lg:grid-cols-[2fr_1fr] overflow-hidden\">\r\n                <div className=\"relative overflow-y-auto\">\r\n                  {loading && (\r\n                    <div className=\"absolute inset-0 flex items-center justify-center bg-gray-950/60 backdrop-blur-sm z-10\">\r\n                      <Loader2 size={32} className=\"text-blue-400 animate-spin\" />\r\n                    </div>\r\n                  )}\r\n                  <div className=\"prose prose-invert max-w-none px-8 py-6\">\r\n                    {article ? (\r\n                      <div\r\n                        className=\"reader-article\"\r\n                        dangerouslySetInnerHTML={{ __html: article.html }}\r\n                      />\r\n                    ) : (\r\n                      <div className=\"text-center text-gray-500 text-sm py-12\">\r\n                        Preparing clean article view…\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <aside className=\"border-l border-gray-800/60 bg-gray-900/30 flex flex-col overflow-hidden\">\r\n                  <div className=\"flex items-center justify-between px-5 py-4 border-b border-gray-800/50\">\r\n                    <div>\r\n                      <div className=\"text-sm font-semibold text-gray-100 flex items-center gap-2\">\r\n                        <Sparkles size={16} className=\"text-blue-300\" />\r\n                        Summary with citations\r\n                      </div>\r\n                      <div className=\"text-xs text-gray-500\">\r\n                        {summaryMode === 'local' && 'Generated locally (GGUF)'}\r\n                        {summaryMode === 'cloud' && 'Generated via cloud model (with consent)'}\r\n                        {summaryMode === 'extractive' && 'Extractive summary from source paragraphs'}\r\n                        {!summaryMode && 'Click summarize to generate key bullet points'}\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => void handleSummarize()}\r\n                      disabled={!article?.content || summaryLoading}\r\n                      className=\"p-2 rounded-lg border border-gray-700/50 text-gray-300 hover:text-gray-100 hover:bg-gray-800/60 disabled:opacity-50\"\r\n                      title=\"Refresh summary\"\r\n                    >\r\n                      <RefreshCcw size={16} className={summaryLoading ? 'animate-spin' : ''} />\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"flex-1 overflow-y-auto px-5 py-4 space-y-4\">\r\n                    {summaryLoading && (\r\n                      <div className=\"flex items-center justify-center h-full text-sm text-gray-400 gap-2\">\r\n                        <Loader2 size={18} className=\"animate-spin\" />\r\n                        Generating summary…\r\n                      </div>\r\n                    )}\r\n                    {summaryError && (\r\n                      <div className=\"flex items-center gap-2 rounded-lg border border-yellow-500/40 bg-yellow-500/10 text-yellow-200 px-3 py-2 text-sm\">\r\n                        <AlertTriangle size={16} />\r\n                        {summaryError}\r\n                      </div>\r\n                    )}\r\n                    {!summaryLoading && !summaryError && summary.length === 0 && (\r\n                      <div className=\"text-sm text-gray-500\">\r\n                        The summary will include direct citations from the article to preserve attribution.\r\n                        Click{\" \"}\r\n                        <span className=\"text-blue-400\">“Cite-preserving summary”</span> to begin.\r\n                      </div>\r\n                    )}\r\n                    {summary.map((bullet, idx) => (\r\n                      <motion.div\r\n                        key={`${bullet.summary}-${idx}`}\r\n                        initial={{ opacity: 0, y: 6 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        className=\"rounded-xl border border-gray-700/50 bg-gray-900/50 p-4 shadow-sm\"\r\n                      >\r\n                        <div className=\"flex items-start gap-3 text-gray-100\">\r\n                          <div className=\"flex items-center justify-center h-6 w-6 rounded-full bg-blue-500/20 border border-blue-500/40 text-xs text-blue-200\">\r\n                            {idx + 1}\r\n                          </div>\r\n                          <p className=\"text-sm leading-relaxed\">{bullet.summary}</p>\r\n                        </div>\r\n                        {bullet.citation && (\r\n                          <button\r\n                            onClick={() => handleOpenCitation(bullet.citation?.url)}\r\n                            className=\"mt-3 flex w-full items-start gap-2 rounded-lg bg-gray-900/70 border border-gray-800/70 px-3 py-2 text-xs text-gray-400 hover:text-gray-200 hover:border-gray-700 transition-colors text-left\"\r\n                          >\r\n                            <Quote size={14} className=\"flex-shrink-0 text-gray-500\" />\r\n                            <span className=\"flex-1\">\r\n                              {bullet.citation.text.length > 220\r\n                                ? `${bullet.citation.text.slice(0, 220)}…`\r\n                                : bullet.citation.text}\r\n                            </span>\r\n                            {bullet.citation.url && <ExternalLink size={12} className=\"text-gray-500\" />}\r\n                          </button>\r\n                        )}\r\n                      </motion.div>\r\n                    ))}\r\n                  </div>\r\n                </aside>\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n        </>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\nfunction sanitizeText(text: string): string {\r\n  return text.replace(/[<>]/g, '').replace(/\\s+/g, ' ');\r\n}\r\n\r\nfunction getHostname(input: string): string {\r\n  try {\r\n    return new URL(input).hostname;\r\n  } catch {\r\n    return input;\r\n  }\r\n}\r\n\r\n"],"names":["Quote","createLucideIcon","ReaderOverlay","active","onClose","tabId","url","article","setArticle","useState","loading","setLoading","error","setError","summary","setSummary","summaryMode","setSummaryMode","summaryLoading","setSummaryLoading","summaryError","setSummaryError","exporting","setExporting","exportMessage","setExportMessage","tabsStore","useTabsStore","activeTab","useMemo","useEffect","result","ipc","sanitizeText","err","handleSummarize","handleExport","handleOpenCitation","link","jsx","AnimatePresence","jsxs","Fragment","motion","BookOpen","getHostname","Loader2","Download","Sparkles","X","RefreshCcw","AlertTriangle","bullet","idx","ExternalLink","text","input"],"mappings":"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","x_google_ignoreList":[0]}