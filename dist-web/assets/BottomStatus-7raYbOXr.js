import{c as Ie,i as w,r,j as t,u as Pt,a as Rt,n as xe}from"./index-dj7m1cGj.js";import{u as ye}from"./use-ipc-event-Mlq2GWsh.js";import{u as $t}from"./profileStore-yzAJ5kKU.js";import{L as Dt}from"./lock-Do5xV_Pm.js";import{E as Vt}from"./eye-K0nBXFUq.js";import{N as st}from"./network-BKgZ1MJV.js";import{c as ne,m as T}from"./proxy-C7NQ8sMs.js";import{M as rt}from"./moon-star-BoTlVUZg.js";import{b as fe,F as zt}from"./OmniDesk-XqA-NCuc.js";import{u as B,W as Te,E as Lt}from"./privacyStore-CknxRZFg.js";import{P as Bt}from"./Portal-Cws6ez_F.js";import{S as At}from"./sparkles-BXvEuSDZ.js";import{A as _}from"./index-D3V9pHtR.js";import{L as Ce}from"./loader-circle-B2cekLv2.js";import{M as Ot,c as Ut}from"./AppShell-DzVtN4M2.js";import{useTrustDashboardStore as Ee}from"./trustDashboardStore-CE7KmIta.js";import{S as Y}from"./shield-wz6Nan5a.js";import{X as ae}from"./x-kCWGjBIF.js";import{C as Ze}from"./cpu-DP5ZXhxc.js";import{A as he}from"./activity-CJFxjceS.js";import{B as Ft}from"./brain-BOF2plVW.js";import{S as _t}from"./send-BYYA8fOY.js";import{R as Ht}from"./refresh-cw-81QnrOuz.js";import{T as Wt}from"./triangle-alert-CX1V0b5r.js";import"./copy-r_Uv8dWa.js";import"./agentStreamStore-DATaLJlE.js";import"./cloud-RM87ovcD.js";import"./search-DY2JFyPs.js";import"./formatDistanceToNow-Ctx6mZEP.js";import"./clock-C2CbMN6U.js";import"./circle-check-J1xVWsPI.js";import"./external-link-uxSLXU_6.js";const qt=ne("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const Gt=ne("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const Qe=ne("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);const Kt=ne("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const Xt=ne("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),J=Ie((o,i)=>({activeSessionId:null,windowId:null,loading:!1,error:null,summary:null,async startShadowSession(n){if(!i().loading){o({loading:!0,error:null,summary:null});try{const l=await w.private.createShadowSession(n??{});if(!l||typeof l!="object")throw new Error("Shadow session failed to start");const u=l;o({activeSessionId:u.sessionId??null,windowId:typeof u.windowId=="number"?u.windowId:null,loading:!1,summary:null})}catch(l){throw o({loading:!1,error:l instanceof Error?l.message:String(l)}),l}}},async endShadowSession(n){const l=i().activeSessionId;if(l){o({loading:!0,error:null});try{const m=await w.private.endShadowSession(l,n);o({activeSessionId:null,windowId:null,loading:!1,summary:m?.summary??null})}catch(u){throw o({loading:!1,error:u instanceof Error?u.message:String(u)}),u}}},handleSessionEnded(n){o(l=>{const u=l.activeSessionId===n.sessionId;return{activeSessionId:u?null:l.activeSessionId,windowId:u?null:l.windowId,loading:!1,summary:n.summary??null}})},clearSummary(){o({summary:null})},setError(n){o({error:n})}}));function Yt(){const[o,i]=r.useState("Normal"),n=$t(c=>c.policies[c.activeProfileId]),{activeSessionId:l,startShadowSession:u,endShadowSession:m,loading:b}=J(),M=n?!n.allowPrivateWindows:!1,v=n?!n.allowGhostTabs:!1,f=n?!n.allowPrivateWindows:!1,P=[{value:"Normal",icon:Dt,label:"Normal",color:"text-gray-400"},{value:"Private",icon:Vt,label:"Private",color:"text-blue-400",disabled:M},{value:"Ghost",icon:st,label:"Ghost",color:"text-purple-400",disabled:v}],E=async c=>{if(!(c===o||P.find(g=>g.value===c)?.disabled)){if(c==="Private")try{window.ipc?.invoke&&await window.ipc.invoke("ob://ipc/v1/private:createWindow",{url:"about:blank"})}catch(g){console.error("Failed to create private window:",g);return}else if(c==="Ghost")try{window.ipc?.invoke&&await window.ipc.invoke("ob://ipc/v1/private:createGhostTab",{url:"about:blank"})}catch(g){console.error("Failed to create ghost tab:",g);return}i(c)}};return t.jsxs("div",{className:"flex items-center gap-1 bg-gray-800/50 rounded-lg p-1 border border-gray-700/50",role:"group","aria-label":"Privacy mode selector",children:[P.map(c=>{const j=c.icon,g=o===c.value;return t.jsxs(T.button,{type:"button",onClick:()=>E(c.value),onKeyDown:k=>{(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),E(c.value))},whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all flex items-center gap-1.5 focus:outline-none focus:ring-2 focus:ring-blue-400/50 ${g?`${c.color.replace("text-","bg-")} bg-opacity-20 text-white`:c.disabled?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-gray-300"}`,disabled:c.disabled,"aria-label":`Switch to ${c.label} privacy mode`,"aria-pressed":g,"aria-disabled":c.disabled,title:c.disabled?`${c.label} disabled by profile policy`:`Switch to ${c.label}`,children:[t.jsx(j,{size:14,"aria-hidden":"true"}),t.jsx("span",{children:c.label})]},c.value)}),t.jsxs(T.button,{type:"button",whileHover:{scale:b||f?1:1.05},whileTap:{scale:b||f?1:.95},disabled:f||b,onClick:async()=>{if(!(f||b))try{l?await m():await u({summary:!0})}catch(c){console.error("Shadow session error:",c)}},onKeyDown:c=>{(c.key==="Enter"||c.key===" ")&&!f&&!b&&(c.preventDefault(),l?m():u({summary:!0}))},className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all flex items-center gap-1.5 focus:outline-none focus:ring-2 focus:ring-purple-400/50 ${l?"bg-purple-500/20 text-purple-200 border border-purple-400/30":f?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-gray-300"}`,"aria-label":l?"End Shadow Mode session":"Start Shadow Mode","aria-pressed":!!l,"aria-disabled":f||b,title:f?"Shadow Mode disabled by profile policy":l?"End Shadow Mode session":"Start Shadow Mode (simulated private browsing)",children:[t.jsx(rt,{size:14,"aria-hidden":"true"}),t.jsx("span",{children:l?"Shadow On":"Shadow"})]},"Shadow")]})}const Jt=Ie(o=>({open:!1,listening:!1,transcript:"",mood:"calm",messages:[],loadingReply:!1,error:null,setOpen(i){o({open:i})},setListening(i){o({listening:i})},setTranscript(i){o({transcript:i})},setMood(i){o({mood:i})},pushMessage(i){o(n=>({messages:[...n.messages,i]}))},async sendToCompanion(i,n){if(!i.trim())return;const l=Date.now(),u={role:"user",text:i,timestamp:l,mood:n};o(m=>({messages:[...m.messages,u],loadingReply:!0,error:null}));try{const m=`You are Symbiotic, OmniBrowser's empathic voice companion. The user mood is ${n}. Respond concisely (<=3 sentences) in a friendly tone, with optional short actionable tip.`,M={role:"companion",text:(await w.agent.ask(m,{text:i}))?.answer??"I hear you. Let me know how else I can help.",timestamp:Date.now(),mood:n};o(v=>({messages:[...v.messages,M],loadingReply:!1}))}catch(m){o({error:m instanceof Error?m.message:String(m),loadingReply:!1})}},clearConversation(){o({messages:[],transcript:"",mood:"calm",error:null})},setError(i){o({error:i})}})),Zt=["great","awesome","excited","happy","love","fantastic","wonderful"],Qt=["frustrated","angry","annoyed","stuck","hate","upset"],es=["plan","launch","deadline","urgent","quick","fast"];function ts(o){const i=o.toLowerCase();return Qt.some(n=>i.includes(n))?"concerned":es.some(n=>i.includes(n))?"motivated":Zt.some(n=>i.includes(n))?"positive":"calm"}function ss(o){switch(o){case"positive":return t.jsx(Xt,{size:16,className:"text-emerald-300"});case"concerned":return t.jsx(qt,{size:16,className:"text-amber-300"});case"motivated":return t.jsx(Kt,{size:16,className:"text-cyan-300"});default:return t.jsx(Gt,{size:16,className:"text-slate-300"})}}function rs(){const{open:o,listening:i,transcript:n,mood:l,messages:u,loadingReply:m,error:b,setOpen:M,setListening:v,setTranscript:f,setMood:P,sendToCompanion:E,clearConversation:c,setError:j}=Jt(),g=r.useRef(null),[k,oe]=r.useState(!1);r.useEffect(()=>{const y=window.SpeechRecognition||window.webkitSpeechRecognition;if(y){const S=new y;S.continuous=!1,S.interimResults=!0,S.lang="en-US",S.onresult=C=>{const Q=Array.from(C.results).map(R=>R[0].transcript).join(" ");if(f(Q),C.results[0].isFinal){const R=Q.trim(),q=ts(R);P(q),f(""),v(!1),E(R,q)}},S.onerror=C=>{v(!1),j(C?.error??"Voice recognition error")},S.onend=()=>{v(!1)},g.current=S,oe(!0)}else oe(!1)},[v,f,P,E,j]);const H=()=>{if(!k||!g.current){j("Speech recognition not available in this environment.");return}try{j(null),f(""),v(!0),g.current.start()}catch(y){j(y instanceof Error?y.message:String(y)),v(!1)}},W=()=>{if(g.current&&i)try{g.current.stop()}catch{}v(!1)},Z=r.useMemo(()=>{switch(l){case"positive":return"Upbeat";case"concerned":return"Checking in";case"motivated":return"In the zone";default:return"Calm"}},[l]);return t.jsxs(t.Fragment,{children:[t.jsxs("button",{type:"button",onClick:()=>M(!o),className:"flex items-center gap-1 rounded-full border border-purple-400/30 bg-purple-500/10 px-3 py-1.5 text-xs font-medium text-purple-100 transition-colors hover:bg-purple-500/20",title:"Open Symbiotic Voice Companion",children:[t.jsx(At,{size:14})," Voice Companion"]}),t.jsx(_,{children:o&&t.jsx(Bt,{children:t.jsx("div",{className:"fixed inset-0 z-[120] flex items-end justify-end bg-transparent pointer-events-none",children:t.jsxs(T.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.2},className:"pointer-events-auto m-6 w-[360px] max-w-[92vw] rounded-3xl border border-purple-400/30 bg-slate-950/96 p-4 shadow-[0_20px_80px_rgba(124,58,237,0.35)]",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs uppercase tracking-wide text-purple-200/80",children:"Symbiotic Companion"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-purple-100",children:[ss(l)," ",Z]}),t.jsx("div",{className:"text-[11px] text-purple-200/60",children:"Speak your mind and Symbiotic will respond empathetically."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:c,className:"rounded-lg border border-purple-400/30 bg-purple-500/10 px-2 py-1 text-[10px] text-purple-100 hover:bg-purple-500/20",children:"Clear"}),t.jsx("button",{type:"button",onClick:()=>{W(),M(!1)},className:"rounded-lg border border-purple-400/30 bg-purple-500/10 px-2 py-1 text-[10px] text-purple-100 hover:bg-purple-500/20",children:"Close"})]})]}),t.jsx("div",{className:"mt-4 h-48 overflow-y-auto rounded-2xl border border-purple-500/10 bg-slate-900/60 p-3",children:u.length===0&&!n?t.jsx("div",{className:"text-[11px] text-purple-200/70",children:"Tap the mic to start talking. I can help summarize, brainstorm, or keep you focused."}):t.jsxs("div",{className:"flex flex-col gap-3 text-[11px]",children:[u.map(y=>t.jsx("div",{className:`flex flex-col gap-1 ${y.role==="user"?"items-end text-right":"items-start text-left"}`,children:t.jsx("div",{className:`max-w-[85%] rounded-2xl px-3 py-2 shadow-sm ${y.role==="user"?"bg-purple-500/20 text-purple-100":"bg-slate-800/70 text-purple-50"}`,children:y.text})},`${y.role}-${y.timestamp}`)),n&&t.jsx("div",{className:"flex justify-end text-[11px] text-purple-200/70",children:n}),m&&t.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-purple-200/70",children:[t.jsx(Ce,{size:14,className:"animate-spin"}),"Formulating a response…"]})]})}),b&&t.jsx("div",{className:"mt-2 rounded-lg border border-rose-500/40 bg-rose-500/10 px-3 py-1 text-[11px] text-rose-100",children:b}),t.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[t.jsx("div",{className:"flex items-center gap-2 text-[11px] text-purple-200/70",children:k?"Ready for voice input.":"Voice capture not available."}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("button",{type:"button",onClick:i?W:H,disabled:!k,className:`flex items-center gap-2 rounded-full px-3 py-1.5 text-xs transition-colors ${i?"bg-red-500/30 text-red-100 border border-red-500/40":"bg-purple-500/20 text-purple-100 border border-purple-400/30 hover:bg-purple-500/30"} ${k?"":"opacity-60 cursor-not-allowed"}`,children:[i?t.jsx(Ot,{size:14}):t.jsx(Ut,{size:14}),i?"Stop listening":"Start listening"]})})]})]})})})})]})}const as=1440*60*1e3,ns=200,os=2e3,ge=Ie(o=>({latest:null,history:[],dailyTotalCarbon:0,pushSample:i=>o(n=>{const l=[...n.history,i].slice(-300),m=Math.max(i.carbonIntensity??ns,0)*(os/as),b=n.dailyTotalCarbon+m;return{latest:i,history:l,dailyTotalCarbon:b}}),clear:()=>o({latest:null,history:[],dailyTotalCarbon:0})})),et=new Intl.RelativeTimeFormat("en",{numeric:"auto"});function is(){const o=globalThis.crypto?.randomUUID?.();return o||`privacy-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`}function tt(o){const i=Date.now();let n=o-i;const l=[[1e3,"second"],[60,"minute"],[60,"hour"],[24,"day"],[7,"week"],[4.34524,"month"],[12,"year"]];for(const[u,m]of l){if(Math.abs(n)<u)return et.format(Math.round(n),m);n/=u}return et.format(Math.round(n),"year")}function Us(){const{activeId:o}=Pt(),[i,n]=r.useState(""),[l,u]=r.useState(!1),[m,b]=r.useState(!1),[M,v]=r.useState(!1),f=r.useRef(null),P=r.useRef(null),[E,c]=r.useState({enabled:!1,provider:"cloudflare"}),[j,g]=r.useState(0),[k,oe]=r.useState(0),[H]=r.useState(!0),[W,Z]=r.useState("Normal"),[y,S]=r.useState(null),C=fe(e=>e.label),Q=fe(e=>e.badge),R=fe(e=>e.snapshot),q=fe(e=>e.setEvent),be=J(e=>e.activeSessionId),at=J(e=>e.loading),$=J(e=>e.summary),Pe=J(e=>e.handleSessionEnded),nt=J(e=>e.clearSummary),Re=R.carbonIntensity??null,p=B(e=>e.tor),h=B(e=>e.vpn),ve=B(e=>e.refreshTor),we=B(e=>e.refreshVpn),ot=B(e=>e.startTor),it=B(e=>e.stopTor),lt=B(e=>e.newTorIdentity),ee=B(e=>e.checkVpn),je=ge(e=>e.pushSample),ie=ge(e=>e.latest),G=ge(e=>e.history),$e=ge(e=>e.dailyTotalCarbon),De=r.useRef([]),Ve=r.useRef([]),[le,ke]=r.useState(null),[ze,ct]=r.useState([]),Le=r.useRef([]),[Be,te]=r.useState(null),[z,ce]=r.useState(!1),[Ae,de]=r.useState(null),[Oe,Ue]=r.useState([]),[D,pe]=r.useState(null),[A,dt]=r.useState({trackersBlocked:0,adsBlocked:0}),ue=r.useMemo(()=>Rt(),[]),Fe=r.useMemo(()=>xe("API_BASE_URL")??xe("OMNIBROWSER_API_URL")??xe("OB_API_BASE_URL")??xe("VITE_REDIX_HTTP_URL")??"http://localhost:4000",[]),_e=r.useRef(null),pt=Ee(e=>e.open),Se=Ee(e=>e.refresh),O=Ee(e=>({pending:e.consentStats.pending,blocked:e.blockedSummary.trackers,loading:e.loading})),x=r.useCallback(e=>{const s={id:is(),timestamp:e.timestamp??Date.now(),kind:e.kind,status:e.status,message:e.message};Ue(a=>[...a.slice(-29),s]),pe(s)},[]),He=r.useRef(h),We=r.useRef(p);ye("net:status",e=>{if(e.doh&&c(e.doh),e.tor?.enabled&&e.tor.circuitEstablished?Z("Tor"):e.proxy?.enabled?Z("Ghost"):Z("Normal"),e.vpn)if(!e.vpn.connected)te(null);else{const s=Le.current,a=s.find(d=>d.name===e.vpn?.provider)||s.find(d=>d.server&&d.server===e.vpn?.server);a?te(a.id):e.vpn.provider&&te(e.vpn.provider)}},[]),ye("efficiency:mode",e=>{q(e)},[q]),ye("efficiency:alert",e=>{S(e)},[]),ye("private:shadow:ended",e=>{Pe(e)},[Pe]),r.useEffect(()=>{ve(),we();const e=window.setInterval(()=>{ve(),we()},2e4);return()=>window.clearInterval(e)},[ve,we]),r.useEffect(()=>{let e=!1;const s=async()=>{try{const d=await w.vpn.listProfiles();!e&&Array.isArray(d)&&(ct(d),Le.current=d)}catch(d){console.warn("[vpn] Failed to load profiles",d)}};s();const a=window.setInterval(s,6e4);return()=>{e=!0,window.clearInterval(a)}},[]),r.useEffect(()=>{const e=window.setTimeout(()=>{Se()},450),s=window.setInterval(()=>{Se()},6e4);return()=>{window.clearTimeout(e),window.clearInterval(s)}},[Se]),r.useEffect(()=>{if(ie){g(s=>Ge(s,ie.cpu)),oe(s=>Ge(s,ie.memory));const e=G.slice(-5);De.current=e.filter(s=>s.cpu>=85),Ve.current=e.filter(s=>s.memory>=85),De.current.length>=3?ke({title:"CPU running hot",message:"Consider enabling Performance Mode or closing heavy tabs.",severity:"warning"}):Ve.current.length>=3&&ke({title:"Memory pressure detected",message:"Try hibernating inactive tabs to free RAM.",severity:"warning"})}},[ie,G]),r.useEffect(()=>{const e=We.current;!e.running&&p.running&&x({kind:"tor",status:"info",message:"Tor daemon starting…"}),!e.bootstrapped&&p.bootstrapped&&x({kind:"tor",status:"success",message:"Tor circuit established"}),e.running&&!p.running&&x({kind:"tor",status:"info",message:"Tor stopped"}),!e.stub&&p.stub&&x({kind:"tor",status:"warning",message:"Tor binary not found – running in stub mode"}),p.error&&p.error!==e.error&&x({kind:"tor",status:"warning",message:`Tor warning: ${p.error}`}),We.current=p},[p,x]),r.useEffect(()=>{const e=He.current;if(!e.connected&&h.connected){const s=h.name||h.type||"VPN";x({kind:"vpn",status:"success",message:`VPN connected${`: ${s}`}`})}e.connected&&!h.connected&&x({kind:"vpn",status:"info",message:"VPN disconnected"}),He.current=h},[h,x]),r.useEffect(()=>{if(ue){let e=!1,s=null;const a=async()=>{if(!e)try{const d=await w.performance.getMetrics();if(e||!d)return;const U={timestamp:d.timestamp||Date.now(),cpu:d.cpu||0,memory:d.memory||0,carbonIntensity:void 0};je(U)}catch(d){e||console.warn("[metrics] Failed to poll metrics:",d)}};return a(),s=setInterval(a,1500),()=>{e=!0,s&&clearInterval(s)}}else{const e=new WebSocket(`${Fe.replace(/^http/,"ws")}/ws/metrics`);return _e.current=e,e.onmessage=s=>{try{const a=JSON.parse(s.data);if(a.type!=="metrics")return;const d={timestamp:typeof a.timestamp=="number"?a.timestamp:Date.now(),cpu:typeof a.cpu=="number"?a.cpu:0,memory:typeof a.memory=="number"?a.memory:0,carbonIntensity:typeof a.carbon_intensity=="number"?a.carbon_intensity:void 0};je(d)}catch(a){console.warn("[metrics] Failed to parse message",a)}},e.onopen=()=>{console.info("[metrics] Connected to metrics websocket")},e.onerror=s=>{console.warn("[metrics] Metrics websocket error",s)},e.onclose=()=>{console.info("[metrics] Metrics websocket closed")},()=>{e.close(),_e.current=null}}},[ue,Fe,je,q,R]),r.useEffect(()=>{if(!ue)return;let e=!1,s=null;const a=async()=>{if(!e)try{const d=await w.shields.getStatus();if(e||!d)return;dt({trackersBlocked:d.trackersBlocked||0,adsBlocked:d.adsBlocked||0})}catch(d){e||console.warn("[BottomStatus] Failed to poll shields stats:",d)}};return a(),s=setInterval(a,2e3),()=>{e=!0,s&&clearInterval(s)}},[ue]),r.useEffect(()=>{let e=!0;const s=async()=>{if(e){if(!window.ipc||typeof window.ipc.invoke!="function"){setTimeout(s,500);return}try{const a=await w.dns.status();e&&a&&typeof a=="object"&&c(a)}catch{e&&c({enabled:!1,provider:"cloudflare"})}}};return setTimeout(s,400),()=>{e=!1}},[]);const ut={Normal:"text-gray-400",Ghost:"text-blue-400",Tor:"text-purple-400"},mt=O.pending>0?"warning":O.blocked>0?"info":"default",xt=O.pending>0?`${O.pending} pending`:O.blocked>0?`${O.blocked} trackers blocked`:"Ledger clean",yt=p.stub?"Tor: Stub":p.running?p.circuitEstablished?"Tor: On":`Tor: ${Math.round(p.progress)}%`:"Tor: Off",ft=p.error?`Tor warning: ${p.error}`:p.stub?"Tor binary not found; using stub mode for UI only.":p.running?p.circuitEstablished?"Tor circuit established. Click to stop.":"Tor starting up. Click to stop.":"Route traffic through Tor. Click to enable.",ht=h.connected?`VPN connected${h.name?` (${h.name})`:""}. Click to re-check.`:"Check whether a system VPN is active.",qe={info:"bg-blue-500/10 border-blue-400/40 text-blue-100",warning:"bg-amber-500/10 border-amber-400/40 text-amber-100",critical:"bg-red-500/10 border-red-400/40 text-red-100"},me=e=>typeof e!="number"||!Number.isFinite(e)?0:Math.max(0,Math.min(100,Math.round(e))),Ge=(e,s,a=.35)=>Number.isFinite(e)?e+(s-e)*a:s,Ke=({label:e,points:s,color:a,labels:d})=>{const I=(s.length>0?s:[0]).map((re,X,F)=>{const Ne=X/Math.max(F.length-1,1)*200,Me=80-re/100*80;return`${X===0?"M":"L"}${Ne},${Me}`}).join(" "),L=d.length>=2?d[d.length-1]-d[0]:0,V=Math.max(Math.round(L/6e4),0),se=V>0?`${V}m window`:"Live";return t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between text-[11px] text-gray-300",children:[t.jsx("span",{children:e}),t.jsx("span",{className:"opacity-70",children:se})]}),t.jsx("svg",{viewBox:"0 0 200 80",className:"h-20 w-full rounded-md bg-gray-900/70 p-1",children:t.jsx("path",{d:I,fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round"})})]})},gt=r.useMemo(()=>G.map(e=>me(e.cpu)),[G]),K=r.useMemo(()=>G.slice(-180),[G]),bt=r.useMemo(()=>K.map(e=>me(e.cpu)),[K]),vt=r.useMemo(()=>K.map(e=>me(e.memory)),[K]),Xe=r.useMemo(()=>K.map(e=>e.timestamp),[K]),Ye=({icon:e,label:s,value:a,percent:d,gradient:U="from-blue-500 via-cyan-500 to-blue-500",title:I,onClick:L,sparklinePoints:V})=>{const se=L?"button":"div",re=me(d);return t.jsxs(se,{type:L?"button":void 0,onClick:L,title:I,className:`flex items-center gap-1.5 rounded-full border border-gray-700/60 bg-gray-800/60 px-2 py-1 text-xs text-gray-200 ${L?"cursor-pointer transition-colors hover:border-gray-500/70 focus:outline-none focus:ring-1 focus:ring-blue-400/40":""}`,children:[t.jsx(e,{size:12,className:"text-gray-400"}),t.jsx("span",{className:"font-semibold text-gray-100",children:s}),t.jsx("span",{className:"text-[11px] opacity-75",children:a}),t.jsx("div",{className:"h-1.5 w-14 overflow-hidden rounded-full bg-gray-700",children:t.jsx(T.div,{className:`h-full bg-gradient-to-r ${U}`,initial:{width:0},animate:{width:`${re}%`},transition:{duration:.5,ease:"easeOut"}})}),V&&V.length>4&&t.jsx("svg",{viewBox:"0 0 40 12",className:"ml-2 h-3 w-10 text-blue-400/70",children:t.jsx("polyline",{fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",points:V.slice(-12).map((X,F,Ne)=>{const Me=F/Math.max(Ne.length-1,1)*40,It=12-X/100*12;return`${Me},${It}`}).join(" ")})})]})},N=({icon:e,label:s,description:a,variant:d="default",title:U,onClick:I,pulse:L=!1,loading:V=!1,className:se})=>{const re={default:"border-gray-700/60 bg-gray-800/60 text-gray-200",positive:"border-emerald-500/30 bg-emerald-500/10 text-emerald-100",warning:"border-amber-500/30 bg-amber-500/10 text-amber-100",danger:"border-red-500/30 bg-red-500/10 text-red-100",info:"border-blue-500/30 bg-blue-500/10 text-blue-100"},X=I?"button":"div";return t.jsxs(X,{type:I?"button":void 0,onClick:I,onKeyDown:I?F=>{(F.key==="Enter"||F.key===" ")&&(F.preventDefault(),I())}:void 0,title:U,"aria-label":U||s,"aria-busy":V,className:`${re[d]} ${se??""} flex items-center gap-1.5 rounded-full px-2 py-1 text-xs ${I?"cursor-pointer transition-colors hover:border-gray-500/70 focus:outline-none focus:ring-1 focus:ring-blue-400/30":""}`,children:[t.jsx(e,{size:12,className:"opacity-80","aria-hidden":"true"}),t.jsx("span",{className:"font-medium",children:s}),a&&t.jsx("span",{className:"text-[11px] opacity-75",children:a}),V&&t.jsx("span",{className:"h-3 w-3 animate-spin rounded-full border border-current border-t-transparent","aria-label":"Loading",role:"status"}),L&&t.jsx(T.span,{className:"inline-flex h-1.5 w-1.5 rounded-full bg-current",animate:{opacity:[.4,1,.4],scale:[1,1.2,1]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"},"aria-hidden":"true"})]})};r.useEffect(()=>{if(!y)return;const e=setTimeout(()=>{S(null)},2e4);return()=>clearTimeout(e)},[y]),r.useEffect(()=>{if(!D)return;const e=window.setTimeout(()=>{pe(null)},8e3);return()=>window.clearTimeout(e)},[D]);const wt=async e=>{try{e.type==="mode"&&e.mode?await w.efficiency.applyMode(e.mode):e.type==="hibernate"&&await w.efficiency.hibernateInactiveTabs()}catch(s){console.error("Efficiency action failed:",s)}finally{S(null)}},Je=async()=>{if(!(!i.trim()||!o||l))try{u(!0),await w.agent.createTask({title:"User Prompt",role:"researcher",goal:i.trim(),budget:{tokens:4096,seconds:120,requests:20}}),n("")}catch(e){console.error("Failed to create agent task:",e)}finally{u(!1)}};r.useEffect(()=>{if(!m&&!M)return;const e={capture:!0},s=a=>{const d=a.target;m&&f.current&&f.current.contains(d)||M&&P.current&&P.current.contains(d)||(b(!1),v(!1))};return document.addEventListener("mousedown",s,e),()=>document.removeEventListener("mousedown",s,e)},[m,M]);const jt=async()=>{try{E.enabled?(await w.dns.disableDoH(),c({enabled:!1,provider:"cloudflare"})):(await w.dns.enableDoH("cloudflare"),c({enabled:!0,provider:"cloudflare"}))}catch(e){console.error("Failed to toggle DoH:",e)}},kt=r.useCallback(async e=>{if(!(!e||z)){de(null),ce(!0);try{const s=await w.vpn.connect(e);if(await ee().catch(()=>{}),s?.connected){te(e);const a=s.name||s.server||s.interface||"VPN";x({kind:"vpn",status:"success",message:a?`VPN connected: ${a}`:"VPN connected"})}else x({kind:"vpn",status:"info",message:"VPN connect command sent"})}catch(s){const a=s instanceof Error?s.message:String(s);de(a),x({kind:"vpn",status:"warning",message:`VPN error: ${a}`})}finally{ce(!1)}}},[ee,x,z]),St=r.useCallback(async()=>{if(!z){de(null),ce(!0);try{await w.vpn.disconnect(),await ee().catch(()=>{}),te(null),x({kind:"vpn",status:"info",message:"VPN disconnect requested"})}catch(e){const s=e instanceof Error?e.message:String(e);de(s),x({kind:"vpn",status:"warning",message:`VPN error: ${s}`})}finally{ce(!1)}}},[ee,x,z]),Nt=[Q||null,typeof R.batteryPct=="number"?`${Math.round(R.batteryPct)}%`:null,typeof Re=="number"?`${Math.round(Re)} gCO₂/kWh`:null,$e>0?`${$e.toFixed(2)} gCO₂ saved today`:null].filter(Boolean).join(" · "),Mt=C.includes("Regen")?"positive":C.includes("Battery")?"info":"default",Tt=yt.replace(/^Tor:?\s*/i,""),Et=p.stub?"warning":p.running?"info":"default",Ct=h.connected?h.type?h.type.toUpperCase():"Active":"Disconnected";return t.jsxs(t.Fragment,{children:[t.jsx(_,{children:D&&t.jsxs(T.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},transition:{duration:.2},className:`fixed bottom-20 right-6 z-50 flex items-center gap-2 rounded-lg border px-3 py-2 text-xs shadow-lg shadow-black/40 ${D.status==="success"?"border-emerald-500/40 bg-emerald-500/15 text-emerald-100":D.status==="warning"?"border-amber-500/40 bg-amber-500/15 text-amber-100":"border-sky-500/40 bg-sky-500/15 text-sky-100"}`,children:[D.kind==="tor"?t.jsx(Y,{size:16,"aria-hidden":"true"}):t.jsx(Te,{size:16,"aria-hidden":"true"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-medium",children:D.message}),t.jsx("span",{className:"text-[10px] opacity-80",children:tt(D.timestamp)})]}),t.jsx("button",{type:"button",onClick:()=>pe(null),className:"ml-2 rounded p-1 text-[10px] transition-colors hover:text-white","aria-label":"Dismiss privacy notification",children:t.jsx(ae,{size:12})})]},D.id)}),t.jsxs("div",{className:"flex flex-col gap-2 border-t border-slate-800/60 bg-slate-950/90 px-4 py-2 text-xs text-gray-300","data-onboarding":"status-bar",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2 md:gap-3 text-xs text-gray-300",children:[t.jsx(Yt,{}),t.jsx(Ye,{icon:Ze,label:"CPU",value:`${j}%`,percent:j,gradient:"from-blue-500 via-cyan-500 to-blue-500",title:"CPU usage",sparklinePoints:gt}),t.jsx(Ye,{icon:Qe,label:"RAM",value:`${k}%`,percent:k,title:"System memory usage",gradient:"from-green-500 via-emerald-500 to-green-500"}),t.jsx(N,{icon:he,label:C,description:Nt||void 0,variant:Mt,title:Q??C}),t.jsx(N,{icon:rt,label:"Shadow",description:be?"Active":"Idle",variant:be?"info":"default",pulse:at,title:be?"Shadow Mode active":"Shadow Mode inactive"}),t.jsx(N,{icon:st,label:"Mode",description:W,className:ut[W],title:`Privacy mode: ${W}`}),t.jsx(N,{icon:Y,label:"Trust",description:xt,variant:mt,onClick:()=>void pt(),title:"Open trust & ethics dashboard",loading:O.loading}),A.trackersBlocked>0&&t.jsx(N,{icon:Y,label:"Blocked",description:`${A.trackersBlocked} tracker${A.trackersBlocked===1?"":"s"}`,variant:"positive",title:`Privacy shields blocked ${A.trackersBlocked} tracker${A.trackersBlocked===1?"":"s"} and ${A.adsBlocked} ad${A.adsBlocked===1?"":"s"}`}),t.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[t.jsx(N,{icon:Ft,label:"Model",description:H?"Ready":"Loading",variant:H?"positive":"default",pulse:H,loading:!H,title:"Local model status"}),t.jsxs("button",{type:"button",className:"hidden sm:flex items-center gap-1 rounded-full border border-gray-700/50 bg-gray-800/60 px-3 py-1.5 text-xs text-gray-300 transition-colors hover:border-gray-600 hover:text-white",onClick:()=>v(e=>!e),title:"View detailed performance trends",children:[t.jsx(he,{size:14}),"Trends"]}),t.jsxs("div",{className:"relative w-48 sm:w-60 hidden sm:block",children:[t.jsx("input",{type:"text",value:i,onChange:e=>n(e.target.value),onKeyDown:e=>{e.key==="Enter"&&Je()},placeholder:"Prompt agent (e.g., 'summarize this page')...",disabled:l,className:`h-8 w-full rounded-full border border-gray-700/60 bg-gray-800/70 pl-3 pr-9 text-xs text-gray-200 placeholder-gray-400 focus:border-blue-500/60 focus:outline-none focus:ring-1 focus:ring-blue-500/40 ${l?"opacity-70 cursor-wait":""}`}),l?t.jsx(Ce,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-3.5 w-3.5 animate-spin text-blue-300","aria-label":"Sending prompt"}):t.jsx("button",{type:"button",onClick:()=>void Je(),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 transition-colors hover:text-gray-200",title:"Send prompt",children:t.jsx(_t,{size:14})})]}),t.jsx(rs,{}),t.jsxs("div",{className:"relative",ref:f,children:[t.jsxs("button",{type:"button",className:"flex items-center gap-1 rounded-full border border-gray-700/50 bg-gray-800/60 px-3 py-1.5 text-xs text-gray-300 transition-colors hover:border-gray-600 hover:text-white",onClick:()=>b(e=>!e),title:"Security & network controls",children:[t.jsx(Lt,{size:14}),"More"]}),t.jsx(_,{children:m&&t.jsx(T.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},transition:{duration:.16},className:"absolute right-0 mt-2 w-64 rounded-lg border border-gray-800 bg-slate-950/95 p-3 shadow-xl",children:t.jsxs("div",{className:"grid gap-2",children:[t.jsx(N,{icon:Y,label:"Tor",description:Tt,variant:Et,onClick:p.loading?void 0:()=>{p.running?(x({kind:"tor",status:"info",message:"Stopping Tor…"}),it()):(x({kind:"tor",status:"info",message:"Starting Tor…"}),ot())},loading:p.loading,title:ft,className:`justify-start ${p.loading?"opacity-60 cursor-not-allowed":""}`}),p.running&&!p.stub&&t.jsxs("button",{type:"button",onClick:()=>{p.loading||(x({kind:"tor",status:"info",message:"Requesting new Tor identity…"}),lt().then(()=>{x({kind:"tor",status:"success",message:"Tor identity refreshed"})}).catch(e=>{const s=e instanceof Error?e.message:String(e);x({kind:"tor",status:"warning",message:`Tor identity error: ${s}`})}))},className:"flex items-center gap-2 rounded-md border border-purple-500/40 bg-purple-500/10 px-3 py-1.5 text-[11px] text-purple-100 transition-colors hover:border-purple-400/60",children:[t.jsx(Ht,{size:12}),"Request new Tor identity"]}),t.jsx(N,{icon:Te,label:"VPN",description:Ct,variant:h.connected?"positive":"default",onClick:h.loading?void 0:()=>void ee(),loading:h.loading,title:ht,className:`justify-start ${h.loading?"opacity-60 cursor-not-allowed":""}`}),ze.length>0&&t.jsxs("div",{className:"space-y-2 rounded-md border border-gray-800/60 bg-gray-900/40 p-2",children:[t.jsx("span",{className:"text-[10px] uppercase text-gray-400",children:"VPN Profiles"}),t.jsx("div",{className:"space-y-1",children:ze.map(e=>{const s=Be===e.id;return t.jsxs("button",{type:"button",onClick:()=>kt(e.id),disabled:z,className:`w-full rounded-md px-2 py-1 text-left text-[11px] transition-colors ${s?"bg-emerald-500/20 text-emerald-100 border border-emerald-400/40":"border border-transparent text-gray-300 hover:border-gray-700"} ${z?"opacity-70 cursor-wait":""}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:e.name}),s&&t.jsx("span",{className:"text-[10px] opacity-70",children:"Active"})]}),e.server&&t.jsx("div",{className:"text-[10px] opacity-60",children:e.server})]},e.id)})}),t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("button",{type:"button",onClick:()=>St(),disabled:!Be||z,className:"flex-1 rounded-md border border-gray-700/50 px-2 py-1 text-[10px] text-gray-300 transition-colors hover:border-gray-600 disabled:opacity-50",children:"Disconnect"}),z&&t.jsx(Ce,{className:"h-3.5 w-3.5 animate-spin text-emerald-300"})]}),Ae&&t.jsx("div",{className:"rounded-md border border-amber-500/30 bg-amber-500/10 px-2 py-1 text-[10px] text-amber-200",children:Ae})]}),Oe.length>0&&t.jsxs("div",{className:"space-y-2 rounded-md border border-gray-800/60 bg-gray-900/40 p-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-[10px] uppercase text-gray-400",children:[t.jsx("span",{children:"Privacy activity"}),t.jsx("button",{type:"button",onClick:()=>{Ue([]),pe(null)},className:"rounded px-1.5 py-0.5 text-[9px] text-gray-400 transition-colors hover:text-gray-200",children:"Clear"})]}),t.jsx("div",{className:"max-h-32 space-y-1 overflow-auto",children:Oe.slice().reverse().map(e=>{const s=e.status==="success"?"bg-emerald-400":e.status==="warning"?"bg-amber-400":"bg-sky-400";return t.jsxs("div",{className:"flex items-start gap-2 text-[11px] text-gray-300",children:[t.jsx("span",{className:`mt-1 h-2 w-2 rounded-full ${s}`,"aria-hidden":"true"}),t.jsxs("div",{className:"space-y-0.5",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[e.kind==="tor"?t.jsx(Y,{size:12,className:"text-purple-300"}):t.jsx(Te,{size:12,className:"text-emerald-300"}),t.jsx("span",{children:e.message})]}),t.jsx("div",{className:"text-[9px] text-gray-500",children:tt(e.timestamp)})]})]},e.id)})})]}),t.jsx(N,{icon:Y,label:"DoH",description:E.enabled?E.provider:"Disabled",variant:E.enabled?"info":"default",onClick:jt,title:"Toggle DNS-over-HTTPS",className:"justify-start"}),t.jsx(N,{icon:he,label:"Efficiency",description:C||"Normal",variant:"default",className:"justify-start"}),t.jsx(N,{icon:Ze,label:"CPU",description:`${j}%`,variant:j>70?"warning":"default",title:"CPU usage",className:"justify-start"}),t.jsx(N,{icon:Qe,label:"RAM",description:`${k}%`,variant:k>75?"warning":"default",title:"Memory usage",className:"justify-start"})]})})})]}),t.jsx(_,{children:M&&t.jsxs(T.div,{ref:P,initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},transition:{duration:.16},className:"absolute right-0 top-12 w-72 rounded-lg border border-gray-800 bg-slate-950/95 p-4 shadow-xl",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs text-gray-300",children:[t.jsx("span",{className:"font-semibold uppercase tracking-wide",children:"Performance Trends"}),t.jsx("button",{className:"text-xs opacity-70 transition-opacity hover:opacity-100",onClick:()=>v(!1),"aria-label":"Close trends panel",children:t.jsx(ae,{size:12})})]}),t.jsx(Ke,{label:"CPU %",points:bt,color:"#38bdf8",labels:Xe}),t.jsx(Ke,{label:"RAM %",points:vt,color:"#22d3ee",labels:Xe})]})})]})]}),t.jsxs("div",{className:"flex flex-wrap items-start gap-3",children:[t.jsx(_,{children:y&&t.jsxs(T.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:`flex w-full max-w-xl items-center gap-3 rounded-lg border px-3 py-2 shadow-inner ${qe[y.severity]}`,children:[t.jsx(Wt,{size:14}),t.jsxs("div",{className:"flex flex-col gap-0.5",children:[t.jsx("span",{className:"text-xs font-semibold",children:y.title}),t.jsx("span",{className:"text-[11px] opacity-80",children:y.message})]}),t.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[y.actions.map(e=>t.jsx("button",{onClick:()=>wt(e),className:"rounded bg-gray-900/60 px-2 py-1 text-[11px] font-medium transition-colors hover:bg-gray-900/80",children:e.label},e.id)),t.jsx("button",{onClick:()=>S(null),className:"p-1 text-xs opacity-70 transition-opacity hover:opacity-100","aria-label":"Dismiss efficiency alert",children:t.jsx(ae,{size:12})})]})]},"efficiency-alert")}),t.jsx(_,{children:le&&t.jsxs(T.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:`flex w-full max-w-xl items-center gap-3 rounded-lg border px-3 py-2 shadow-inner ${qe[le.severity]}`,children:[t.jsx(he,{size:14}),t.jsxs("div",{className:"flex flex-col gap-0.5",children:[t.jsx("span",{className:"text-xs font-semibold",children:le.title}),t.jsx("span",{className:"text-[11px] opacity-80",children:le.message})]}),t.jsx("div",{className:"ml-auto",children:t.jsx("button",{onClick:()=>ke(null),className:"p-1 text-xs opacity-70 transition-opacity hover:opacity-100","aria-label":"Dismiss metrics alert",children:t.jsx(ae,{size:12})})})]},"metrics-alert")}),t.jsx(_,{children:$&&t.jsxs(T.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"flex w-full max-w-xl items-start gap-3 rounded-lg border border-purple-500/40 bg-purple-500/10 px-3 py-2 text-xs text-purple-100 shadow-inner",children:[t.jsx(zt,{size:14,className:"mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide",children:"Shadow Summary"}),t.jsx("button",{onClick:nt,className:"p-1 text-[10px] text-purple-200/80 transition-colors hover:text-purple-50","aria-label":"Dismiss shadow summary",children:t.jsx(ae,{size:12})})]}),t.jsx("div",{className:"text-[11px] opacity-90",children:$.recommendations?.[0]??"Review your shadow session."}),t.jsxs("div",{className:"flex flex-wrap gap-2 text-[10px] opacity-80",children:[t.jsxs("span",{children:[Math.round($.durationMs/1e3),"s"]}),t.jsxs("span",{children:["Visits: ",$.totalVisits]}),t.jsxs("span",{children:["Domains: ",$.uniqueHosts]})]}),$.visited?.length>0&&t.jsxs("div",{className:"space-y-0.5",children:[t.jsx("span",{className:"text-[10px] uppercase opacity-70",children:"Recent"}),t.jsx("ul",{className:"space-y-0.5",children:$.visited.slice(0,3).map(e=>t.jsx("li",{className:"truncate",children:t.jsx("a",{href:e.url,className:"text-[11px] text-purple-200 transition-colors hover:text-purple-50",title:e.url,children:e.title||e.url})},`${e.url}-${e.firstSeen}`))})]}),$.recommendations?.length>1&&t.jsxs("div",{className:"space-y-0.5",children:[t.jsx("span",{className:"text-[10px] uppercase opacity-70",children:"Recommendations"}),t.jsx("ul",{className:"space-y-0.5",children:$.recommendations.slice(1).map((e,s)=>t.jsx("li",{className:"text-[11px] opacity-80",children:e},s))})]})]})]},"shadow-summary")})]})]})]})}export{Us as BottomStatus};
//# sourceMappingURL=BottomStatus-7raYbOXr.js.map
