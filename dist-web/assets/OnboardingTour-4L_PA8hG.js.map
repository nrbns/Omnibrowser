{"version":3,"file":"OnboardingTour-4L_PA8hG.js","sources":["../../node_modules/lucide-react/dist/esm/icons/gauge.js","../../node_modules/lucide-react/dist/esm/icons/keyboard.js","../../node_modules/lucide-react/dist/esm/icons/mouse-pointer-click.js","../../src/components/Onboarding/OnboardingTour.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Gauge = createLucideIcon(\"Gauge\", [\n  [\"path\", { d: \"m12 14 4-4\", key: \"9kzdfg\" }],\n  [\"path\", { d: \"M3.34 19a10 10 0 1 1 17.32 0\", key: \"19p75a\" }]\n]);\n\nexport { Gauge as default };\n//# sourceMappingURL=gauge.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Keyboard = createLucideIcon(\"Keyboard\", [\n  [\"path\", { d: \"M10 8h.01\", key: \"1r9ogq\" }],\n  [\"path\", { d: \"M12 12h.01\", key: \"1mp3jc\" }],\n  [\"path\", { d: \"M14 8h.01\", key: \"1primd\" }],\n  [\"path\", { d: \"M16 12h.01\", key: \"1l6xoz\" }],\n  [\"path\", { d: \"M18 8h.01\", key: \"emo2bl\" }],\n  [\"path\", { d: \"M6 8h.01\", key: \"x9i8wu\" }],\n  [\"path\", { d: \"M7 16h10\", key: \"wp8him\" }],\n  [\"path\", { d: \"M8 12h.01\", key: \"czm47f\" }],\n  [\"rect\", { width: \"20\", height: \"16\", x: \"2\", y: \"4\", rx: \"2\", key: \"18n3k1\" }]\n]);\n\nexport { Keyboard as default };\n//# sourceMappingURL=keyboard.js.map\n","/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MousePointerClick = createLucideIcon(\"MousePointerClick\", [\n  [\"path\", { d: \"M14 4.1 12 6\", key: \"ita8i4\" }],\n  [\"path\", { d: \"m5.1 8-2.9-.8\", key: \"1go3kf\" }],\n  [\"path\", { d: \"m6 12-1.9 2\", key: \"mnht97\" }],\n  [\"path\", { d: \"M7.2 2.2 8 5.1\", key: \"1cfko1\" }],\n  [\n    \"path\",\n    {\n      d: \"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z\",\n      key: \"s0h3yz\"\n    }\n  ]\n]);\n\nexport { MousePointerClick as default };\n//# sourceMappingURL=mouse-pointer-click.js.map\n","import { useEffect, useMemo, useRef, useState, useCallback } from 'react';\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport type { LucideIcon } from 'lucide-react';\r\nimport {\r\n  X,\r\n  Brain,\r\n  TrendingUp,\r\n  Gamepad2,\r\n  Zap,\r\n  Keyboard,\r\n  MousePointerClick,\r\n  Sparkles,\r\n  Gauge,\r\n  Leaf,\r\n  Shield,\r\n  FileText,\r\n} from 'lucide-react';\r\nimport { useAppStore } from '../../state/appStore';\r\nimport { useOnboardingStore } from '../../state/onboardingStore';\r\nimport { useTabGraphStore } from '../../state/tabGraphStore';\r\nimport { ipc } from '../../lib/ipc-typed';\r\n\r\ntype StepTipAction = 'focus-omnibox' | 'open-graph';\r\n\r\ntype StepTip = {\r\n  icon: LucideIcon;\r\n  title: string;\r\n  description: string;\r\n  actionId?: StepTipAction;\r\n  actionLabel?: string;\r\n};\r\n\r\ninterface OnboardingStep {\r\n  id: string;\r\n  title: string;\r\n  description?: string;\r\n  target?: string;\r\n  type?: 'persona' | 'default';\r\n  tips?: StepTip[];\r\n}\r\n\r\ntype PersonaOption = {\r\n  id: 'Research' | 'Trade' | 'Games' | 'Browse';\r\n  title: string;\r\n  subtitle: string;\r\n  icon: typeof Brain;\r\n  hint: string;\r\n};\r\n\r\nconst PERSONAS: PersonaOption[] = [\r\n  {\r\n    id: 'Research',\r\n    title: 'Researcher',\r\n    subtitle: 'Deep dives & synthesis',\r\n    icon: Brain,\r\n    hint: 'Focuses on live graphs, consent checks, and @redix recall.',\r\n  },\r\n  {\r\n    id: 'Trade',\r\n    title: 'Trader',\r\n    subtitle: 'Market intelligence',\r\n    icon: TrendingUp,\r\n    hint: 'Highlights history graphs, playbooks, and automation runs.',\r\n  },\r\n  {\r\n    id: 'Games',\r\n    title: 'Creator',\r\n    subtitle: 'Streams & overlays',\r\n    icon: Gamepad2,\r\n    hint: 'Keeps overlays light and tabs organised for content flow.',\r\n  },\r\n  {\r\n    id: 'Browse',\r\n    title: 'Everyday',\r\n    subtitle: 'Balanced defaults',\r\n    icon: Zap,\r\n    hint: 'A little of everythingâ€”perfect for daily browsing.',\r\n  },\r\n];\r\n\r\nconst STEPS: OnboardingStep[] = [\r\n  {\r\n    id: 'persona',\r\n    title: 'Choose your focus',\r\n    description: 'Tell Redix how you work. Weâ€™ll tailor shortcuts, menus, and defaults instantly.',\r\n    type: 'persona',\r\n  },\r\n  {\r\n    id: 'welcome',\r\n    title: 'Welcome to OmniBrowser Ã— Redix',\r\n    description:\r\n      'This browser is built for agentic research. Letâ€™s take a 30-second tour of the core controls and regenerative superpowers.',\r\n    tips: [\r\n      {\r\n        icon: Sparkles,\r\n        title: 'Your regenerative co-pilot',\r\n        description: 'Redix learns your persona, monitors eco impact, and rewires the workspace to stay in flow.',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: 'omnibox',\r\n    title: 'Omnibox with @live AI',\r\n    description:\r\n      'Press âŒ˜/Ctrl + L to focus the omnibox. Try typing â€œ@live quantum trendsâ€ to stream Redix results and graphs in real time.',\r\n    target: '[data-onboarding=\"omnibox\"]',\r\n    tips: [\r\n      {\r\n        icon: Keyboard,\r\n        title: 'Shortcut ready',\r\n        description: 'Press âŒ˜/Ctrl + L any time to jump into the omnibox without leaving the keyboard.',\r\n        actionId: 'focus-omnibox',\r\n        actionLabel: 'Focus omnibox',\r\n      },\r\n      {\r\n        icon: Sparkles,\r\n        title: 'Use @live for streaming answers',\r\n        description: 'Start your query with â€œ@liveâ€ to pull in real-time sources, graphs, and metrics as you type.',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: 'tabstrip',\r\n    title: 'Smart Tab Strip',\r\n    description:\r\n      'Tabs show peek previews, mode badges, and hibernation state. Scroll horizontally or hit Ctrl+Tab to jump quickly.',\r\n    target: '[data-onboarding=\"tabstrip\"]',\r\n    tips: [\r\n      {\r\n        icon: MousePointerClick,\r\n        title: 'Drag into spaces',\r\n        description: 'Drag a tab to reorder or drop it straight into Workspace or GraphMind for deeper grouping.',\r\n      },\r\n      {\r\n        icon: Brain,\r\n        title: 'Sessions remember everything',\r\n        description: 'Tab badges show whether a session is ghosted, private, or synced across devices.',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: 'regen',\r\n    title: 'Regenerative Efficiency',\r\n    description:\r\n      'When the battery dips, Redix predicts remaining time, throttles background tabs, and offers +1.8 hr boost actions.',\r\n    target: '[data-onboarding=\"status-bar\"]',\r\n    tips: [\r\n      {\r\n        icon: Gauge,\r\n        title: 'Live system metrics',\r\n        description: 'CPU, memory, and carbon intensity stream in real time. Hover to see the sparkline history.',\r\n      },\r\n      {\r\n        icon: Leaf,\r\n        title: 'Eco-aware actions',\r\n        description: 'Switch to Regen mode when on battery to pause heavy tabs and save up to +1.8 hours.',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: 'graph',\r\n    title: 'Tab DNA Graph',\r\n    description:\r\n      'Press âŒ˜/Ctrl + Shift + G to open the live tab graph. Youâ€™ll see domains, containers, and session affinity mapped instantly.',\r\n    tips: [\r\n      {\r\n        icon: Brain,\r\n        title: 'Map your research instantly',\r\n        description: 'GraphMind clusters tabs by topic, mode, and relationship so you can spot gaps fast.',\r\n        actionId: 'open-graph',\r\n        actionLabel: 'Launch GraphMind',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: 'consent',\r\n    title: 'Ethical Control',\r\n    description:\r\n      'Every AI action requests consent in the ledger. Review what Redix can remember, approve, or revoke at any time.',\r\n    tips: [\r\n      {\r\n        icon: Shield,\r\n        title: 'Live consent timeline',\r\n        description: 'The ledger records every AI request, so you can revoke memory or flag behaviour instantly.',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: 'dashboard',\r\n    title: 'Your Command Center',\r\n    description:\r\n      'The dashboard shows your Live Redix Pulse, Eco Scoreboard, and quick access cards. Everything updates in real time.',\r\n    target: '[data-onboarding=\"dashboard\"]',\r\n    tips: [\r\n      {\r\n        icon: Sparkles,\r\n        title: 'Live Redix Pulse',\r\n        description: 'See agent activity, recent events, and quick actions. Click \"Open agent console\" to dive deeper.',\r\n      },\r\n      {\r\n        icon: Leaf,\r\n        title: 'Eco Scoreboard',\r\n        description: 'Monitor battery, carbon intensity, and efficiency. Achievements unlock as you optimize.',\r\n      },\r\n      {\r\n        icon: FileText,\r\n        title: 'Quick Access Cards',\r\n        description: 'Ask Agent, Search, Notes, and Playbooks are always one click away from the dashboard.',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: 'telemetry',\r\n    title: 'Help improve OmniBrowser',\r\n    description:\r\n      'Opt-in to privacy-safe telemetry to help us improve performance and fix bugs. We never collect personal information, URLs, or browsing history.',\r\n    tips: [\r\n      {\r\n        icon: Shield,\r\n        title: 'Privacy-first',\r\n        description: 'All data is anonymized. No PII, no URLs, no browsing history. You can change this anytime in Settings.',\r\n      },\r\n    ],\r\n  },\r\n];\r\nconst TOTAL_STEPS = STEPS.length;\r\ninterface Spotlight {\r\n  top: number;\r\n  left: number;\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nexport function OnboardingTour({ onClose }: { onClose: () => void }) {\r\n  const { mode, setMode } = useAppStore();\r\n  const finishOnboarding = useOnboardingStore((state) => state.finish);\r\n  const onboardingVisible = useOnboardingStore((state) => state.visible);\r\n  const [telemetryOptIn, setTelemetryOptIn] = useState(false);\r\n  const [spotlight, setSpotlight] = useState<Spotlight | null>(null);\r\n  const [stepIndex, setStepIndex] = useState(0);\r\n  const personaFromMode = useMemo<PersonaOption['id']>(() => {\r\n    const fallback: PersonaOption['id'] = 'Browse';\r\n    return PERSONAS.find((p) => p.id === mode) ? (mode as PersonaOption['id']) : fallback;\r\n  }, [mode]);\r\n  const initialPersonaRef = useRef<PersonaOption['id']>(personaFromMode);\r\n  const [selectedPersona, setSelectedPersona] = useState<PersonaOption['id'] | null>(initialPersonaRef.current);\r\n  const primaryButtonRef = useRef<HTMLButtonElement | null>(null);\r\n  const personaFirstButtonRef = useRef<HTMLButtonElement | null>(null);\r\n  const focusTimeoutRef = useRef<number | null>(null);\r\n  const openGraph = useTabGraphStore((state) => state.open);\r\n\r\n  const handleTipAction = useCallback((actionId?: StepTipAction) => {\r\n    if (!actionId) return;\r\n    switch (actionId) {\r\n      case 'focus-omnibox': {\r\n        const target = document.querySelector<HTMLElement>(\r\n          '[data-onboarding=\"omnibox\"] input, [data-onboarding=\"omnibox\"] textarea, [data-onboarding=\"omnibox\"] [role=\"combobox\"]'\r\n        );\r\n        if (target) {\r\n          target.focus();\r\n          target.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });\r\n        }\r\n        break;\r\n      }\r\n      case 'open-graph':\r\n        void openGraph();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }, [openGraph]);\r\n\r\n  useEffect(() => {\r\n    if (typeof document === 'undefined') {\r\n      return () => void 0;\r\n    }\r\n    const { body } = document;\r\n    const previousOverflow = body.style.overflow;\r\n    body.style.overflow = 'hidden';\r\n    return () => {\r\n      body.style.overflow = previousOverflow;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      (window as typeof window & { __tourDebug?: { stepIndex: number; persona: PersonaOption['id'] | null } }).__tourDebug =\r\n        { stepIndex, persona: selectedPersona };\r\n    }\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.debug('[Onboarding] Render', { stepIndex, selectedPersona });\r\n    }\r\n  }, [stepIndex, selectedPersona]);\r\n\r\n\r\n  const step = useMemo(() => STEPS[stepIndex] ?? STEPS[0], [stepIndex]);\r\n  const progressPercent = Math.round(((stepIndex + 1) / TOTAL_STEPS) * 100);\r\n  const isLastStep = stepIndex >= TOTAL_STEPS - 1;\r\n  const isPersonaStep = step.type === 'persona';\r\n  const canGoBack = stepIndex > 0;\r\n  const isNextDisabled = isPersonaStep && !selectedPersona;\r\n\r\n  useEffect(() => {\r\n    if (stepIndex === 0 && !selectedPersona) {\r\n      initialPersonaRef.current = personaFromMode;\r\n      setSelectedPersona(personaFromMode);\r\n    }\r\n  }, [personaFromMode, selectedPersona, stepIndex]);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n    if (focusTimeoutRef.current) {\r\n      window.clearTimeout(focusTimeoutRef.current);\r\n    }\r\n    focusTimeoutRef.current = window.setTimeout(() => {\r\n      if (step?.type === 'persona') {\r\n        personaFirstButtonRef.current?.focus({ preventScroll: true });\r\n      } else {\r\n        primaryButtonRef.current?.focus({ preventScroll: true });\r\n      }\r\n    }, 120);\r\n    return () => {\r\n      if (focusTimeoutRef.current) {\r\n        window.clearTimeout(focusTimeoutRef.current);\r\n        focusTimeoutRef.current = null;\r\n      }\r\n    };\r\n  }, [step, stepIndex]);\r\n\r\n  useEffect(() => {\r\n    if (!step?.target || step.type === 'persona') {\r\n      setSpotlight(null);\r\n      return;\r\n    }\r\n\r\n    let rafId = 0;\r\n    let cancelled = false;\r\n    let element: HTMLElement | null = null;\r\n    let retryTimeout: number | null = null;\r\n    const targetSelector = step.target as string;\r\n\r\n    const resolveElement = () => document.querySelector(targetSelector) as HTMLElement | null;\r\n\r\n    const updateSpotlight = () => {\r\n      if (!element) return;\r\n      const rect = element.getBoundingClientRect();\r\n      setSpotlight({\r\n        top: rect.top + window.scrollY,\r\n        left: rect.left + window.scrollX,\r\n        width: rect.width,\r\n        height: rect.height,\r\n      });\r\n    };\r\n\r\n    const ensureVisible = () => {\r\n      if (!element) return;\r\n      const rect = element.getBoundingClientRect();\r\n      const outOfView =\r\n        rect.top < 0 ||\r\n        rect.bottom > window.innerHeight ||\r\n        rect.left < 0 ||\r\n        rect.right > window.innerWidth;\r\n      if (outOfView) {\r\n        element.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });\r\n      }\r\n    };\r\n\r\n    const attachToElement = (attempt = 0) => {\r\n      if (cancelled) return;\r\n      element = resolveElement();\r\n      if (!element) {\r\n        if (attempt < 10) {\r\n          retryTimeout = window.setTimeout(() => attachToElement(attempt + 1), 100);\r\n        } else {\r\n          setSpotlight(null);\r\n        }\r\n        return;\r\n      }\r\n      updateSpotlight();\r\n      ensureVisible();\r\n    };\r\n\r\n    const handleReposition = () => {\r\n      if (cancelled) return;\r\n      if (!element || !document.body.contains(element)) {\r\n        attachToElement();\r\n        return;\r\n      }\r\n      cancelAnimationFrame(rafId);\r\n      rafId = window.requestAnimationFrame(updateSpotlight);\r\n    };\r\n\r\n    attachToElement();\r\n\r\n    window.addEventListener('resize', handleReposition);\r\n    window.addEventListener('scroll', handleReposition, true);\r\n\r\n    return () => {\r\n      cancelled = true;\r\n      if (retryTimeout !== null) {\r\n        window.clearTimeout(retryTimeout);\r\n      }\r\n      cancelAnimationFrame(rafId);\r\n      window.removeEventListener('resize', handleReposition);\r\n      window.removeEventListener('scroll', handleReposition, true);\r\n    };\r\n  }, [step]);\r\n\r\n  const handlePersonaSelect = useCallback(\r\n    (persona: PersonaOption['id']) => {\r\n      initialPersonaRef.current = persona;\r\n      setSelectedPersona(persona);\r\n      if (mode !== persona) {\r\n        setMode(persona);\r\n      }\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.debug('[Onboarding] Persona selected', persona);\r\n      }\r\n    },\r\n    [mode, setMode]\r\n  );\r\n\r\n  const goNext = useCallback(() => {\r\n    console.log('[Onboarding] goNext called - START, current stepIndex:', stepIndex);\r\n    try {\r\n      // Get current step\r\n      const currentStep = STEPS[stepIndex];\r\n      const isTelemetryStep = currentStep?.id === 'telemetry';\r\n      const isLastStep = stepIndex >= TOTAL_STEPS - 1;\r\n      \r\n      // Save telemetry opt-in preference asynchronously before state update\r\n      // This prevents any IPC errors from blocking the state update\r\n      if (isTelemetryStep) {\r\n        // Save telemetry opt-in preference asynchronously (don't wait for it)\r\n        // Use void to explicitly ignore the promise\r\n        void ipc.telemetry.setOptIn(telemetryOptIn).catch((error) => {\r\n          if (process.env.NODE_ENV === 'development') {\r\n            console.warn('[Onboarding] Failed to save telemetry opt-in', error);\r\n          }\r\n        });\r\n      }\r\n\r\n      // If we're on the last step (telemetry), finish and close\r\n      if (isTelemetryStep || isLastStep) {\r\n        console.log('[Onboarding] Finishing tour from step', stepIndex);\r\n        \r\n        // Finish onboarding (this updates the store and marks as completed)\r\n        console.log('[Onboarding] Calling finishOnboarding()');\r\n        finishOnboarding();\r\n        \r\n        console.log('[Onboarding] finishOnboarding() called, calling onClose()');\r\n        \r\n        // Call onClose for any cleanup\r\n        onClose();\r\n        console.log('[Onboarding] goNext - onClose() called - END');\r\n        \r\n        return;\r\n      }\r\n\r\n      // Handle persona step validation\r\n      if (currentStep?.type === 'persona') {\r\n        console.log('[Onboarding] Persona step - selectedPersona:', selectedPersona, 'mode:', mode);\r\n        if (!selectedPersona) {\r\n          console.warn('[Onboarding] Cannot advance: no persona selected');\r\n          // Try to get selected persona from DOM if state is out of sync\r\n          const selectedPersonaCard = document.querySelector('[aria-pressed=\"true\"]') as HTMLElement;\r\n          if (selectedPersonaCard) {\r\n            const personaId = selectedPersonaCard.getAttribute('data-persona-id') || \r\n                            selectedPersonaCard.closest('[data-persona-id]')?.getAttribute('data-persona-id');\r\n            if (personaId) {\r\n              console.log('[Onboarding] Found selected persona from DOM:', personaId);\r\n              handlePersonaSelect(personaId as PersonaOption['id']);\r\n              // Continue with the selected persona\r\n            } else {\r\n              console.warn('[Onboarding] No persona selected, cannot advance');\r\n              return;\r\n            }\r\n          } else {\r\n            console.warn('[Onboarding] No persona selected, cannot advance');\r\n            return;\r\n          }\r\n        }\r\n        if (selectedPersona && mode !== selectedPersona) {\r\n          console.log('[Onboarding] Setting mode to:', selectedPersona);\r\n          setMode(selectedPersona);\r\n        }\r\n      }\r\n\r\n      // Advance to next step\r\n      const nextIndex = Math.min(stepIndex + 1, TOTAL_STEPS - 1);\r\n      \r\n      console.log('[Onboarding] Next from step', stepIndex, '->', nextIndex);\r\n\r\n      setStepIndex(nextIndex);\r\n    } catch (error) {\r\n      console.error('[Onboarding] Error in goNext:', error);\r\n    }\r\n  }, [stepIndex, selectedPersona, mode, setMode, finishOnboarding, onClose, telemetryOptIn]);\r\n\r\n  const goBack = useCallback(() => {\r\n    setStepIndex((current) => {\r\n      if (current === 0) {\r\n        return 0;\r\n      }\r\n      if (process.env.NODE_ENV === 'development') {\r\n        console.debug('[Onboarding] Back from step', current);\r\n      }\r\n      return Math.max(0, current - 1);\r\n    });\r\n  }, []);\r\n\r\n  const handleSkip = useCallback(() => {\r\n    console.log('[Onboarding] handleSkip called - START');\r\n    try {\r\n      console.log('[Onboarding] Skip pressed at step', stepIndex);\r\n      // Finish onboarding (this updates the store and marks as completed)\r\n      console.log('[Onboarding] Skip - calling finishOnboarding()');\r\n      finishOnboarding();\r\n      \r\n      console.log('[Onboarding] Skip - finishOnboarding() called, calling onClose()');\r\n      \r\n      // Call onClose for any cleanup\r\n      onClose();\r\n      console.log('[Onboarding] Skip - onClose() called - END');\r\n    } catch (error) {\r\n      console.error('[Onboarding] Error in handleSkip:', error);\r\n    }\r\n  }, [finishOnboarding, onClose, stepIndex]);\r\n\r\n  // Add native event listeners as fallback to test if clicks are reaching buttons\r\n  // This runs AFTER all callbacks are defined\r\n  useEffect(() => {\r\n    if (!onboardingVisible) return;\r\n\r\n    console.log('[Onboarding] Setting up native event listeners...');\r\n    console.log('[Onboarding] Current stepIndex:', stepIndex);\r\n    console.log('[Onboarding] isNextDisabled:', isNextDisabled);\r\n    console.log('[Onboarding] canGoBack:', canGoBack);\r\n\r\n    let attached = false;\r\n    const attachListeners = () => {\r\n      if (attached) return;\r\n      const nextButton = primaryButtonRef.current || document.querySelector('[data-onboarding-next]') as HTMLButtonElement;\r\n      const skipButton = document.querySelector('[data-onboarding-skip]') as HTMLButtonElement;\r\n      const backButton = document.querySelector('[data-onboarding-back]') as HTMLButtonElement;\r\n      const closeButton = document.querySelector('[data-onboarding-close]') as HTMLButtonElement;\r\n\r\n      console.log('[Onboarding] Button elements found:', {\r\n        next: !!nextButton,\r\n        skip: !!skipButton,\r\n        back: !!backButton,\r\n        close: !!closeButton,\r\n      });\r\n\r\n      const handleNextClick = (e: Event) => {\r\n        console.log('[Onboarding] âœ…âœ…âœ… NATIVE CLICK DETECTED ON NEXT BUTTON! âœ…âœ…âœ…', e);\r\n        console.log('[Onboarding] Event details:', {\r\n          type: e.type,\r\n          target: e.target,\r\n          currentTarget: e.currentTarget,\r\n          bubbles: e.bubbles,\r\n          cancelable: e.cancelable,\r\n        });\r\n        e.preventDefault();\r\n        e.stopImmediatePropagation();\r\n        e.stopPropagation();\r\n        try {\r\n          // Always call goNext - it will handle validation internally\r\n          console.log('[Onboarding] Calling goNext() from native listener...');\r\n          // Use setTimeout to ensure state updates happen\r\n          setTimeout(() => {\r\n            goNext();\r\n          }, 0);\r\n        } catch (err) {\r\n          console.error('[Onboarding] Error in goNext from native listener:', err);\r\n        }\r\n        return false;\r\n      };\r\n\r\n      const handleSkipClick = (e: Event) => {\r\n        console.log('[Onboarding] âœ…âœ…âœ… NATIVE CLICK DETECTED ON SKIP BUTTON! âœ…âœ…âœ…', e);\r\n        e.preventDefault();\r\n        e.stopImmediatePropagation();\r\n        e.stopPropagation();\r\n        try {\r\n          setTimeout(() => {\r\n            handleSkip();\r\n          }, 0);\r\n        } catch (err) {\r\n          console.error('[Onboarding] Error in handleSkip from native listener:', err);\r\n        }\r\n        return false;\r\n      };\r\n\r\n      const handleBackClick = (e: Event) => {\r\n        console.log('[Onboarding] âœ…âœ…âœ… NATIVE CLICK DETECTED ON BACK BUTTON! âœ…âœ…âœ…', e);\r\n        e.preventDefault();\r\n        e.stopImmediatePropagation();\r\n        e.stopPropagation();\r\n        try {\r\n          setTimeout(() => {\r\n            goBack();\r\n          }, 0);\r\n        } catch (err) {\r\n          console.error('[Onboarding] Error in goBack from native listener:', err);\r\n        }\r\n        return false;\r\n      };\r\n\r\n      const handleCloseClick = (e: Event) => {\r\n        console.log('[Onboarding] âœ…âœ…âœ… NATIVE CLICK DETECTED ON CLOSE BUTTON! âœ…âœ…âœ…', e);\r\n        e.preventDefault();\r\n        e.stopImmediatePropagation();\r\n        e.stopPropagation();\r\n        try {\r\n          setTimeout(() => {\r\n            finishOnboarding();\r\n            onClose();\r\n          }, 0);\r\n        } catch (err) {\r\n          console.error('[Onboarding] Error in close from native listener:', err);\r\n        }\r\n        return false;\r\n      };\r\n\r\n      if (nextButton) {\r\n        // Check if button is disabled\r\n        const isDisabled = nextButton.hasAttribute('disabled') || (nextButton as HTMLButtonElement).disabled;\r\n        console.log('[Onboarding] Next button disabled state:', isDisabled, 'isNextDisabled:', isNextDisabled);\r\n        \r\n        // Force enable the button for testing (remove disabled attribute)\r\n        if (isDisabled) {\r\n          console.warn('[Onboarding] âš ï¸ Next button is disabled! Force enabling for testing...');\r\n          nextButton.removeAttribute('disabled');\r\n          (nextButton as HTMLButtonElement).disabled = false;\r\n          nextButton.style.pointerEvents = 'auto';\r\n          nextButton.style.cursor = 'pointer';\r\n          nextButton.style.opacity = '1';\r\n        }\r\n        \r\n        // Attach listeners with capture phase and also without\r\n        nextButton.addEventListener('click', handleNextClick, true);\r\n        nextButton.addEventListener('click', handleNextClick, false);\r\n        nextButton.addEventListener('mousedown', handleNextClick, true);\r\n        nextButton.addEventListener('mousedown', handleNextClick, false);\r\n        nextButton.addEventListener('pointerdown', handleNextClick, true);\r\n        nextButton.addEventListener('touchstart', handleNextClick, true);\r\n        \r\n        // Also try direct onclick assignment as ultimate fallback\r\n        (nextButton as any).onclick = handleNextClick;\r\n        (nextButton as any).onmousedown = handleNextClick;\r\n        \r\n        console.log('[Onboarding] âœ… Native listeners attached to Next button (capture + bubble + direct)');\r\n        \r\n        // Test: Try programmatically clicking to see if button works\r\n        console.log('[Onboarding] Testing: Button clickable?', nextButton.offsetWidth > 0 && nextButton.offsetHeight > 0);\r\n        \r\n        // Test if button is actually clickable\r\n        const computedStyle = window.getComputedStyle(nextButton);\r\n        console.log('[Onboarding] Next button computed styles:', {\r\n          pointerEvents: computedStyle.pointerEvents,\r\n          cursor: computedStyle.cursor,\r\n          zIndex: computedStyle.zIndex,\r\n          position: computedStyle.position,\r\n          opacity: computedStyle.opacity,\r\n        });\r\n      } else {\r\n        console.warn('[Onboarding] âš ï¸ Next button not found!');\r\n      }\r\n\r\n      if (skipButton) {\r\n        skipButton.addEventListener('click', handleSkipClick, true);\r\n        skipButton.addEventListener('mousedown', handleSkipClick, true);\r\n        skipButton.addEventListener('pointerdown', handleSkipClick, true);\r\n        console.log('[Onboarding] âœ… Native listeners attached to Skip button');\r\n      } else {\r\n        console.warn('[Onboarding] âš ï¸ Skip button not found!');\r\n      }\r\n\r\n      if (backButton) {\r\n        backButton.addEventListener('click', handleBackClick, true);\r\n        backButton.addEventListener('mousedown', handleBackClick, true);\r\n        backButton.addEventListener('pointerdown', handleBackClick, true);\r\n        console.log('[Onboarding] âœ… Native listeners attached to Back button');\r\n      } else {\r\n        console.warn('[Onboarding] âš ï¸ Back button not found!');\r\n      }\r\n\r\n      if (closeButton) {\r\n        closeButton.addEventListener('click', handleCloseClick, true);\r\n        closeButton.addEventListener('mousedown', handleCloseClick, true);\r\n        closeButton.addEventListener('pointerdown', handleCloseClick, true);\r\n        console.log('[Onboarding] âœ… Native listeners attached to Close button');\r\n      } else {\r\n        console.warn('[Onboarding] âš ï¸ Close button not found!');\r\n      }\r\n\r\n      // Store cleanup function\r\n      (window as any).__onboardingCleanup = () => {\r\n        if (nextButton) {\r\n          nextButton.removeEventListener('click', handleNextClick, true);\r\n          nextButton.removeEventListener('mousedown', handleNextClick, true);\r\n          nextButton.removeEventListener('pointerdown', handleNextClick, true);\r\n        }\r\n        if (skipButton) {\r\n          skipButton.removeEventListener('click', handleSkipClick, true);\r\n          skipButton.removeEventListener('mousedown', handleSkipClick, true);\r\n          skipButton.removeEventListener('pointerdown', handleSkipClick, true);\r\n        }\r\n        if (backButton) {\r\n          backButton.removeEventListener('click', handleBackClick, true);\r\n          backButton.removeEventListener('mousedown', handleBackClick, true);\r\n          backButton.removeEventListener('pointerdown', handleBackClick, true);\r\n        }\r\n        if (closeButton) {\r\n          closeButton.removeEventListener('click', handleCloseClick, true);\r\n          closeButton.removeEventListener('mousedown', handleCloseClick, true);\r\n          closeButton.removeEventListener('pointerdown', handleCloseClick, true);\r\n        }\r\n      };\r\n      \r\n      attached = true;\r\n      console.log('[Onboarding] âœ… All listeners attached successfully');\r\n    };\r\n\r\n    // Try multiple times with increasing delays\r\n    const timeouts = [\r\n      setTimeout(() => {\r\n        console.log('[Onboarding] Attempt 1: Attaching listeners (100ms delay)');\r\n        attachListeners();\r\n      }, 100),\r\n      setTimeout(() => {\r\n        console.log('[Onboarding] Attempt 2: Attaching listeners (300ms delay)');\r\n        attachListeners();\r\n      }, 300),\r\n      setTimeout(() => {\r\n        console.log('[Onboarding] Attempt 3: Attaching listeners (500ms delay)');\r\n        attachListeners();\r\n      }, 500),\r\n    ];\r\n\r\n    // Also use MutationObserver to catch when buttons appear\r\n    const observer = new MutationObserver(() => {\r\n      console.log('[Onboarding] DOM mutation detected, checking for buttons...');\r\n      attachListeners();\r\n    });\r\n\r\n    // Observe the document body for changes\r\n    observer.observe(document.body, {\r\n      childList: true,\r\n      subtree: true,\r\n      attributes: true,\r\n    });\r\n\r\n    // ULTIMATE FALLBACK: Global document click handler\r\n    const globalClickHandler = (e: MouseEvent) => {\r\n      const target = e.target as HTMLElement;\r\n      if (!target) return;\r\n\r\n      // Check if click is on any onboarding button\r\n      const isNextButton = target.closest('[data-onboarding-next]') || target.hasAttribute('data-onboarding-next');\r\n      const isSkipButton = target.closest('[data-onboarding-skip]') || target.hasAttribute('data-onboarding-skip');\r\n      const isBackButton = target.closest('[data-onboarding-back]') || target.hasAttribute('data-onboarding-back');\r\n      const isCloseButton = target.closest('[data-onboarding-close]') || target.hasAttribute('data-onboarding-close');\r\n\r\n      if (isNextButton) {\r\n        console.log('[Onboarding] ðŸ”¥ðŸ”¥ðŸ”¥ GLOBAL CLICK HANDLER: Next button clicked! ðŸ”¥ðŸ”¥ðŸ”¥');\r\n        e.preventDefault();\r\n        e.stopImmediatePropagation();\r\n        e.stopPropagation();\r\n        setTimeout(() => goNext(), 0);\r\n        return false;\r\n      }\r\n      if (isSkipButton) {\r\n        console.log('[Onboarding] ðŸ”¥ðŸ”¥ðŸ”¥ GLOBAL CLICK HANDLER: Skip button clicked! ðŸ”¥ðŸ”¥ðŸ”¥');\r\n        e.preventDefault();\r\n        e.stopImmediatePropagation();\r\n        e.stopPropagation();\r\n        setTimeout(() => handleSkip(), 0);\r\n        return false;\r\n      }\r\n      if (isBackButton) {\r\n        console.log('[Onboarding] ðŸ”¥ðŸ”¥ðŸ”¥ GLOBAL CLICK HANDLER: Back button clicked! ðŸ”¥ðŸ”¥ðŸ”¥');\r\n        e.preventDefault();\r\n        e.stopImmediatePropagation();\r\n        e.stopPropagation();\r\n        setTimeout(() => goBack(), 0);\r\n        return false;\r\n      }\r\n      if (isCloseButton) {\r\n        console.log('[Onboarding] ðŸ”¥ðŸ”¥ðŸ”¥ GLOBAL CLICK HANDLER: Close button clicked! ðŸ”¥ðŸ”¥ðŸ”¥');\r\n        e.preventDefault();\r\n        e.stopImmediatePropagation();\r\n        e.stopPropagation();\r\n        setTimeout(() => {\r\n          finishOnboarding();\r\n          onClose();\r\n        }, 0);\r\n        return false;\r\n      }\r\n    };\r\n\r\n    // Add global handler with capture phase (runs before React)\r\n    document.addEventListener('click', globalClickHandler, true);\r\n    document.addEventListener('mousedown', globalClickHandler, true);\r\n\r\n    console.log('[Onboarding] âœ… Global click handlers attached to document');\r\n\r\n    return () => {\r\n      timeouts.forEach(clearTimeout);\r\n      observer.disconnect();\r\n      document.removeEventListener('click', globalClickHandler, true);\r\n      document.removeEventListener('mousedown', globalClickHandler, true);\r\n      if ((window as any).__onboardingCleanup) {\r\n        (window as any).__onboardingCleanup();\r\n        delete (window as any).__onboardingCleanup;\r\n      }\r\n      attached = false;\r\n    };\r\n  }, [onboardingVisible, goNext, handleSkip, goBack, finishOnboarding, onClose, stepIndex, isNextDisabled, canGoBack]);\r\n\r\n  return (\r\n    <AnimatePresence mode=\"wait\">\r\n      {onboardingVisible && (\r\n        <motion.div\r\n        key=\"onboarding-overlay\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n        transition={{ duration: 0.2 }}\r\n        className=\"fixed inset-0 z-[1000] flex items-center justify-center bg-black/70 backdrop-blur-sm\"\r\n        style={{ pointerEvents: 'auto' }}\r\n        onMouseDown={(e) => {\r\n          // Prevent backdrop from capturing clicks\r\n          if (e.target === e.currentTarget) {\r\n            console.log('[Onboarding] Backdrop clicked - preventing default');\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }\r\n        }}\r\n        onClick={(e) => {\r\n          // Only stop propagation if clicking directly on backdrop (not children)\r\n          if (e.target === e.currentTarget) {\r\n            console.log('[Onboarding] Backdrop clicked - stopping propagation');\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n          }\r\n        }}\r\n      >\r\n          {spotlight && (\r\n            <div\r\n              className=\"pointer-events-none absolute rounded-2xl border-2 border-emerald-400/80 shadow-[0_0_20px_rgba(16,185,129,0.35)]\"\r\n              style={{\r\n                top: spotlight.top - 8,\r\n                left: spotlight.left - 8,\r\n                width: spotlight.width + 16,\r\n                height: spotlight.height + 16,\r\n                transition: 'all 0.25s ease',\r\n              }}\r\n            />\r\n          )}\r\n\r\n          <motion.div\r\n            key={step.id}\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: 20 }}\r\n            transition={{ duration: 0.2 }}\r\n            className=\"relative w-[min(520px,90vw)] rounded-3xl border border-slate-700/70 bg-slate-950/95 p-6 text-gray-100 shadow-2xl z-[1001]\"\r\n            style={{ pointerEvents: 'auto', position: 'relative' }}\r\n            onClick={(e) => {\r\n              // Prevent clicks on modal from bubbling to backdrop\r\n              e.stopPropagation();\r\n            }}\r\n          >\r\n          <button\r\n            type=\"button\"\r\n            data-onboarding-close\r\n            className=\"absolute right-5 top-5 rounded-full border border-slate-700/60 bg-slate-900/70 p-1.5 text-gray-400 hover:text-gray-200 cursor-pointer\"\r\n            style={{ pointerEvents: 'auto', position: 'absolute', zIndex: 1003 }}\r\n            onClick={(e) => {\r\n              console.log('[Onboarding] X button clicked via React');\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              finishOnboarding();\r\n              onClose();\r\n            }}\r\n            aria-label=\"Close onboarding\"\r\n          >\r\n            <X size={16} />\r\n          </button>\r\n\r\n          <div className=\"text-xs uppercase tracking-wide text-emerald-300/80\" data-tour-step-indicator>\r\n            Step {stepIndex + 1} of {TOTAL_STEPS}\r\n          </div>\r\n          <div className=\"mt-2\" aria-live=\"polite\">\r\n            <h2 className=\"text-xl font-semibold text-white\">{step.title}</h2>\r\n            {step.description && (\r\n              <p className=\"mt-3 text-sm leading-relaxed text-gray-300\">{step.description}</p>\r\n            )}\r\n            {step.tips && step.tips.length > 0 && (\r\n              <div className=\"mt-4 space-y-3\">\r\n                {step.tips.map((tip) => {\r\n                  const Icon = tip.icon;\r\n                  return (\r\n                    <div\r\n                      key={tip.title}\r\n                      className=\"flex items-start gap-3 rounded-2xl border border-slate-700/60 bg-slate-900/70 p-3\"\r\n                    >\r\n                      <div className=\"mt-1 text-emerald-300/80\">\r\n                        <Icon size={16} />\r\n                      </div>\r\n                      <div className=\"flex-1 text-sm text-slate-200\">\r\n                        <div className=\"font-semibold text-slate-100\">{tip.title}</div>\r\n                        <p className=\"mt-1 text-xs leading-relaxed text-slate-400\">{tip.description}</p>\r\n                        {tip.actionId && tip.actionLabel && (\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => handleTipAction(tip.actionId)}\r\n                            className=\"mt-2 inline-flex items-center gap-1 rounded-full border border-emerald-500/40 bg-emerald-500/10 px-3 py-1 text-xs font-medium text-emerald-100 transition hover:border-emerald-400/60 hover:text-emerald-50\"\r\n                          >\r\n                            {tip.actionLabel}\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"mt-4\">\r\n            <div className=\"h-1.5 w-full overflow-hidden rounded-full bg-slate-800/80\">\r\n              <motion.div\r\n                className=\"h-full rounded-full bg-emerald-400/80\"\r\n                initial={false}\r\n                animate={{ width: `${progressPercent}%` }}\r\n                transition={{ duration: 0.3, ease: 'easeOut' }}\r\n              />\r\n            </div>\r\n            <div className=\"mt-2 text-xs text-slate-500\">{progressPercent}% complete</div>\r\n          </div>\r\n\r\n          {step.type === 'persona' ? (\r\n            <div className=\"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2\">\r\n              {PERSONAS.map((persona, index) => {\r\n                const Icon = persona.icon;\r\n                const isActive = selectedPersona === persona.id;\r\n                return (\r\n                  <motion.button\r\n                    key={persona.id}\r\n                    type=\"button\"\r\n                    ref={index === 0 ? personaFirstButtonRef : undefined}\r\n                    onClick={() => handlePersonaSelect(persona.id)}\r\n                    whileHover={{ scale: 1.02 }}\r\n                    whileTap={{ scale: 0.98 }}\r\n                    aria-pressed={isActive}\r\n                    className={`flex h-full flex-col items-start gap-2 rounded-2xl border p-4 text-left transition-all ${\r\n                      isActive\r\n                        ? 'border-emerald-400/60 bg-emerald-500/10 text-emerald-100 shadow-[0_0_25px_rgba(34,197,94,0.25)]'\r\n                        : 'border-slate-700/60 bg-slate-900/70 text-gray-200 hover:border-slate-500/80 hover:bg-slate-900/90'\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Icon size={20} />\r\n                      <div>\r\n                        <div className=\"text-sm font-semibold\">{persona.title}</div>\r\n                        <div className=\"text-xs text-gray-400\">{persona.subtitle}</div>\r\n                      </div>\r\n                    </div>\r\n                    <p className=\"text-xs text-gray-300 leading-relaxed\">{persona.hint}</p>\r\n                  </motion.button>\r\n                );\r\n              })}\r\n            </div>\r\n          ) : step.id === 'telemetry' ? (\r\n            <div className=\"mt-4\">\r\n              <label className=\"flex cursor-pointer items-start gap-3 rounded-2xl border border-slate-700/60 bg-slate-900/70 p-4 hover:border-slate-500/80\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={telemetryOptIn}\r\n                  onChange={(e) => setTelemetryOptIn(e.target.checked)}\r\n                  className=\"mt-1 h-4 w-4 rounded border-slate-600 bg-slate-800 text-emerald-500 focus:ring-2 focus:ring-emerald-500/50\"\r\n                />\r\n                <div className=\"flex-1 text-sm\">\r\n                  <div className=\"font-semibold text-slate-100\">Enable privacy-safe telemetry</div>\r\n                  <p className=\"mt-1 text-xs leading-relaxed text-slate-400\">\r\n                    Help us improve OmniBrowser by sharing anonymized performance data and crash reports. No personal information is collected.\r\n                  </p>\r\n                  <a\r\n                    href=\"#\"\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      // Open privacy policy or settings\r\n                    }}\r\n                    className=\"mt-2 inline-block text-xs text-emerald-400 hover:text-emerald-300\"\r\n                  >\r\n                    Learn more about our privacy policy â†’\r\n                  </a>\r\n                </div>\r\n              </label>\r\n            </div>\r\n          ) : null}\r\n\r\n          <div className=\"mt-6 flex items-center justify-between text-sm\" style={{ pointerEvents: 'auto', zIndex: 1002, position: 'relative' }}>\r\n            <button\r\n              type=\"button\"\r\n              data-onboarding-back\r\n              onClick={(e) => {\r\n                console.log('[Onboarding] Back button clicked via React');\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                goBack();\r\n              }}\r\n              disabled={!canGoBack}\r\n              className=\"rounded-lg border border-slate-700/60 px-3 py-2 text-gray-300 transition hover:border-slate-500/80 hover:text-gray-100 disabled:cursor-not-allowed disabled:opacity-40 cursor-pointer\"\r\n              style={{ pointerEvents: 'auto', position: 'relative', zIndex: 1003, touchAction: 'manipulation' }}\r\n            >\r\n              Back\r\n            </button>\r\n            <div className=\"flex items-center gap-2\" style={{ pointerEvents: 'auto', position: 'relative', zIndex: 1003 }}>\r\n              <button\r\n                type=\"button\"\r\n                data-onboarding-skip\r\n                onClick={(e) => {\r\n                  console.log('[Onboarding] Skip button clicked via React');\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                  handleSkip();\r\n                }}\r\n                className=\"rounded-lg border border-slate-700/60 px-3 py-2 text-gray-400 transition hover:border-slate-500/80 hover:text-gray-200 cursor-pointer\"\r\n                style={{ pointerEvents: 'auto', position: 'relative', zIndex: 1003, touchAction: 'manipulation' }}\r\n              >\r\n                Skip\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                data-onboarding-next\r\n                ref={primaryButtonRef}\r\n                onClick={(e) => {\r\n                  console.log('[Onboarding] Next/Finish button clicked via React', { isNextDisabled, stepIndex });\r\n                  e.preventDefault();\r\n                  e.stopPropagation();\r\n                  if (!isNextDisabled) {\r\n                    goNext();\r\n                  } else {\r\n                    console.warn('[Onboarding] Next button is disabled!', { isNextDisabled, stepIndex, selectedPersona });\r\n                  }\r\n                }}\r\n                disabled={isNextDisabled}\r\n                className=\"rounded-lg border border-emerald-500/60 bg-emerald-500/10 px-4 py-2 font-medium text-emerald-100 transition hover:bg-emerald-500/20 disabled:cursor-not-allowed disabled:opacity-40 cursor-pointer\"\r\n                style={{ \r\n                  pointerEvents: isNextDisabled ? 'none' : 'auto', \r\n                  position: 'relative', \r\n                  zIndex: 1003, \r\n                  touchAction: 'manipulation',\r\n                  cursor: isNextDisabled ? 'not-allowed' : 'pointer'\r\n                }}\r\n              >\r\n                {isLastStep ? 'Finish' : 'Next'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          </motion.div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n"],"names":["Gauge","createLucideIcon","Keyboard","MousePointerClick","PERSONAS","Brain","TrendingUp","Gamepad2","Zap","STEPS","Sparkles","Leaf","Shield","FileText","TOTAL_STEPS","OnboardingTour","onClose","mode","setMode","useAppStore","finishOnboarding","useOnboardingStore","state","onboardingVisible","telemetryOptIn","setTelemetryOptIn","useState","spotlight","setSpotlight","stepIndex","setStepIndex","personaFromMode","useMemo","p","initialPersonaRef","useRef","selectedPersona","setSelectedPersona","primaryButtonRef","personaFirstButtonRef","focusTimeoutRef","openGraph","useTabGraphStore","handleTipAction","useCallback","actionId","target","useEffect","body","previousOverflow","step","progressPercent","isLastStep","isPersonaStep","canGoBack","isNextDisabled","rafId","cancelled","element","retryTimeout","targetSelector","resolveElement","updateSpotlight","rect","ensureVisible","attachToElement","attempt","handleReposition","handlePersonaSelect","persona","goNext","currentStep","isTelemetryStep","ipc","error","selectedPersonaCard","personaId","nextIndex","goBack","current","handleSkip","attached","attachListeners","nextButton","skipButton","backButton","closeButton","handleNextClick","e","err","handleSkipClick","handleBackClick","handleCloseClick","isDisabled","computedStyle","timeouts","observer","globalClickHandler","isNextButton","isSkipButton","isBackButton","isCloseButton","AnimatePresence","jsxs","motion","jsx","X","tip","Icon","index","isActive"],"mappings":"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","x_google_ignoreList":[0,1,2]}