{"version":3,"file":"agentStreamStore-BcjkWHdN.js","sources":["../../node_modules/lucide-react/dist/esm/icons/bot.js","../../src/state/agentStreamStore.ts"],"sourcesContent":["/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Bot = createLucideIcon(\"Bot\", [\n  [\"path\", { d: \"M12 8V4H8\", key: \"hb8ula\" }],\n  [\"rect\", { width: \"16\", height: \"12\", x: \"4\", y: \"8\", rx: \"2\", key: \"enze0r\" }],\n  [\"path\", { d: \"M2 14h2\", key: \"vft8re\" }],\n  [\"path\", { d: \"M20 14h2\", key: \"4cs60a\" }],\n  [\"path\", { d: \"M15 13v2\", key: \"1xurst\" }],\n  [\"path\", { d: \"M9 13v2\", key: \"rq6x2g\" }]\n]);\n\nexport { Bot as default };\n//# sourceMappingURL=bot.js.map\n","import { create } from 'zustand';\r\n\r\nexport type StreamStatus = 'idle' | 'connecting' | 'live' | 'complete' | 'error';\r\n\r\nexport interface AgentStreamEvent {\r\n  id: string;\r\n  type: 'start' | 'step' | 'log' | 'done' | 'consent' | 'error';\r\n  step?: number;\r\n  status?: string;\r\n  content?: string;\r\n  timestamp: number;\r\n  risk?: 'low' | 'medium' | 'high';\r\n  approved?: boolean;\r\n}\r\n\r\ninterface AgentStreamState {\r\n  runId: string | null;\r\n  status: StreamStatus;\r\n  transcript: string;\r\n  events: AgentStreamEvent[];\r\n  error: string | null;\r\n  lastGoal: string | null;\r\n  setRun: (runId: string, goal: string | null) => void;\r\n  setStatus: (status: StreamStatus) => void;\r\n  setError: (error: string | null) => void;\r\n  appendEvent: (event: AgentStreamEvent) => void;\r\n  appendTranscript: (delta: string) => void;\r\n  reset: () => void;\r\n}\r\n\r\nexport const useAgentStreamStore = create<AgentStreamState>((set) => ({\r\n  runId: null,\r\n  status: 'idle',\r\n  transcript: '',\r\n  events: [],\r\n  error: null,\r\n  lastGoal: null,\r\n  setRun: (runId, goal) =>\r\n    set({ runId, status: 'live', error: null, transcript: '', events: [], lastGoal: goal }),\r\n  setStatus: (status) => set({ status }),\r\n  setError: (error) => set({ error, status: error ? 'error' : 'idle' }),\r\n  appendEvent: (event) =>\r\n    set((state) => ({\r\n      events: [...state.events, event],\r\n    })),\r\n  appendTranscript: (delta) =>\r\n    set((state) => ({\r\n      transcript: state.transcript ? `${state.transcript}${delta}` : delta,\r\n    })),\r\n  reset: () => set({ runId: null, status: 'idle', transcript: '', events: [], error: null, lastGoal: null }),\r\n}));\r\n"],"names":["Bot","createLucideIcon","useAgentStreamStore","create","set","runId","goal","status","error","event","state","delta"],"mappings":"gFASK,MAACA,EAAMC,EAAiB,MAAO,CAClC,CAAC,OAAQ,CAAE,EAAG,YAAa,IAAK,QAAQ,CAAE,EAC1C,CAAC,OAAQ,CAAE,MAAO,KAAM,OAAQ,KAAM,EAAG,IAAK,EAAG,IAAK,GAAI,IAAK,IAAK,QAAQ,CAAE,EAC9E,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,EACzC,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,EACzC,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,CAC1C,CAAC,ECcYC,EAAsBC,EAA0BC,IAAS,CACpE,MAAO,KACP,OAAQ,OACR,WAAY,GACZ,OAAQ,CAAA,EACR,MAAO,KACP,SAAU,KACV,OAAQ,CAACC,EAAOC,IACdF,EAAI,CAAE,MAAAC,EAAO,OAAQ,OAAQ,MAAO,KAAM,WAAY,GAAI,OAAQ,CAAA,EAAI,SAAUC,EAAM,EACxF,UAAYC,GAAWH,EAAI,CAAE,OAAAG,EAAQ,EACrC,SAAWC,GAAUJ,EAAI,CAAE,MAAAI,EAAO,OAAQA,EAAQ,QAAU,OAAQ,EACpE,YAAcC,GACZL,EAAKM,IAAW,CACd,OAAQ,CAAC,GAAGA,EAAM,OAAQD,CAAK,CAAA,EAC/B,EACJ,iBAAmBE,GACjBP,EAAKM,IAAW,CACd,WAAYA,EAAM,WAAa,GAAGA,EAAM,UAAU,GAAGC,CAAK,GAAKA,CAAA,EAC/D,EACJ,MAAO,IAAMP,EAAI,CAAE,MAAO,KAAM,OAAQ,OAAQ,WAAY,GAAI,OAAQ,CAAA,EAAI,MAAO,KAAM,SAAU,KAAM,CAC3G,EAAE","x_google_ignoreList":[0]}