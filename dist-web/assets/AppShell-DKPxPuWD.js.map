{"version":3,"mappings":"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","names":["RotateCcw","createLucideIcon","useTabGraphStore","create","set","get","payload","ipc","error","tabId","INTERNAL_PROTOCOLS","isInternalUrl","url","prefix","TabContentSurface","tab","overlayActive","containerRef","useRef","webviewRef","iframeRef","isElectron","isElectronRuntime","loading","setLoading","useState","failedMessage","setFailedMessage","targetUrl","useMemo","useEffect","webviewElement","handleDidStartLoading","handleDidStopLoading","handleDomReady","handleFailLoad","_event","iframe","jsxs","jsx","Loader2","Globe","STORAGE_KEY","onboardingStorage","useOnboardingStore","fetchRecords","filter","list","filtered","record","a","b","useConsentOverlayStore","records","partial","state","consentId","ErrorBoundary","React","props","errorInfo","result","AlertTriangle","isDevEnv","TopNav","__vitePreload","m","TabStrip","RightPanel","BottomStatus","CommandPalette","PermissionPrompt","ConsentPrompt","AgentOverlay","ClipperOverlay","ReaderOverlay","TabGraphOverlay","ConsentDashboard","OnboardingTour","AppShell","rightPanelOpen","setRightPanelOpen","commandPaletteOpen","setCommandPaletteOpen","permissionRequest","setPermissionRequest","consentRequest","setConsentRequest","isFullscreen","setIsFullscreen","clipperActive","setClipperActive","readerActive","setReaderActive","onboardingVisible","startOnboarding","finishOnboarding","graphDropHint","setGraphDropHint","dragCounter","isGraphDrag","event","types","handleDragEnter","handleDragOver","handleDragLeave","handleDragEnd","handleDrop","handleCustomDragEnd","consentVisible","tabsState","useTabsStore","activeTab","contentSplit","setContentSplit","isResizingContent","setIsResizingContent","activeTabUrl","showWebContent","handleResizeStart","useCallback","handlePointerMove","prev","ratio","handlePointerUp","restoreSummary","setRestoreSummary","restoreDismissed","setRestoreDismissed","restoreStatus","setRestoreStatus","restoreToast","setRestoreToast","restoreRelativeTime","formatDistanceToNow","cancelled","res","summary","timeoutId","useIPCEvent","request","approved","handleFullscreen","data","ipcEvents","handleKeyDown","e","modifier","handleCreateHighlight","highlight","existing","notes","highlights","handleRestoreSession","restoredCount","handleDismissRestore","Suspense","Outlet","Portal"],"ignoreList":[0],"sources":["../../node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","../../src/state/tabGraphStore.ts","../../src/components/layout/TabContentSurface.tsx","../../src/state/onboardingStore.ts","../../src/state/consentOverlayStore.ts","../../src/components/layout/AppShell.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.453.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst RotateCcw = createLucideIcon(\"RotateCcw\", [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n]);\n\nexport { RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.js.map\n","import { create } from 'zustand';\r\nimport { ipc } from '../lib/ipc-typed';\r\n\r\nexport type TabGraphNode = {\r\n  id: string;\r\n  title: string;\r\n  url: string;\r\n  domain: string;\r\n  containerId?: string;\r\n  containerName?: string;\r\n  containerColor?: string;\r\n  mode?: 'normal' | 'ghost' | 'private';\r\n  active: boolean;\r\n  createdAt?: number;\r\n  lastActiveAt?: number;\r\n};\r\n\r\nexport type TabGraphEdge = {\r\n  id: string;\r\n  source: string;\r\n  target: string;\r\n  weight: number;\r\n  reasons: string[];\r\n};\r\n\r\nexport type TabGraphSummary = {\r\n  totalTabs: number;\r\n  activeTabs: number;\r\n  domains: number;\r\n  containers: number;\r\n};\r\n\r\nexport type TabGraphData = {\r\n  nodes: TabGraphNode[];\r\n  edges: TabGraphEdge[];\r\n  summary: TabGraphSummary;\r\n  updatedAt: number;\r\n  clusters?: Array<{ id: string; label: string; tabIds: string[]; domain?: string; strength: number }>;\r\n};\r\n\r\ninterface TabGraphState {\r\n  visible: boolean;\r\n  loading: boolean;\r\n  error: string | null;\r\n  data: TabGraphData | null;\r\n  focusedTabId: string | null;\r\n  open: () => Promise<void>;\r\n  close: () => void;\r\n  toggle: () => Promise<void>;\r\n  refresh: () => Promise<void>;\r\n  setFocusedTab: (tabId: string | null) => void;\r\n  focusTab: (tabId: string) => Promise<void>;\r\n}\r\n\r\nexport const useTabGraphStore = create<TabGraphState>((set, get) => ({\r\n  visible: false,\r\n  loading: false,\r\n  error: null,\r\n  data: null,\r\n  focusedTabId: null,\r\n  async open() {\r\n    if (!get().visible) {\r\n      set({ visible: true });\r\n    }\r\n    await get().refresh();\r\n  },\r\n  close() {\r\n    set({ visible: false, focusedTabId: null });\r\n  },\r\n  async toggle() {\r\n    if (get().visible) {\r\n      set({ visible: false, focusedTabId: null });\r\n    } else {\r\n      set({ visible: true });\r\n      await get().refresh();\r\n    }\r\n  },\r\n  async refresh() {\r\n    set({ loading: true, error: null });\r\n    try {\r\n      const payload = await ipc.graph.tabs();\r\n      if (!payload || typeof payload !== 'object') {\r\n        throw new Error('Graph data unavailable');\r\n      }\r\n      set({ data: payload as TabGraphData, loading: false, error: null });\r\n    } catch (error) {\r\n      set({ loading: false, error: error instanceof Error ? error.message : String(error) });\r\n    }\r\n  },\r\n  setFocusedTab(tabId) {\r\n    set({ focusedTabId: tabId });\r\n  },\r\n  async focusTab(tabId) {\r\n    set({ visible: true, focusedTabId: tabId });\r\n    await get().refresh();\r\n  },\r\n}));\r\n","// @ts-nocheck\r\n\r\nimport { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { Loader2, Globe } from 'lucide-react';\r\nimport type { Tab } from '../../state/tabsStore';\r\nimport { isElectronRuntime } from '../../lib/env';\r\n\r\ninterface TabContentSurfaceProps {\r\n  tab: Tab | undefined;\r\n  overlayActive?: boolean;\r\n}\r\n\r\nconst INTERNAL_PROTOCOLS = ['ob://', 'about:', 'chrome://', 'edge://', 'app://', 'omnibrowser://'];\r\n\r\nfunction isInternalUrl(url?: string | null): boolean {\r\n  if (!url) return true;\r\n  return INTERNAL_PROTOCOLS.some((prefix) => url.startsWith(prefix));\r\n}\r\n\r\nexport function TabContentSurface({ tab, overlayActive }: TabContentSurfaceProps) {\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const webviewRef = useRef<any>(null);\r\n  const iframeRef = useRef<HTMLIFrameElement | null>(null);\r\n  const isElectron = isElectronRuntime();\r\n  const [loading, setLoading] = useState(false);\r\n  const [failedMessage, setFailedMessage] = useState<string | null>(null);\r\n\r\n  const targetUrl = useMemo(() => {\r\n    if (isInternalUrl(tab?.url)) {\r\n      return null;\r\n    }\r\n    return tab?.url ?? 'about:blank';\r\n  }, [tab?.url]);\r\n\r\n  useEffect(() => {\r\n    if (!isElectron || !webviewRef.current || !targetUrl) {\r\n      return;\r\n    }\r\n\r\n    const webviewElement = webviewRef.current as Electron.WebviewTag;\r\n\r\n    const handleDidStartLoading = () => {\r\n      setLoading(true);\r\n      setFailedMessage(null);\r\n    };\r\n\r\n    const handleDidStopLoading = () => {\r\n      setLoading(false);\r\n    };\r\n\r\n    const handleDomReady = () => {\r\n      setLoading(false);\r\n      setFailedMessage(null);\r\n    };\r\n\r\n    const handleFailLoad = (_event: any) => {\r\n      setLoading(false);\r\n      setFailedMessage('Failed to load this page. Please check the URL or your connection.');\r\n    };\r\n\r\n    webviewElement.addEventListener('did-start-loading', handleDidStartLoading);\r\n    webviewElement.addEventListener('did-stop-loading', handleDidStopLoading);\r\n    webviewElement.addEventListener('dom-ready', handleDomReady);\r\n    webviewElement.addEventListener('did-fail-load', handleFailLoad);\r\n\r\n    return () => {\r\n      webviewElement.removeEventListener('did-start-loading', handleDidStartLoading);\r\n      webviewElement.removeEventListener('did-stop-loading', handleDidStopLoading);\r\n      webviewElement.removeEventListener('dom-ready', handleDomReady);\r\n      webviewElement.removeEventListener('did-fail-load', handleFailLoad);\r\n    };\r\n  }, [isElectron, targetUrl]);\r\n\r\n  useEffect(() => {\r\n    if (!targetUrl) {\r\n      setLoading(false);\r\n      setFailedMessage(null);\r\n      return;\r\n    }\r\n\r\n    if (isElectron) {\r\n      const webviewElement = webviewRef.current as Electron.WebviewTag | null;\r\n      if (!webviewElement) return;\r\n      try {\r\n        const currentUrl = webviewElement.getURL?.();\r\n        if (currentUrl !== targetUrl) {\r\n          setLoading(true);\r\n          webviewElement.setAttribute('src', targetUrl);\r\n        }\r\n      } catch (error) {\r\n        console.warn('[TabContentSurface] Failed to update webview src', error);\r\n      }\r\n    } else {\r\n      const iframe = iframeRef.current;\r\n      if (!iframe) return;\r\n      if (iframe.src !== targetUrl) {\r\n        setLoading(true);\r\n        iframe.src = targetUrl;\r\n      }\r\n    }\r\n  }, [isElectron, targetUrl]);\r\n\r\n  if (!targetUrl) {\r\n    return (\r\n      <div className=\"flex h-full w-full flex-col items-center justify-center gap-4 bg-slate-950/40 text-slate-400 backdrop-blur\">\r\n        <div className=\"flex h-20 w-20 items-center justify-center rounded-full bg-slate-900/60\">\r\n          <Globe size={28} className=\"text-slate-500\" />\r\n        </div>\r\n        <div className=\"max-w-sm text-center text-sm leading-relaxed text-slate-300/80\">\r\n          Open a web page or select a research workspace to start browsing. Internal Omni surfaces continue to render on\r\n          the right.\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      className={`relative h-full w-full bg-slate-950 ${overlayActive ? 'pointer-events-none' : ''}`}\r\n    >\r\n      {isElectron ? (\r\n        <webview\r\n          ref={webviewRef}\r\n          className=\"h-full w-full\"\r\n          allowpopups=\"true\"\r\n          autosize=\"on\"\r\n          disablewebsecurity=\"false\"\r\n        />\r\n      ) : (\r\n        <iframe\r\n          ref={iframeRef}\r\n          className=\"h-full w-full\"\r\n          sandbox=\"allow-scripts allow-same-origin allow-forms allow-popups\"\r\n          allow=\"fullscreen\"\r\n          title={tab?.title ?? 'Tab content'}\r\n        />\r\n      )}\r\n\r\n      {loading && (\r\n        <div className=\"pointer-events-none absolute inset-0 z-10 flex items-center justify-center bg-slate-950/50 backdrop-blur-sm\">\r\n          <div className=\"flex items-center gap-3 rounded-full border border-slate-700/60 bg-slate-900/80 px-4 py-2 text-sm text-slate-200 shadow-lg shadow-black/40\">\r\n            <Loader2 className=\"h-4 w-4 animate-spin text-emerald-300\" />\r\n            Loading {new URL(targetUrl).hostname}…\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {failedMessage && (\r\n        <div className=\"pointer-events-none absolute inset-0 z-10 flex items-center justify-center bg-slate-950/80 backdrop-blur-sm\">\r\n          <div className=\"max-w-md rounded-2xl border border-amber-400/40 bg-amber-500/15 px-5 py-4 text-center text-sm text-amber-100 shadow-lg shadow-black/50\">\r\n            {failedMessage}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { create } from 'zustand';\r\n\r\ninterface OnboardingState {\r\n  visible: boolean;\r\n  start: () => void;\r\n  finish: () => void;\r\n  reset: () => void;\r\n}\r\n\r\nconst STORAGE_KEY = 'omnibrowser:onboarding:completed';\r\n\r\nexport const onboardingStorage = {\r\n  isCompleted(): boolean {\r\n    try {\r\n      return window.localStorage.getItem(STORAGE_KEY) === '1';\r\n    } catch {\r\n      return false;\r\n    }\r\n  },\r\n  setCompleted(): void {\r\n    try {\r\n      window.localStorage.setItem(STORAGE_KEY, '1');\r\n    } catch {\r\n      /* ignore */\r\n    }\r\n  },\r\n  clear(): void {\r\n    try {\r\n      window.localStorage.removeItem(STORAGE_KEY);\r\n    } catch {\r\n      /* ignore */\r\n    }\r\n  },\r\n};\r\n\r\nexport const useOnboardingStore = create<OnboardingState>((set) => ({\r\n  visible: false,\r\n  start: () => set({ visible: true }),\r\n  finish: () => {\r\n    onboardingStorage.setCompleted();\r\n    set({ visible: false });\r\n  },\r\n  reset: () => {\r\n    onboardingStorage.clear();\r\n    set({ visible: true });\r\n  },\r\n}));\r\n\r\nif (typeof window !== 'undefined') {\r\n  (window as typeof window & { __STORE?: Record<string, unknown> }).__STORE = {\r\n    ...(window as typeof window & { __STORE?: Record<string, unknown> }).__STORE,\r\n    onboarding: useOnboardingStore,\r\n  };\r\n}","import { create } from 'zustand';\r\nimport { ipc } from '../lib/ipc-typed';\r\nimport type { ConsentRecord, ConsentActionType } from '../types/consent';\r\n\r\ninterface ConsentOverlayState {\r\n  visible: boolean;\r\n  loading: boolean;\r\n  error: string | null;\r\n  filter: {\r\n    type?: ConsentActionType | 'all';\r\n    status?: 'all' | 'pending' | 'approved' | 'revoked';\r\n  };\r\n  records: ConsentRecord[];\r\n  open: () => Promise<void>;\r\n  close: () => void;\r\n  toggle: () => Promise<void>;\r\n  refresh: () => Promise<void>;\r\n  setFilter: (filter: Partial<ConsentOverlayState['filter']>) => Promise<void>;\r\n  approve: (consentId: string) => Promise<void>;\r\n  revoke: (consentId: string) => Promise<void>;\r\n}\r\n\r\nasync function fetchRecords(filter: ConsentOverlayState['filter']): Promise<ConsentRecord[]> {\r\n  const payload: { type?: ConsentActionType; approved?: boolean } = {};\r\n  if (filter.type && filter.type !== 'all') {\r\n    payload.type = filter.type;\r\n  }\r\n  if (filter.status && filter.status !== 'all') {\r\n    if (filter.status === 'pending') {\r\n      payload.approved = false;\r\n    } else if (filter.status === 'approved' || filter.status === 'revoked') {\r\n      payload.approved = true;\r\n    }\r\n  }\r\n  const list = await ipc.consent.list(Object.keys(payload).length > 0 ? payload : undefined);\r\n  if (!Array.isArray(list)) {\r\n    return [];\r\n  }\r\n  let filtered = list;\r\n  if (filter.status === 'pending') {\r\n    filtered = filtered.filter((record) => !record.approved);\r\n  } else if (filter.status === 'approved') {\r\n    filtered = filtered.filter((record) => record.approved && !record.revokedAt);\r\n  } else if (filter.status === 'revoked') {\r\n    filtered = filtered.filter((record) => Boolean(record.revokedAt));\r\n  }\r\n  return filtered.sort((a, b) => b.timestamp - a.timestamp);\r\n}\r\n\r\nexport const useConsentOverlayStore = create<ConsentOverlayState>((set, get) => ({\r\n  visible: false,\r\n  loading: false,\r\n  error: null,\r\n  filter: { type: 'all', status: 'all' },\r\n  records: [],\r\n  async open() {\r\n    if (!get().visible) {\r\n      set({ visible: true });\r\n    }\r\n    await get().refresh();\r\n  },\r\n  close() {\r\n    set({ visible: false });\r\n  },\r\n  async toggle() {\r\n    if (get().visible) {\r\n      set({ visible: false });\r\n    } else {\r\n      set({ visible: true });\r\n      await get().refresh();\r\n    }\r\n  },\r\n  async refresh() {\r\n    set({ loading: true, error: null });\r\n    try {\r\n      const records = await fetchRecords(get().filter);\r\n      set({ records, loading: false, error: null });\r\n    } catch (error) {\r\n      set({\r\n        loading: false,\r\n        error: error instanceof Error ? error.message : String(error),\r\n      });\r\n    }\r\n  },\r\n  async setFilter(partial) {\r\n    set((state) => ({ filter: { ...state.filter, ...partial } }));\r\n    await get().refresh();\r\n  },\r\n  async approve(consentId) {\r\n    await ipc.consent.approve(consentId);\r\n    await get().refresh();\r\n  },\r\n  async revoke(consentId) {\r\n    await ipc.consent.revoke(consentId);\r\n    await get().refresh();\r\n  },\r\n}));\r\n","/**\r\n * AppShell - Main layout container with all components wired\r\n */\r\n\r\nimport React, { useState, useEffect, Suspense, useMemo, useCallback } from 'react';\r\nimport { AlertTriangle, RotateCcw, Loader2 } from 'lucide-react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport { PermissionRequest, ConsentRequest, ipcEvents } from '../../lib/ipc-events';\r\nimport { useIPCEvent } from '../../lib/use-ipc-event';\r\nimport { useTabsStore } from '../../state/tabsStore';\r\nimport { ipc } from '../../lib/ipc-typed';\r\nimport { ResearchHighlight } from '../../types/research';\r\nimport { Portal } from '../common/Portal';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { useTabGraphStore } from '../../state/tabGraphStore';\r\nimport { isDevEnv } from '../../lib/env';\r\nimport { TabContentSurface } from './TabContentSurface';\r\n\r\ntype ErrorBoundaryState = {\r\n  hasError: boolean;\r\n  error?: Error;\r\n  errorInfo?: string;\r\n  copyStatus: 'success' | 'error' | null;\r\n  copyMessage?: string;\r\n  copying: boolean;\r\n};\r\n\r\nclass ErrorBoundary extends React.Component<\r\n  { children: React.ReactNode; fallback?: React.ReactNode; componentName?: string },\r\n  ErrorBoundaryState\r\n> {\r\n  constructor(props: { children: React.ReactNode; fallback?: React.ReactNode; componentName?: string }) {\r\n    super(props);\r\n    this.state = { hasError: false, copyStatus: null, copying: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error) {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\r\n    console.error(\r\n      `ErrorBoundary caught error${this.props.componentName ? ` in ${this.props.componentName}` : ''}:`,\r\n      error,\r\n      errorInfo,\r\n    );\r\n    this.setState({ error, errorInfo: errorInfo.componentStack ?? undefined });\r\n  }\r\n\r\n  private handleReload = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  private handleOpenLogs = async () => {\r\n    try {\r\n      const result = await ipc.diagnostics.openLogs();\r\n      this.setState({\r\n        copyStatus: result?.success ? 'success' : 'error',\r\n        copyMessage: result?.success ? 'Logs folder opened.' : 'Unable to open logs folder.',\r\n        copying: false,\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to open logs folder from error boundary:', error);\r\n      this.setState({\r\n        copyStatus: 'error',\r\n        copyMessage: 'Failed to open logs folder.',\r\n        copying: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  private handleCopyDiagnostics = async () => {\r\n    if (this.state.copying) return;\r\n    this.setState({ copying: true, copyStatus: null, copyMessage: undefined });\r\n    try {\r\n      const result = await ipc.diagnostics.copyDiagnostics();\r\n      if (result?.diagnostics && navigator?.clipboard?.writeText) {\r\n        await navigator.clipboard.writeText(result.diagnostics);\r\n        this.setState({\r\n          copyStatus: 'success',\r\n          copyMessage: 'Diagnostics copied to clipboard.',\r\n          copying: false,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          copyStatus: 'error',\r\n          copyMessage: 'Clipboard unavailable. Diagnostics logged to console.',\r\n          copying: false,\r\n        });\r\n        console.info('[Diagnostics] Summary:', result?.diagnostics);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to copy diagnostics from error boundary:', error);\r\n      this.setState({\r\n        copyStatus: 'error',\r\n        copyMessage: 'Failed to copy diagnostics.',\r\n        copying: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      return (\r\n        <div className=\"flex min-h-screen w-full items-center justify-center bg-slate-950 px-6 py-12 text-gray-100\">\r\n          <div className=\"w-full max-w-xl space-y-5 rounded-2xl border border-slate-800 bg-slate-900/70 p-6 shadow-lg\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <div className=\"rounded-full bg-red-500/20 p-2 text-red-200\">\r\n                <AlertTriangle className=\"h-5 w-5\" />\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-lg font-semibold text-red-200\">\r\n                  Something went wrong{this.props.componentName ? ` inside ${this.props.componentName}` : ''}.\r\n                </h1>\r\n                {this.state.error?.message && (\r\n                  <p className=\"mt-2 text-sm text-red-100/80\">{this.state.error.message}</p>\r\n                )}\r\n                <p className=\"mt-2 text-sm text-gray-400\">\r\n                  Try reloading the interface. You can also copy diagnostics or inspect the latest logs to share with the\r\n                  team.\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-wrap gap-3\">\r\n              <button\r\n                onClick={this.handleReload}\r\n                className=\"rounded-lg border border-blue-500/50 bg-blue-500/10 px-4 py-2 text-sm font-medium text-blue-100 hover:border-blue-500/70 transition-colors\"\r\n              >\r\n                Reload app\r\n              </button>\r\n              <button\r\n                onClick={this.handleCopyDiagnostics}\r\n                disabled={this.state.copying}\r\n                className={`rounded-lg border px-4 py-2 text-sm font-medium transition-colors ${\r\n                  this.state.copying\r\n                    ? 'border-indigo-500/30 bg-indigo-500/10 text-indigo-200/60 cursor-wait'\r\n                    : 'border-indigo-500/50 bg-indigo-500/10 text-indigo-100 hover:border-indigo-500/70'\r\n                }`}\r\n              >\r\n                {this.state.copying ? 'Copying…' : 'Copy diagnostics'}\r\n              </button>\r\n              <button\r\n                onClick={this.handleOpenLogs}\r\n                className=\"rounded-lg border border-emerald-500/50 bg-emerald-500/10 px-4 py-2 text-sm font-medium text-emerald-100 hover:border-emerald-500/70 transition-colors\"\r\n              >\r\n                Open logs folder\r\n              </button>\r\n            </div>\r\n\r\n            {this.state.copyMessage && (\r\n              <div\r\n                className={`text-sm ${\r\n                  this.state.copyStatus === 'success' ? 'text-emerald-300' : 'text-red-300'\r\n                }`}\r\n              >\r\n                {this.state.copyMessage}\r\n              </div>\r\n            )}\r\n\r\n            {isDevEnv() && this.state.errorInfo && (\r\n              <details className=\"text-xs text-gray-400\">\r\n                <summary className=\"cursor-pointer text-gray-300\">Stack trace</summary>\r\n                <pre className=\"mt-2 max-h-48 overflow-auto whitespace-pre-wrap rounded bg-black/40 p-3\">\r\n                  {this.state.errorInfo}\r\n                </pre>\r\n              </details>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\n// Lazy load heavy components\r\nconst TopNav = React.lazy(() => import('./TopNav').then(m => ({ default: m.TopNav })));\r\nconst TabStrip = React.lazy(() => import('./TabStrip').then(m => ({ default: m.TabStrip })));\r\nconst RightPanel = React.lazy(() => import('./RightPanel').then(m => ({ default: m.RightPanel })));\r\nconst BottomStatus = React.lazy(() => import('./BottomStatus').then(m => ({ default: m.BottomStatus })));\r\nconst CommandPalette = React.lazy(() => import('./CommandPalette').then(m => ({ default: m.CommandPalette })));\r\nconst PermissionPrompt = React.lazy(() => import('../Overlays/PermissionPrompt').then(m => ({ default: m.PermissionPrompt })));\r\nconst ConsentPrompt = React.lazy(() => import('../Overlays/ConsentPrompt').then(m => ({ default: m.ConsentPrompt })));\r\nconst AgentOverlay = React.lazy(() => import('../AgentOverlay').then(m => ({ default: m.AgentOverlay })));\r\nconst ClipperOverlay = React.lazy(() => import('../Overlays/ClipperOverlay').then(m => ({ default: m.ClipperOverlay })));\r\nconst ReaderOverlay = React.lazy(() => import('../Overlays/ReaderOverlay').then(m => ({ default: m.ReaderOverlay })));\r\nconst TabGraphOverlay = React.lazy(() => import('./TabGraphOverlay').then(m => ({ default: m.TabGraphOverlay })));\r\nconst ConsentDashboard = React.lazy(() => import('../Consent/ConsentDashboard').then(m => ({ default: m.ConsentDashboard })));\r\nconst OnboardingTour = React.lazy(() => import('../Onboarding/OnboardingTour').then(m => ({ default: m.OnboardingTour })));\r\n\r\nimport { useOnboardingStore, onboardingStorage } from '../../state/onboardingStore';\r\nimport { useConsentOverlayStore } from '../../state/consentOverlayStore';\r\n\r\nexport function AppShell() {\r\n  const [rightPanelOpen, setRightPanelOpen] = useState(false);\r\n  const [commandPaletteOpen, setCommandPaletteOpen] = useState(false);\r\n  const [permissionRequest, setPermissionRequest] = useState<PermissionRequest | null>(null);\r\n  const [consentRequest, setConsentRequest] = useState<ConsentRequest | null>(null);\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n  const [clipperActive, setClipperActive] = useState(false);\r\n  const [readerActive, setReaderActive] = useState(false);\r\n  const onboardingVisible = useOnboardingStore((state) => state.visible);\r\n  const startOnboarding = useOnboardingStore((state) => state.start);\r\n  const finishOnboarding = useOnboardingStore((state) => state.finish);\r\n  const [graphDropHint, setGraphDropHint] = useState(false);\r\n  useEffect(() => {\r\n    let dragCounter = 0;\r\n\r\n    const isGraphDrag = (event: DragEvent) => {\r\n      const types = event.dataTransfer?.types;\r\n      if (!types) return false;\r\n      return Array.from(types).includes('application/x-omnibrowser-tab-id');\r\n    };\r\n\r\n    const handleDragEnter = (event: DragEvent) => {\r\n      if (!isGraphDrag(event)) return;\r\n      event.preventDefault();\r\n      dragCounter += 1;\r\n      setGraphDropHint(true);\r\n    };\r\n\r\n    const handleDragOver = (event: DragEvent) => {\r\n      if (!isGraphDrag(event)) return;\r\n      event.preventDefault();\r\n      if (event.dataTransfer) {\r\n        event.dataTransfer.dropEffect = 'copy';\r\n      }\r\n    };\r\n\r\n    const handleDragLeave = (event: DragEvent) => {\r\n      if (!isGraphDrag(event)) return;\r\n      dragCounter = Math.max(0, dragCounter - 1);\r\n      if (dragCounter === 0) {\r\n        setGraphDropHint(false);\r\n      }\r\n    };\r\n\r\n    const handleDragEnd = () => {\r\n      dragCounter = 0;\r\n      setGraphDropHint(false);\r\n    };\r\n\r\n    const handleDrop = (event: DragEvent) => {\r\n      if (!isGraphDrag(event)) return;\r\n      event.preventDefault();\r\n      dragCounter = 0;\r\n      setGraphDropHint(false);\r\n      const tabId = event.dataTransfer?.getData('application/x-omnibrowser-tab-id');\r\n      if (tabId) {\r\n        try {\r\n          void useTabGraphStore.getState().focusTab(tabId);\r\n        } catch (error) {\r\n          if (isDevEnv()) {\r\n            console.warn('[AppShell] Failed to focus tab graph from drop', error);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    const handleCustomDragEnd = () => {\r\n      dragCounter = 0;\r\n      setGraphDropHint(false);\r\n    };\r\n\r\n    document.addEventListener('dragenter', handleDragEnter);\r\n    document.addEventListener('dragover', handleDragOver);\r\n    document.addEventListener('dragleave', handleDragLeave);\r\n    document.addEventListener('dragend', handleDragEnd);\r\n    document.addEventListener('drop', handleDrop);\r\n    window.addEventListener('tabgraph:dragend', handleCustomDragEnd as EventListener);\r\n\r\n    return () => {\r\n      document.removeEventListener('dragenter', handleDragEnter);\r\n      document.removeEventListener('dragover', handleDragOver);\r\n      document.removeEventListener('dragleave', handleDragLeave);\r\n      document.removeEventListener('dragend', handleDragEnd);\r\n      document.removeEventListener('drop', handleDrop);\r\n      window.removeEventListener('tabgraph:dragend', handleCustomDragEnd as EventListener);\r\n    };\r\n  }, []);\r\n  const consentVisible = useConsentOverlayStore((state) => state.visible);\r\n  const tabsState = useTabsStore();\r\n  const activeTab = tabsState.tabs.find(tab => tab.id === tabsState.activeId);\r\n  const [contentSplit, setContentSplit] = useState(0.62);\r\n  const [isResizingContent, setIsResizingContent] = useState(false);\r\n  const overlayActive =\r\n    commandPaletteOpen ||\r\n    Boolean(permissionRequest) ||\r\n    Boolean(consentRequest) ||\r\n    clipperActive ||\r\n    readerActive;\r\n  const activeTabUrl = activeTab?.url ?? '';\r\n  const showWebContent =\r\n    Boolean(activeTabUrl) &&\r\n    !activeTabUrl.startsWith('ob://') &&\r\n    !activeTabUrl.startsWith('about:') &&\r\n    !activeTabUrl.startsWith('chrome://') &&\r\n    !activeTabUrl.startsWith('edge://') &&\r\n    !activeTabUrl.startsWith('app://');\r\n  const handleResizeStart = useCallback(() => {\r\n    if (!showWebContent) return;\r\n    setIsResizingContent(true);\r\n  }, [showWebContent]);\r\n\r\n  useEffect(() => {\r\n    if (!isResizingContent) return;\r\n\r\n    const handlePointerMove = (event: MouseEvent) => {\r\n      setContentSplit((prev) => {\r\n        const ratio = event.clientX / window.innerWidth;\r\n        if (Number.isNaN(ratio)) return prev;\r\n        return Math.min(0.85, Math.max(0.25, ratio));\r\n      });\r\n    };\r\n\r\n    const handlePointerUp = () => {\r\n      setIsResizingContent(false);\r\n    };\r\n\r\n    window.addEventListener('mousemove', handlePointerMove);\r\n    window.addEventListener('mouseup', handlePointerUp);\r\n\r\n    return () => {\r\n      window.removeEventListener('mousemove', handlePointerMove);\r\n      window.removeEventListener('mouseup', handlePointerUp);\r\n    };\r\n  }, [isResizingContent]);\r\n\r\n  const [restoreSummary, setRestoreSummary] = useState<{ updatedAt: number; windowCount: number; tabCount: number } | null>(null);\r\n  const [restoreDismissed, setRestoreDismissed] = useState(false);\r\n  const [restoreStatus, setRestoreStatus] = useState<'idle' | 'restoring'>('idle');\r\n  const [restoreToast, setRestoreToast] = useState<{ message: string; variant: 'success' | 'error' } | null>(null);\r\n  const restoreRelativeTime = useMemo(() => {\r\n    if (!restoreSummary) return null;\r\n    try {\r\n      return formatDistanceToNow(new Date(restoreSummary.updatedAt), { addSuffix: true });\r\n    } catch {\r\n      return null;\r\n    }\r\n  }, [restoreSummary]);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n    if (!onboardingStorage.isCompleted() && !onboardingVisible) {\r\n      startOnboarding();\r\n    }\r\n  }, [onboardingVisible, startOnboarding]);\r\n\r\n  useEffect(() => {\r\n    if (restoreDismissed) return;\r\n    let cancelled = false;\r\n    ipc.sessionState\r\n      .summary()\r\n      .then((res) => {\r\n        if (cancelled) return;\r\n        const summary = res?.summary;\r\n        if (summary && summary.tabCount > 0) {\r\n          setRestoreSummary(summary);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        if (!cancelled) {\r\n          setRestoreSummary(null);\r\n        }\r\n      });\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [restoreDismissed]);\r\n\r\n  useEffect(() => {\r\n    if (!restoreToast) return;\r\n    const timeoutId = window.setTimeout(() => {\r\n      setRestoreToast(null);\r\n    }, 6000);\r\n    return () => {\r\n      window.clearTimeout(timeoutId);\r\n    };\r\n  }, [restoreToast]);\r\n\r\n  // Listen for permission requests\r\n  useIPCEvent<PermissionRequest>('permissions:request', (request) => {\r\n    setPermissionRequest(request);\r\n  }, []);\r\n\r\n  // Listen for consent requests\r\n  useIPCEvent<any>(\r\n    'agent:consent:request',\r\n    (payload) => {\r\n      if (!payload || !payload.id || !payload.action) return;\r\n      const request: ConsentRequest = {\r\n        id: payload.id,\r\n        action: {\r\n          type: payload.action.type,\r\n          description: payload.action.description,\r\n          risk: payload.action.risk ?? 'medium',\r\n        },\r\n        callback: async (approved: boolean) => {\r\n          try {\r\n            if (approved) {\r\n              await ipc.consent.approve(payload.id);\r\n            } else {\r\n              await ipc.consent.revoke(payload.id);\r\n            }\r\n          } catch (error) {\r\n            console.error('Failed to resolve consent:', error);\r\n          } finally {\r\n            setConsentRequest(null);\r\n          }\r\n        },\r\n      };\r\n      setConsentRequest(request);\r\n    },\r\n    [],\r\n  );\r\n\r\n  // Listen for fullscreen changes\r\n  useEffect(() => {\r\n    const handleFullscreen = (data: { fullscreen: boolean }) => {\r\n      setIsFullscreen(data.fullscreen);\r\n    };\r\n    \r\n    // Use the IPC event bus\r\n    const unsubscribe = ipcEvents.on<{ fullscreen: boolean }>('app:fullscreen-changed', handleFullscreen);\r\n    \r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  // Global keyboard shortcuts (Windows/Linux: Ctrl, macOS: Cmd)\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\r\n      const modifier = isMac ? e.metaKey : e.ctrlKey;\r\n\r\n      // ⌘K / Ctrl+K: Command Palette\r\n      if (modifier && !e.shiftKey && !e.altKey && e.key.toLowerCase() === 'k') {\r\n        e.preventDefault();\r\n        setCommandPaletteOpen(true);\r\n        return;\r\n      }\r\n\r\n      // ⌘L / Ctrl+L: Focus URL bar (handled in Omnibox, but ensure it works)\r\n      if (modifier && !e.shiftKey && !e.altKey && e.key.toLowerCase() === 'l') {\r\n        // Let Omnibox handle this, but don't prevent default if it's already handled\r\n        return;\r\n      }\r\n\r\n      // ⌘T / Ctrl+T: New Tab\r\n      if (modifier && !e.shiftKey && !e.altKey && e.key.toLowerCase() === 't') {\r\n        e.preventDefault();\r\n        ipc.tabs.create('about:blank').catch(console.error);\r\n        return;\r\n      }\r\n\r\n      // ⌘W / Ctrl+W: Close Tab\r\n      if (modifier && !e.shiftKey && !e.altKey && e.key.toLowerCase() === 'w') {\r\n        e.preventDefault();\r\n        const state = useTabsStore.getState();\r\n        if (state.activeId) {\r\n          ipc.tabs.close({ id: state.activeId }).catch(console.error);\r\n        }\r\n        return;\r\n      }\r\n\r\n      // ⌘⇧T / Ctrl+Shift+T: Reopen Closed Tab\r\n      if (modifier && e.shiftKey && !e.altKey && e.key.toLowerCase() === 't') {\r\n        e.preventDefault();\r\n        // Would reopen last closed tab - need to implement closed tab history\r\n        return;\r\n      }\r\n\r\n      // ⌘⇧A / Ctrl+Shift+A: Toggle Agent Console\r\n      if (modifier && e.shiftKey && !e.altKey && e.key.toLowerCase() === 'a') {\r\n        e.preventDefault();\r\n        setRightPanelOpen(prev => !prev);\r\n        return;\r\n      }\r\n\r\n      // ⌘⇧H / Ctrl+Shift+H: Highlight clipper\r\n      if (modifier && e.shiftKey && !e.altKey && e.key.toLowerCase() === 'h') {\r\n        e.preventDefault();\r\n        if (useTabsStore.getState().activeId) {\r\n          setClipperActive(true);\r\n        }\r\n        return;\r\n      }\r\n\r\n      // ⌥⌘P / Alt+Ctrl+P: Proxy Menu (opens NetworkButton menu)\r\n      if (modifier && e.altKey && e.key.toLowerCase() === 'p') {\r\n        e.preventDefault();\r\n        // Trigger NetworkButton click via data attribute\r\n        const networkButton = document.querySelector('[data-network-button]') as HTMLElement;\r\n        networkButton?.click();\r\n        return;\r\n      }\r\n\r\n      // ⌥⌘S / Alt+Ctrl+S: Shields Menu (opens ShieldsButton menu)\r\n      if (modifier && e.altKey && e.key.toLowerCase() === 's') {\r\n        e.preventDefault();\r\n        // Trigger ShieldsButton click via data attribute\r\n        const shieldsButton = document.querySelector('[data-shields-button]') as HTMLElement;\r\n        shieldsButton?.click();\r\n        return;\r\n      }\r\n\r\n      // ⌘F / Ctrl+F: Find in Page (handled by browser)\r\n      if (modifier && !e.shiftKey && !e.altKey && e.key.toLowerCase() === 'f') {\r\n        return;\r\n      }\r\n\r\n      // Alt+← / ⌘←: Go back (handled by TopNav)\r\n      // Alt+→ / ⌘→: Go forward (handled by TopNav)\r\n      // Ctrl+R / ⌘R: Refresh (handled by TopNav)\r\n\r\n      // Esc: Close modals\r\n      if (e.key === 'Escape') {\r\n        if (clipperActive) {\r\n          setClipperActive(false);\r\n        } else if (commandPaletteOpen) {\r\n          setCommandPaletteOpen(false);\r\n        } else if (permissionRequest) {\r\n          setPermissionRequest(null);\r\n        } else if (consentRequest) {\r\n          setConsentRequest(null);\r\n        } else if (rightPanelOpen) {\r\n          setRightPanelOpen(false);\r\n        }\r\n        return;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [commandPaletteOpen, permissionRequest, consentRequest, rightPanelOpen, clipperActive]);\r\n\r\n  const handleCreateHighlight = async (highlight: ResearchHighlight) => {\r\n    if (!activeTab?.url) {\r\n      setClipperActive(false);\r\n      return;\r\n    }\r\n    try {\r\n      const existing = await ipc.research.getNotes(activeTab.url);\r\n      const notes = existing?.notes ?? '';\r\n      const highlights = Array.isArray(existing?.highlights) ? existing.highlights : [];\r\n      await ipc.research.saveNotes(activeTab.url, notes, [...highlights, highlight]);\r\n      ipcEvents.emit('research:highlight-added', { url: activeTab.url, highlight });\r\n    } catch (error) {\r\n      console.error('Failed to save highlight:', error);\r\n    } finally {\r\n      setClipperActive(false);\r\n    }\r\n  };\r\n\r\n  const handleRestoreSession = async () => {\r\n    if (!restoreSummary || restoreStatus === 'restoring') return;\r\n    setRestoreStatus('restoring');\r\n    try {\r\n      const result = await ipc.sessionState.restore();\r\n      if (result?.restored) {\r\n        const restoredCount = result.tabCount ?? restoreSummary.tabCount ?? 0;\r\n        setRestoreToast({\r\n          message: `Restored ${restoredCount} tab${restoredCount === 1 ? '' : 's'} from last session.`,\r\n          variant: 'success',\r\n        });\r\n        setRestoreSummary(null);\r\n        setRestoreDismissed(true);\r\n      } else if (result?.error) {\r\n        setRestoreToast({\r\n          message: `Restore failed: ${result.error}`,\r\n          variant: 'error',\r\n        });\r\n      } else {\r\n        setRestoreToast({\r\n          message: 'No saved session snapshot available to restore.',\r\n          variant: 'error',\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to restore session snapshot:', error);\r\n      setRestoreToast({\r\n        message: 'Failed to restore session snapshot.',\r\n        variant: 'error',\r\n      });\r\n    } finally {\r\n      setRestoreStatus('idle');\r\n    }\r\n  };\r\n\r\n  const handleDismissRestore = () => {\r\n    setRestoreDismissed(true);\r\n    setRestoreSummary(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative flex h-screen w-screen flex-col overflow-hidden bg-[#1A1D28] text-gray-100\">\r\n      {/* Top Navigation - Hidden in fullscreen */}\r\n      {!isFullscreen && (\r\n        <div className=\"flex-none\">\r\n          <Suspense fallback={<div style={{ height: '40px', backgroundColor: '#0f172a' }} />}>\r\n            <ErrorBoundary\r\n              componentName=\"TopNav\"\r\n              fallback={\r\n                <div style={{ height: '40px', backgroundColor: '#0f172a', padding: '8px', color: '#94a3b8' }}>\r\n                  Navigation Error\r\n                </div>\r\n              }\r\n            >\r\n              <TopNav\r\n                onAgentToggle={() => setRightPanelOpen(!rightPanelOpen)}\r\n                onCommandPalette={() => setCommandPaletteOpen(true)}\r\n                onClipperToggle={() => {\r\n                  if (tabsState.activeId) {\r\n                    setClipperActive(true);\r\n                  }\r\n                }}\r\n                onReaderToggle={() => {\r\n                  if (tabsState.activeId) {\r\n                    setReaderActive(true);\r\n                  }\r\n                }}\r\n              />\r\n            </ErrorBoundary>\r\n          </Suspense>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Layout - Full Width (No Sidebar) */}\r\n      <div className=\"flex flex-1 min-h-0 w-full overflow-hidden\">\r\n        {/* Center Content - Full Width */}\r\n        <div className=\"flex min-w-0 flex-1 flex-col overflow-hidden\">\r\n          {!isFullscreen && restoreSummary && !restoreDismissed && (\r\n            <div className=\"px-4 pt-3\">\r\n              <div className=\"flex flex-col gap-3 rounded-xl border border-blue-500/40 bg-blue-500/10 px-4 py-3 sm:flex-row sm:items-center sm:justify-between\">\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-sm font-semibold text-blue-100\">Restore your last browsing session?</p>\r\n                  <p className=\"text-xs text-blue-200\">\r\n                    Last saved {restoreRelativeTime ?? 'recently'} • {restoreSummary.windowCount} window\r\n                    {restoreSummary.windowCount === 1 ? '' : 's'}, {restoreSummary.tabCount} tab\r\n                    {restoreSummary.tabCount === 1 ? '' : 's'}\r\n                  </p>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleRestoreSession}\r\n                    disabled={restoreStatus === 'restoring'}\r\n                    className=\"inline-flex items-center rounded-lg border border-blue-500/60 bg-blue-600/20 px-3 py-1.5 text-sm font-medium text-blue-100 transition-colors hover:bg-blue-600/30 disabled:cursor-not-allowed disabled:opacity-60\"\r\n                  >\r\n                    {restoreStatus === 'restoring' ? (\r\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                    ) : (\r\n                      <RotateCcw className=\"mr-2 h-4 w-4\" />\r\n                    )}\r\n                    Restore\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleDismissRestore}\r\n                    className=\"rounded-lg border border-slate-700 bg-slate-800/60 px-3 py-1.5 text-sm text-slate-300 transition-colors hover:bg-slate-700/80\"\r\n                  >\r\n                    Dismiss\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {/* Tab Strip - Hidden in fullscreen */}\r\n          {!isFullscreen && (\r\n        <Suspense fallback={null}>\r\n          <ErrorBoundary componentName=\"TabStrip\">\r\n            <TabStrip />\r\n          </ErrorBoundary>\r\n        </Suspense>\r\n          )}\r\n\r\n          {/* Route/Web Content */}\r\n          {showWebContent ? (\r\n            <div className=\"flex flex-1 min-h-0 min-w-0 overflow-hidden\">\r\n              <div\r\n                className=\"min-h-0 min-w-[320px] flex-shrink-0 flex-grow-0\"\r\n                style={{ width: `${Math.round(contentSplit * 100)}%` }}\r\n              >\r\n                <TabContentSurface tab={activeTab} overlayActive={overlayActive} />\r\n              </div>\r\n              <div\r\n                onMouseDown={handleResizeStart}\r\n                className=\"z-20 flex h-full w-[6px] cursor-col-resize items-center justify-center bg-slate-900/50 transition-colors hover:bg-slate-800\"\r\n              >\r\n                <div className=\"h-24 w-[2px] rounded-full bg-slate-700/80\" />\r\n              </div>\r\n              <div\r\n                className=\"relative min-h-0 min-w-[260px] flex-1 overflow-hidden\"\r\n                style={{ width: `${Math.round((1 - contentSplit) * 100)}%` }}\r\n              >\r\n                <div className={`h-full min-h-0 overflow-auto border-l border-slate-800/60 bg-slate-950/40`}>\r\n                  <Outlet />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className={`relative flex-1 min-h-0 min-w-0 overflow-hidden ${isFullscreen ? 'absolute inset-0' : ''}`}>\r\n              <div className={`h-full min-h-0 overflow-auto ${overlayActive ? 'webview--masked' : ''}`}>\r\n                <Outlet />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Right Panel (Agent Console) - Hidden in fullscreen */}\r\n        {!isFullscreen && (\r\n        <Suspense fallback={null}>\r\n          <ErrorBoundary componentName=\"RightPanel\">\r\n            <div className=\"h-full min-h-0 w-[340px] max-w-[380px] overflow-y-auto border-l border-slate-800/60\">\r\n              <RightPanel \r\n                open={rightPanelOpen}\r\n                onClose={() => setRightPanelOpen(false)}\r\n              />\r\n            </div>\r\n          </ErrorBoundary>\r\n        </Suspense>\r\n        )}\r\n      </div>\r\n\r\n      {/* Bottom Status Bar - Hidden in fullscreen */}\r\n      {!isFullscreen && (\r\n        <div className=\"flex-none\">\r\n          <Suspense fallback={null}>\r\n            <ErrorBoundary componentName=\"BottomStatus\">\r\n              <BottomStatus />\r\n            </ErrorBoundary>\r\n          </Suspense>\r\n        </div>\r\n      )}\r\n\r\n      {/* Agent Overlay */}\r\n      <Suspense fallback={null}>\r\n        <Portal>\r\n          <ErrorBoundary componentName=\"AgentOverlay\">\r\n            <AgentOverlay />\r\n          </ErrorBoundary>\r\n        </Portal>\r\n      </Suspense>\r\n\r\n      <Suspense fallback={null}>\r\n        <Portal>\r\n          <ErrorBoundary componentName=\"ClipperOverlay\">\r\n            <ClipperOverlay\r\n              active={clipperActive}\r\n              onCancel={() => setClipperActive(false)}\r\n              onCreateHighlight={handleCreateHighlight}\r\n            />\r\n          </ErrorBoundary>\r\n        </Portal>\r\n      </Suspense>\r\n\r\n      <Suspense fallback={null}>\r\n        <Portal>\r\n          <ErrorBoundary componentName=\"ReaderOverlay\">\r\n            <ReaderOverlay\r\n              active={readerActive}\r\n              onClose={() => setReaderActive(false)}\r\n              tabId={tabsState.activeId}\r\n              url={activeTab?.url}\r\n            />\r\n          </ErrorBoundary>\r\n        </Portal>\r\n      </Suspense>\r\n\r\n      {graphDropHint && (\r\n        <Portal>\r\n          <div className=\"pointer-events-none fixed inset-0 z-[1030] flex items-center justify-center\">\r\n            <div className=\"rounded-3xl border border-purple-500/40 bg-purple-900/50 px-8 py-6 text-center shadow-[0_0_60px_rgba(168,85,247,0.35)] backdrop-blur-sm\">\r\n              <div className=\"text-[11px] uppercase tracking-[0.3em] text-purple-200/70\">Tab graph</div>\r\n              <div className=\"mt-2 text-lg font-semibold text-purple-100\">Drop to map this tab&apos;s DNA</div>\r\n              <div className=\"mt-1 text-xs text-purple-200/80\">Release anywhere to open the graph overlay.</div>\r\n            </div>\r\n          </div>\r\n        </Portal>\r\n      )}\r\n\r\n      <Suspense fallback={null}>\r\n        <Portal>\r\n          <ErrorBoundary componentName=\"TabGraphOverlay\">\r\n            <TabGraphOverlay />\r\n          </ErrorBoundary>\r\n        </Portal>\r\n      </Suspense>\r\n\r\n      {consentVisible && (\r\n        <Suspense fallback={null}>\r\n          <Portal>\r\n            <ErrorBoundary componentName=\"ConsentDashboard\">\r\n              <ConsentDashboard />\r\n            </ErrorBoundary>\r\n          </Portal>\r\n        </Suspense>\r\n      )}\r\n\r\n      {onboardingVisible && (\r\n        <Suspense fallback={null}>\r\n          <Portal>\r\n            <ErrorBoundary componentName=\"OnboardingTour\">\r\n              <OnboardingTour\r\n                onClose={() => {\r\n                  finishOnboarding();\r\n                }}\r\n              />\r\n            </ErrorBoundary>\r\n          </Portal>\r\n        </Suspense>\r\n      )}\r\n\r\n      {/* Overlays */}\r\n      {commandPaletteOpen && (\r\n        <Suspense fallback={null}>\r\n          <Portal>\r\n            <ErrorBoundary componentName=\"CommandPalette\">\r\n              <CommandPalette onClose={() => setCommandPaletteOpen(false)} />\r\n            </ErrorBoundary>\r\n          </Portal>\r\n        </Suspense>\r\n      )}\r\n\r\n      {permissionRequest && (\r\n        <Suspense fallback={null}>\r\n          <Portal>\r\n            <ErrorBoundary componentName=\"PermissionPrompt\">\r\n              <PermissionPrompt \r\n                request={permissionRequest}\r\n                onClose={() => setPermissionRequest(null)}\r\n              />\r\n            </ErrorBoundary>\r\n          </Portal>\r\n        </Suspense>\r\n      )}\r\n\r\n      {consentRequest && (\r\n        <Suspense fallback={null}>\r\n          <Portal>\r\n            <ErrorBoundary componentName=\"ConsentPrompt\">\r\n              <ConsentPrompt \r\n                request={consentRequest}\r\n                onClose={() => setConsentRequest(null)}\r\n              />\r\n            </ErrorBoundary>\r\n          </Portal>\r\n        </Suspense>\r\n      )}\r\n      {restoreToast && (\r\n        <Portal>\r\n          <div className=\"fixed bottom-6 right-6 z-50\">\r\n            <div\r\n              className={`rounded-xl border px-4 py-3 text-sm shadow-xl shadow-black/40 ${\r\n                restoreToast.variant === 'success'\r\n                  ? 'border-emerald-400/40 bg-emerald-500/15 text-emerald-100'\r\n                  : 'border-amber-400/40 bg-amber-500/15 text-amber-100'\r\n              }`}\r\n            >\r\n              {restoreToast.message}\r\n            </div>\r\n          </div>\r\n        </Portal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"file":"AppShell-DKPxPuWD.js"}